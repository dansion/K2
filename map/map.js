/*
 * @version:1-0-0
 * @alimap version: 0.24
 */
(function(){function T(bq,bp){for(var bo in bp){bq[bo]=bp[bo]}}var U=["-resize","beforeeditdelete","beforeeditadd","beforeeditmove","drawend","drawstart","selectstart","\u8857\u9053","\u5168\u56fd","\u7f29\u5c0f","\u653e\u5927","refresh","zoomcursor","zoomout","zoomin","moveright","moveleft","movedown","moveup","auto","#FF6600","solid ","left","#FFFFFF","current","contextmenu","center","centerandzoom","dblclick","mouseout","mouseover","touchstart","maptypechanged","geocenterchange","dragend","dragstart","scalestart","moveend","scaleend","aftermove","movestart","afterscalechange","beforescalechange","initialize","zoomlevelschange","projectionchange","afterresize","click","number","nowrap","12px","url(#default#VML)","dotted","stroke-dasharray","stroke-width","#000000","http://www.w3.org/2000/svg","round","transparent","polygon","polyline","oval","start","mouseup","mousemove","mousedown","pointer","object","_ali_PrintPanel","relative","repeat-x","transform","MozTransform","WebkitTransform","string","progid:DXImageTransform.Microsoft.Alpha(opacity=","default","100%","absolute","visible","hidden","none","undefined","__E__"];
var aK=(location.protocol=="https:"?"https:":"http:")+"//ditu.aliyun.com/v0.24/img/";function N(){}function S(bo){bo=bo?bo:aZ(arguments)[0];bg(bo);bd(document,bo.type,[bo])}function Q(br,bq,bo,bp){return bc(br,bq,K(br)?aY(bo,bp):a5(bo,bp))}function P(bo){return document.all?bo.button:(bo.button==2?2:1)}function M(){var bp=N.allEvents;if(bp){for(var bo=bp.length-1;bo>=0;bo--){a6(bp[bo])}}N.allEvents=null}function K(bo){return(bo.tagName||bo==window||bo==document)}function J(){if(!N.allEvents){N.allEvents=[]}if(!N.unLoadListener){N.unLoadListener=bc(window,"unload",M)
}}function bg(){var bp=aZ(arguments)[0];if(!bp){return}try{bp.stopPropagation()}catch(bo){bp.cancelBubble=true}}function bf(bo,bp){if(!bo){return}if(bo.parentNode&&!bp){bo.parentNode.removeChild(bo)}if(!bp){a8(bo)}var bq;while(bq=bo.firstChild){bf(bq)}}function bd(bt,bo,bx,bz){if(K(bt)){try{if(bt.fireEvent){bt.fireEvent("on"+bo,bx?bx[0]:null)}if(bt.dispatchEvent){var bw=document.createEvent("MouseEvent"),bv=bx?bx[0]:null;if(bw&&bv){bw.initMouseEvent(bo,(bz!==false),true,bv.view,bv.detail,bv.screenX,bv.screenY,bv.clientX,bv.clientY,bv.ctrlKey,bv.altKey,bv.shiftKey,bv.metaKey,bv.button,bv.relatedTarget);
bw.wheelDelta=bv.wheelDelta;bt.dispatchEvent(bw)}}}catch(bv){}}if(!bx){bx=[]}var bp=true,by=bt[U[83]+bo];if(by&&by.length>0){by=by.concat([]);var bu=by.length;for(var bs=0;bs<bu;bs++){var br=by[bs];if(br&&br.handle){var bq=br.handle.apply(bt,bx);if(bq===false){bp=false}}}}return bp}function bc(bs,bp,br){if(!br){return}if(K(bs)){br=aY(bs,br);if(bs.addEventListener){bs.addEventListener(bp,br,false)}else{if(bs.attachEvent){bs.attachEvent("on"+bp,br)}else{var bo=bs["on"+bp];if(typeof(bo)=="function"){bs["on"+bp]=function(){bo();
br()}}else{bs["on"+bp]=br}}}}var bq={object:bs,eventName:bp,handle:br};if(!bs.__E__){bs.__E__=[]}if(aa(bs.__E__,bp)<0){bs.__E__.push(bp)}if(!bs[U[83]+bp]){bs[U[83]+bp]=[]}bs[U[83]+bp].push(bq);if(bp!="unload"){J();N.allEvents.push(bq)}return bq}function bb(){var bp=aZ(arguments)[0];if(!bp){return}try{bp.stopPropagation()}catch(bo){bp.cancelBubble=true}try{bp.preventDefault()}catch(bo){bp.returnValue=false}}function a9(br,bq){var bo={x:0,y:0};var bp=br;while(bp&&bp.offsetParent&&bp!=bq){bo.x+=bp.offsetLeft;bo.y+=bp.offsetTop;
bp=bp.offsetParent;if(bp){bo.x-=bp.scrollLeft;bo.y-=bp.scrollTop}}return bo}function a8(bs,bq){if(!bs||!bs.__E__){return}if(!bq){for(var bo=bs.__E__.length-1;bo>=0;bo--){a8(bs,bs.__E__[bo])}return}var br,bp=bs[U[83]+bq];while(br=bp.pop()){a6(br)}}function a7(br,bp){var bv,bs,bu=br.changedTouches;bv=bu?bu[0].clientX:br.clientX;bs=bu?bu[0].clientY:br.clientY;if(typeof bv!=U[82]&&bp.getBoundingClientRect){var bt=bp.getBoundingClientRect();return{x:bv-bt.left,y:bs-bt.top}}bv=bu?bu[0].offsetX:br.offsetX;bs=bu?bu[0].offsetY:br.offsetY;
if(typeof bv!=U[82]){var bo=br.target||br.srcElement;var bq={x:bv,y:bs};while(bo&&bo!=bp){if(!(bo.clientWidth==0&&bo.clientHeight==0&&bo.offsetParent&&bo.offsetParent.nodeName=="TD")){bq.x+=bo.offsetLeft;bq.y+=bo.offsetTop}bo=bo.offsetParent;if(bo){bq.x-=bo.scrollLeft;bq.y-=bo.scrollTop}else{var bw=a9(bp);return{x:bq.x-bw.x,y:bq.y-bw.y}}}return bq}bv=bu?bu[0].pageX:br.pageX;bs=bu?bu[0].pageY:br.pageY;if(typeof bv!=U[82]){var bq=a9(bp);return{x:bv-bq.x,y:bs-bq.y}}return{x:0,y:0}}function a6(bo){if(!bo||!bo.object){return
}if(K(bo.object)){if(bo.object.removeEventListener){bo.object.removeEventListener(bo.eventName,bo.handle,false)}else{if(bo.object.detachEvent){bo.object.detachEvent("on"+bo.eventName,bo.handle)}else{bo.object["on"+bo.eventName]=null}}}az(bo.object[U[83]+bo.eventName],bo);az(N.allEvents,bo);delete bo.object;delete bo.handle;delete bo.eventName;bo=null}function a5(bp,bo){return function(){return bo.apply(bp,arguments)}}function aZ(bo){if(!bo){bo=[]}if(!bo[0]){bo[0]=window.event}if(bo[0]&&!bo[0].target&&bo[0].srcElement){bo[0].target=bo[0].srcElement
}return bo}function aY(bo,bp){return function(){var bs=aZ(arguments),bv,bu;if(bs&&(bv=bs[0])&&(bu=bv.target)&&bu.__pointerEvents==U[81]){if(bv.__copyed==true){return}var bq=typeof(bv.pageX)!=U[82]?(bv.pageX):(bv.clientX),bx=typeof(bv.pageY)!=U[82]?(bv.pageY):(bv.clientY);if(document.elementFromPoint(bq,bx)!=bu){bq-=document.documentElement.scrollLeft+document.body.scrollLeft;bx-=document.documentElement.scrollTop+document.body.scrollTop}var br=[],bw=bu;bu.style.visibility=U[80];br.push(bu);do{var bt=document.elementFromPoint(bq,bx);
if(bt!=bw&&bt&&bt.__pointerEvents==U[81]){bt.style.visibility=U[80];br.push(bt);bw=bt}else{break}}while(bt);while(bu=br.pop()){bu.style.visibility=U[79]}bv.__copyed=true;if(bt){bd(bt,bv.type,bs)}return}bp.apply(bo,bs)}}T(N,{toDocument:S,bind:Q,getEventButton:P,clearAllListeners:M,isHtmlControl:K,init:J,returnTrue:bg,deposeNode:bf,trigger:bd,addListener:bc,returnFalse:bb,getPageOffset:a9,clearListeners:a8,getEventPosition:a7,removeListener:a6,getCallback:a5,getWindowEvent:aZ,createAdapter:aY});function aj(){}function aX(bu,bq){bq=bq?bq:{};
var bp,bo=bq.noLoad;if(bq.spritePoint&&(bq.spriteSize||bq.size)){if(!bq.spriteSize){bq.spriteSize=bq.size}if(!bq.size){bq.size=bq.spriteSize}bp=document.createElement("div");ad(bp,{overflow:U[80]});var br=bq.imageSize?{x:bq.imageSize.x*bq.size.x/bq.spriteSize.x,y:bq.imageSize.y*bq.size.y/bq.spriteSize.y}:null;var bs=aX(bu,{position:{x:-bq.spritePoint.x*bq.size.x/bq.spriteSize.x,y:-bq.spritePoint.y*bq.size.y/bq.spriteSize.y},size:br,utf:bq.utf});ad(bs,{position:U[78]});bp.appendChild(bs);bo=true}else{if(bu.indexOf(".png")>0&&(bq.utf!==false)&&aT(bq.utf)){bp=document.createElement("div");
ad(bp,{overflow:U[80]});var bt=document.createElement("img");ad(bt,{visibility:U[80],width:U[77],height:U[77]});bc(bt,"load",aV);bp.appendChild(bt)}else{bp=document.createElement("img");bp.hspace=0}}if(!bo){ab(bp,bu)}if(bq.position){aR(bp,bq.position)}if(bq.size){aF(bp,bq.size)}return bp}function aW(bo){return bo.parentNode&&bo.parentNode.nodeType!=11}function aV(){a8(this);var bo=this.parentNode,bp=this.src;ad(bo,{filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+bp+'")'});
ad(this,{position:U[78]})}function aU(bs,br,bo){var bp=bs.style;bo=bo?bo:U[76];if(br.indexOf("openhand")>=0&&!window.chrome&&!document.all){try{bp.cursor="-moz-grab";return}catch(bq){}try{bp.cursor="-webkit-grab";return}catch(bq){}}if(br.indexOf("closedhand")>=0&&!window.chrome&&!document.all){try{bp.cursor="-moz-grabbing";return}catch(bq){}try{bp.cursor="-webkit-grabbing";return}catch(bq){}}if(document.all){br=br.replace(new RegExp("\\)\\s*[0-9]+\\s+[0-9]+"),")")}if(br.toLowerCase().indexOf("url")>=0){try{bp.cursor=br+","+bo;
return}catch(bq){}}try{bp.cursor=br;return}catch(bq){}try{bp.cursor=bo;return}catch(bq){}}function aT(bo){if(bo&&document.all){return true}if(typeof(aj._UFT)==U[82]){aj._UFT=(document.all&&!window.XMLHttpRequest)?true:false}return aj._UFT}function aS(bp,bo){ad(bp,{filter:(bo<1?(U[75]+parseInt(bo*100)+")"):""),MozOpacity:bo,opacity:bo})}function aR(bp,bo){ad(bp,{left:Math.round(bo.x)+"px",top:Math.round(bo.y)+"px"})}function aQ(bp){var bo=aj.sln;if(!bo){return}for(var bq=bo.length-1;bq>=0;bq--){if(bo[bq].src==bp){bf(bo[bq]);
bo[bq].src="";bo[bq].removeAttribute("src");bo.splice(bq,1);break}}}function aH(bo){if(document.all){bo.unselectable="on";bo.onselectstart=aB}else{ad(bo,{MozUserSelect:"-moz-none"});ad(bo,{WebkitUserSelect:U[81]})}}function aF(bp,bo){ad(bp,{width:Math.round(bo.x)+"px",height:Math.round(bo.y)+"px"})}function aE(bq,bp){for(var bo in bp){bq[bo]=bp[bo]}}function aB(){return false}function az(br,bq,bp){for(var bo=br.length-1;bo>=0;bo--){if(br[bo]==bq){br.splice(bo,1);if(!bp){return}}}return}function ay(bw,bC,by,bD,br){bC=Math.round(bC%360);
var bG=bC*Math.PI/180,bE=bw.style;var bu,bs=U[74];if(typeof(bE[(bu=U[73])])==bs||typeof(bE[(bu=U[72])])==bs||typeof(bE[(bu=U[71])])==bs){var bt=(bC==0)?"":"rotate("+bC+"deg)",bv={};bv[bu]=bt;ad(bw,bv);if(bD&&br&&by){var bp=br.x,bo=br.y,bB=by.x,bz=by.x,bA=bD.x,bx=bD.y,bH;var bq=Math.sqrt(Math.pow(bp-bB/2,2)+Math.pow(bo-bz/2,2));if(bq>0){var bF=Math.acos((bo-bz/2)/bq);if(bp-bB/2<0){bF=-bF}bH={x:bA+bp-bB/2-bq*Math.sin(bF-bG),y:bx+bo-bz/2-bq*Math.cos(bF-bG)};aR(bw,bH)}}return true}if(typeof(bE.filter)==U[74]&&document.body.filters){ad(bw,{filter:(bC==0)?"":"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11="+Math.cos(bG)+",M12="+(-Math.sin(bG))+",M21="+Math.sin(bG)+",M22="+Math.cos(bG)+")"});
if(bD&&br&&by){var bp=br.x,bo=br.y,bB=by.x,bz=by.x,bA=bD.x,bx=bD.y,bH;if(bC<=90){bH={x:(((bz-bo)*Math.tan(bG)+bp)*Math.cos(bG)),y:((bo+bp*Math.tan(bG))*Math.cos(bG))}}else{if(bC<=180){bH={x:(((bB-bp)*Math.tan(bG-Math.PI/2)+(bz-bo))*Math.cos(bG-Math.PI/2)),y:(((bz-bo)*Math.tan(bG-Math.PI/2)+bp)*Math.cos(bG-Math.PI/2))}}else{if(bC<=270){bH={x:((bo*Math.tan(bG-Math.PI)+(bB-bp))*Math.cos(bG-Math.PI)),y:(((bB-bp)*Math.tan(bG-Math.PI)+(bz-bo))*Math.cos(bG-Math.PI))}}else{bH={x:((bp*Math.tan(bG-Math.PI*3/2)+bo)*Math.cos(bG-Math.PI*3/2)),y:((bo*Math.tan(bG-Math.PI*3/2)+(bB-bp))*Math.cos(bG-Math.PI*3/2))}
}}}aR(bw,{x:bA-bH.x+bp,y:bx-bH.y+bo})}return true}return false}function ax(bs){if(!window._ali_noPrint){window._ali_noPrint=true;var bq="@media print{.AliNoPrint{display:none}}",bp=document.createElement("style");try{bp.setAttribute("type","text/css");if(bp.styleSheet){bp.styleSheet.cssText=bq}else{bp.appendChild(document.createTextNode(bq))}var bo=document.head;if(!bo){bo=document.getElementsByTagName("head")[0]}bo.appendChild(bp)}catch(br){}}bs.className="AliNoPrint"}function aw(br,bv){var bp=aj.sln,bu=new Date().valueOf();
if(!bp){bp=aj.sln=[]}else{var bo=bp.length;for(var bs=0;bs<bp.length;bs++){if(bp[bs]._slt-bu>5000){bf(bp[bs]);bp.splice(bs,1);bs--}else{break}}}var bq=document.createElement("script");bq.defer=true;bp.push(bq);bq.charset=bv?bv:"utf-8";var bt=document.body?document.body:document.head;bt.insertBefore(bq,bt.firstChild);bq.src=br}function at(bp,bo,br){for(var bq=bp.firstChild;bq;bq=bq.nextSibling){if(bq._isbg){bf(bq);break}}if(!bo){ab(bp,"");ad(bp,{backgroundImage:""});return}br=br?br:{};if(bp.canHaveChildren!==false&&(br.canPrint||bo.indexOf(".png")>0&&(br.utf!==false)&&aT(br.utf))){var bs=aX(bo,{utf:br.utf}),bv=bs;
if(br.spritePoint&&br.imageSize){bv=document.createElement("div");var bw=br.repeat==U[70]||br.repeat=="repeat";var bt=br.repeat=="repeat-y"||br.repeat=="repeat";ad(bs,{position:U[69],border:"0px",width:(bw?U[77]:(br.imageSize.x+"px")),height:(bt?U[77]:(br.imageSize.y+"px")),left:(bw?(100*br.spritePoint.x/br.imageSize.x+"%"):(-br.spritePoint.x+"px")),top:(bt?(100*br.spritePoint.y/br.imageSize.y+"%"):(-br.spritePoint.y+"px")),zIndex:-1});bv.appendChild(bs)}ad(bv,{position:U[78],border:"0px",width:U[77],height:U[77],left:"0px",top:"0px",zIndex:-1,overflow:U[80]});
bp.appendChild(bv);bv._isbg=true}else{ad(bp,{backgroundImage:"url("+bo+")"});if(br.spritePoint){ad(bp,{backgroundPosition:(-br.spritePoint.x)+"px "+(-br.spritePoint.y)+"px"})}}if(br.spriteDouble){var bu=document.createElement("div");ad(bu,{position:U[78],fontSize:"0px",left:"0px",top:"0px",width:U[77],height:U[77],overflow:U[80]});at(bu,bo,{canPrint:br.canPrint,spritePoint:(br.repeat==U[70]?{x:br.imageSize.x/2,y:br.spritePoint.y}:{x:br.spritePoint.x,y:br.imageSize.y/2}),imageSize:br.imageSize,repeat:br.repeat});
bp.appendChild(bu)}}function aq(bt,br){if(!window[U[68]+br]){window[U[68]+br]=true;var bq=".AliPrintPanel"+br+"{overflow:"+br+";}";bq+="@media print{.AliPrintPanel"+br+"{overflow:visible;display:inline;}}";var bp=document.createElement("style");try{bp.setAttribute("type","text/css");if(bp.styleSheet){bp.styleSheet.cssText=bq}else{bp.appendChild(document.createTextNode(bq))}var bo=document.head;if(!bo){bo=document.getElementsByTagName("head")[0]}bo.appendChild(bp)}catch(bs){}}bt.className="AliPrintPanel"+br}function af(bo){return(typeof(bo)==U[67])?bo:document.getElementById(bo)
}function ae(bo,bw,bq,bu){var bp=bo.style;var bt,bv=U[74];if(typeof(bp[(bt=U[73])])==bv||typeof(bp[(bt=U[72])])==bv||typeof(bp[(bt=U[71])])==bv){var br=(bw==1)?"":"scale("+bw+")",bs={};bs[bt]=br;ad(bo,bs);if(bq&&bu){aR(bo,{x:bq.x-bu.x*(bw-1),y:bq.y-bu.y*(bw-1)})}return true}if(typeof(bp.zoom)==U[74]&&typeof(bp.boxSizing)!=U[74]){if(bp.zoom!=bw){ad(bo,{zoom:bw})}if(bq&&bu){aR(bo,{x:bq.x-bu.x*(bw-1),y:bq.y-bu.y*(bw-1)})}return true}return false}function ad(bo,bv,bs){if(bs){bo._cssObj=false}if(bv&&bv.cursor==U[66]&&document.all){bv.cursor="hand"
}if(document.all&&!bs&&bo._cssObj!==false&&typeof(bo.style.cssText)==U[74]){var bw,bu=bo._cssObj,br=new RegExp("[A-Z]","g");if(!bu){bu=bo._cssObj={}}var bq=0;for(bw in bv){var bt;switch(bw){case"styleFloat":bt="float";break;default:bt=bw.replace(br,function(bx){return"-"+bx.toLowerCase()});break}bu[bt]=bv[bw];bq++}if(bq<2){aE(bo.style,bv);return}var bp=[];for(bw in bu){bp.push(bw+":"+bu[bw])}if(document.all){bo.style.cssText=bp.join(";")}else{bo.setAttribute("style",bp.join(";"))}}else{aE(bo.style,bv)}}function ac(bo){var bp={x:bo.offsetWidth,y:bo.offsetHeight};
if(bo==document.body&&!document.all){bp.y=bo.clientHeight}if(!bp.x){bp.x=bo.clientWidth}if(!bp.x){bp.x=parseInt(bo.style.width)}if(!bp.y){bp.y=bo.clientHeight}if(!bp.y){bp.y=parseInt(bo.style.height)}if(!bp.x||!bp.y){bo=bo.parentElement||bo.parentNode;while(bo){if(!bp.x&&bo.offsetWidth){bp.x=bo.offsetWidth}if(!bp.y&&bo.offsetHeight){bp.y=bo.offsetHeight}if(bp.x&&bp.y){break}bo=bo.parentElement||bo.parentNode}}return bp}function ab(bo,bq){if(!document.all){bo.removeAttribute("src")}bo.src=bq;var bp=bo.firstChild;
while(bp){if(bp.nodeName=="IMG"){break}bp=bp.nextSibling}if(!bp){return}a8(bp);if(bq.indexOf(".png")>0&&aT()){ad(bp,{visibility:U[80]});bc(bp,"load",aV)}else{ad(bo,{filter:""});ad(bp,{visibility:""})}bp.src=bq}function aa(bq,bp){for(var bo=bq.length-1;bo>=0;bo--){if(bq[bo]==bp){return bo}}return -1}T(aj,{createImage:aX,isInDocument:aW,setAlphaImage:aV,setCursor:aU,useFilterTransparent:aT,setOpacity:aS,setElementPosition:aR,removeScript:aQ,setUnSelectable:aH,setElementSize:aF,setProperty:aE,falseFunction:aB,deleteFrom:az,setRotate:ay,noPrint:ax,loadScript:aw,setBackgroundImage:at,setPrintPanel:aq,getElement:af,setZoom:ae,setStyle:ad,getElementSize:ac,setImageSrc:ab,indexOf:aa});
function F(bq,bp,bo){aE(this,{div:bq,handle:bp,container:bq,interval:256});aE(this,bo)}T(F.prototype,{onMouseMove:function(bv){bb(bv);var bo=a7(bv,this.container),bs=this.rtp;aE(this,{lp:bo,moveed:true});if(bs){var bq=this.dsp,bu=this.sp;var br=bq.x+bs.x*(bo.x-bu.x),bp=bq.y+bs.y*(bo.y-bu.y);if(bs.x==0){bo.x=this.sp.x}if(bs.y==0){bo.y=this.sp.y}var bt=this.rtpLimit;if(bt){if(bt.minX){br=Math.max(br,bt.minX)}if(bt.maxX){br=Math.min(br,bt.maxX)}if(bt.minY){bp=Math.max(bp,bt.minY)}if(bt.maxY){bp=Math.min(bp,bt.maxY)
}}aR(this.div,{x:br,y:bp})}},onMouseDown:function(bq){bb(bq);var br=this.div;if(br.setCapture){br.setCapture()}var bo=a7(bq,this.container);aE(this,{ml:Q(document,U[64],this,this.onMouseMove),ul:Q(document,U[63],this,this.onMouseUp),sp:bo,lp:bo,times:0,timeout:window.setInterval(a5(this,this.onTime),this.interval)});if(this.rtp){var bp=br.style;this.dsp={x:parseInt(bp.left),y:parseInt(bp.top)}}this.handle(bo,bo,U[62])},onTime:function(){if(this.div&&this.moveed){if(this.times||Math.abs(this.sp.x-this.lp.x)+Math.abs(this.sp.y-this.lp.y)>2){this.handle(this.sp,this.lp);
this.times++;this.moveed=false}}},onMouseUp:function(bo){this.onTime();bb(bo);a6(this.ml);a6(this.ul);window.clearInterval(this.timeout);delete this.timeout;delete this.div;delete this.container;if(document.releaseCapture){document.releaseCapture()}this.handle(this.sp,this.lp,"end")}});function Z(bq,bp,bo){return bc(bq,U[65],function(bs){if(P(bs)!=1){return}var br=new F(bq,bp,bo);br.onMouseDown(bs)})}T(F,{setup:Z});function bj(bo,bp){this.x=bo;this.y=bp}function a(bp,bo){this.min=bp;this.max=bo}T(a.prototype,{getMax:function(){return this.max
},extend:function(bq){var bp=bq.x,bs=bq.y,br=this.min,bo=this.max;if(br.x>bp){br.x=bp}if(bo.x<bp){bo.x=bp}if(br.y>bs){br.y=bs}if(bo.y<bs){bo.y=bs}return this},getMin:function(){return this.min},containsRectangle:function(bo){return(bo.min.x>=this.min.x&&bo.max.x<=this.max.x&&bo.min.y>=this.min.y&&bo.max.y<=this.max.y)},containsPoint:function(bo){return(bo.x>=this.min.x&&bo.x<this.max.x&&bo.y>=this.min.y&&bo.y<this.max.y)}});function L(){if(arguments.length<1){return}this.div=document.createElement("div")}T(L.prototype,{setLineBorder:function(){},init:function(bo,bp,bq){},setPointerEvents:function(bo){this.div.__pointerEvents=bo
},setPosition:function(bo){ad(this.div,{position:U[78],left:bo.x+"px",top:bo.y+"px"})},setScale:function(){},setLineColor:function(){},getPanel:function(){return this.div},clear:function(){},setLineStyle:function(){},setFillColor:function(){},drawPolyline:function(bo){return this.drawPolygon(bo,true)},setLineWeight:function(){},setOpacity:function(){},setLineArrow:function(){}});function aL(bo){bo=bo?bo:{};var bp=this.div=document.createElement("canvas");ad(bp,{position:U[78]});this.shape=bo.shape}aL.prototype=new L();
T(aL.prototype,{init:function(bo,bp,bq){aE(this,{minPoint:bo,maxPoint:bp,scale:bq});this.clear();switch(this.shape){case U[61]:this.pathArr.push({type:U[61]});break}},setPosition:function(bo){if(!bo){return}this.lastPosition=bo;var bp=this.lineWeight;ad(this.div,{position:U[78],left:(bo.x-bp/2)+"px",top:(bo.y-bp/2)+"px"})},setScale:function(br){this.lastScale=br;var bq=this.maxPoint,bo=this.minPoint,bp=this.lineWeight;ad(this.div,{width:Math.abs(bq.x-bo.x)/br+bp+"px",height:Math.abs(bq.y-bo.y)/br+bp+"px"});this.reDraw()
},drawPolygon:function(bp,bo){this.pathArr.push({points:bp,type:bo?U[60]:U[59]});this.lastScale=this.scale;this.reDraw()},setLineColor:function(bo){if(bo==U[58]){bo=""}this.lineColor=bo;this.reDraw()},clear:function(){this.pathArr=[]},setFillColor:function(bo){if(bo==U[58]){bo=""}this.bgcolor=bo;this.reDraw()},setLineWeight:function(bo){this.lineWeight=bo;this.reDraw()},reDraw:function(){var bK=this.scale,bv=this.lastScale,bG=this.maxPoint,bz=this.minPoint,by=this.div,bp=this.lineWeight,bo=this.pathArr;if(!bG||!bo||bo.length==0){return
}aE(by,{width:Math.abs(bG.x-bz.x)/this.lastScale+bp,height:Math.abs(bG.y-bz.y)/this.lastScale+bp});var bB=by.getContext("2d");aE(bB,{fillStyle:this.bgcolor,globalAlpha:this.opacity});if(bp>0&&this.lineColor!=U[58]&&this.lineColor!=""){aE(bB,{lineCap:U[57],lineJoin:U[57],lineWidth:bp*bv/bK,strokeStyle:this.lineColor})}bB.beginPath();bB.scale(bK/bv,bK/bv);var bx=bp*bv/bK/2;var bJ=bz.x,bH=bz.y,bI=bG.x,bF=bG.y;for(var bE=0;bE<bo.length;bE++){var bA=bo[bE];switch(bA.type){case U[60]:case U[59]:var bC,bD=bA.points,bt=bD.length;
bC=bD[0];bB.moveTo((bC.x-bJ)/bK+bx,(bC.y-bH)/bK+bx);for(var bE=1;bE<bt;bE++){bC=bD[bE];bB.lineTo((bC.x-bJ)/bK+bx,(bC.y-bH)/bK+bx)}if(bA.type==U[59]){bC=bD[0];bB.lineTo((bC.x-bJ)/bK+bx,(bC.y-bH)/bK+bx)}break;case U[61]:var br=(bI-bJ)/2/bK+bx,bq=(bF-bH)/2/bK+bx;var bu=(bI-bJ)/2/bK,bs=(bF-bH)/2/bK,br=bu+bx,bq=bs+bx,bw=0.5522848;bB.moveTo(br-bu,bq);bB.bezierCurveTo(br-bu,bq-bs*bw,br-bu*bw,bq-bs,br,bq-bs);bB.bezierCurveTo(br+bu*bw,bq-bs,br+bu,bq-bs*bw,br+bu,bq);bB.bezierCurveTo(br+bu,bq+bs*bw,br+bu*bw,bq+bs,br,bq+bs);
bB.bezierCurveTo(br-bu*bw,bq+bs,br-bu,bq+bs*bw,br-bu,bq);break}}if(this.bgcolor){bB.fill()}if(bp>0&&this.lineColor!=U[58]&&this.lineColor!=""){bB.stroke()}},setOpacity:function(bo){this.opacity=bo;this.reDraw()}});function X(){if(typeof(aL._isSupport)==U[82]){aL._isSupport=!!document.createElement("canvas").getContext}return aL._isSupport}T(aL,{isSupport:X});function ah(){var bo=this.div=document.createElement("div");ad(bo,{position:U[78]});this.ctx=new window.jsGraphics(bo)}ah.prototype=new L();T(ah.prototype,{init:function(bo,bp,bq){aE(this,{minPoint:bo,maxPoint:bp,scale:bq});
this.clear()},setScale:function(bq){this.lastScale=this.scale=bq;var bp=this.maxPoint,bo=this.minPoint;ad(this.div,{width:Math.abs(bp.x-bo.x)/bq+"px",height:Math.abs(bp.y-bo.y)/bq+"px"});this.reDraw()},drawPolygon:function(bp,bo){this.pathArr.push({points:bp,type:bo?U[60]:U[59]});this.lastScale=this.scale;this.reDraw()},setLineColor:function(bo){if(bo==U[58]){bo=""}this.lineColor=bo;this.reDraw()},clear:function(){this.pathArr=[];bf(this.div,true)},setLineStyle:function(bo){this.lineStyle=bo.toLowerCase()},setLineWeight:function(bo){this.lineWeight=bo;
this.reDraw()},setFillColor:function(bo){if(bo==U[58]){bo=""}this.bgcolor=bo;this.reDraw()},reDraw:function(){var bL=this.scale,bu=this.lastScale,bH=this.maxPoint,bz=this.minPoint,by=this.div,bo=this.pathArr;if(!bH||!bo||bo.length==0){return}aE(by,{width:Math.abs(bH.x-bz.x)/bu,height:Math.abs(bH.y-bz.y)/bu});var bB=this.ctx,bK=bz.x,bI=bz.y,bJ=bH.x,bF=bH.y;bB.clear();for(var bE=0;bE<bo.length;bE++){var bA=bo[bE];switch(bA.type){case U[60]:case U[59]:var bC,bD=bA.points,bs=bD.length,bv=[],bG=[];for(var bE=0;bE<bs;
bE++){bC=bD[bE];bv.push((bC.x-bK)/bL);bG.push((bC.y-bI)/bL)}if(this.bgcolor){bB.setColor(this.bgcolor);bB.fillPolygon(bv,bG)}if(this.lineColor){bB.setColor(this.lineColor);bB.setStroke((this.lineStyle&&this.lineStyle!="solid"&&window.Stroke)?window.Stroke.DOTTED:this.lineWeight);bB.drawPolyline(bv,bG)}break;case U[61]:var bx=this.lineWeight*bu/bL/2;var bq=(bJ-bK)/2/bL+bx,bp=(bF-bI)/2/bL+bx;var bt=(bJ-bK)/2/bL,br=(bF-bI)/2/bL,bq=bt+bx,bp=br+bx,bw=0.5522848;bB.drawEllipse(bq-bt,bp-br,bq+bt,bp+br);break}}bB.paint()
},setOpacity:function(bo){ad(this.div,{filter:U[75]+parseInt(bo*100)+")",MozOpacity:bo,opacity:bo})}});function W(){return !!window.jsGraphics}T(ah,{isSupport:W});function bk(bo){bo=bo?bo:{};var bq=U[56];var br=this.div=document.createElementNS(bq,"svg");ad(br,{position:U[78]});if(!window.opera||!window.opera.version){br.__pointerEvents=U[81]}this.shape=bo.shape;var bp=this.path=this.create();br.appendChild(bp);this.lineBorder=0}bk.prototype=new L();T(bk.prototype,{setLineBorder:function(br,bo,bq){var bp=this.border;
if(br){if(!bp){bp=this.border=this.create();bp.setAttribute("fill",U[81]);this.div.insertBefore(bp,this.div.firstChild)}this.lineBorder=br;bp.setAttribute("stroke",bo?bo:U[55]);bp.setAttribute("opacity",bq?bq:1)}else{if(bp){bf(bp);delete this.border}}},init:function(bo,bp,bq){aE(this,{minPoint:bo,maxPoint:bp,scale:bq});this.clear()},setPointerEvents:function(bo){this.path.__pointerEvents=bo},setPosition:function(bo){if(!bo){return}this.lastPosition=bo;var bp=this.lineWeight,bq=this.lineBorder;ad(this.div,{position:U[78],left:(bo.x-bp/2-bq)+"px",top:(bo.y-bp/2-bq)+"px"})
},setScale:function(bv){var bo=this.minPoint,bq=this.maxPoint,bp=this.lineWeight,bu=this.lineBorder;if(!bq){return}ad(this.div,{width:(bq.x-bo.x)/bv+bp+bu*2+"px",height:(bq.y-bo.y)/bv+bp+bu*2+"px"});this.path.setAttribute(U[71],"scale("+(this.scale/bv)+") translate("+((bu+bp/2)*bv/this.scale)+","+((bu+bp/2)*bv/this.scale)+")");if(this.border){this.border.setAttribute(U[71],this.path.getAttribute(U[71]))}if(!this.lastWeight||Math.floor(this.lastWeight*this.scale/bv)!=bp){this.lastWeight=bp;this.path.setAttribute(U[54],(bp)/this.scale*bv);
if(this.border){this.border.setAttribute(U[54],(bp+bu*2)/this.scale*bv)}}var br=this.dashArray;if(br){var bt=[];for(var bs=0;bs<br.length;bs++){bt.push(br[bs]/this.scale*bv)}this.path.setAttribute(U[53],bt)}else{this.path.removeAttribute(U[53])}this.lastScale=bv},drawPolygon:function(bx,bt){var bu=bx.length,br=bx[0],by=[],bp=this.scale,bv=this.minPoint,bq=bv.x,bo=bv.y,bw;if(bu>1){bw=bx[0];by.push("M");by.push(parseInt((bw.x-bq)/bp));by.push(parseInt((bw.y-bo)/bp));by.push("L");for(var bs=1;bs<bu;bs++){bw=bx[bs];
by.push(parseInt((bw.x-bq)/bp));by.push(parseInt((bw.y-bo)/bp))}if(!bt){bw=bx[0];by.push(parseInt((bw.x-bq)/bp));by.push(parseInt((bw.y-bo)/bp))}this.pathArr.push(by.join(" "));this.path.setAttribute("d",this.pathArr.join(" "));if(this.border){this.border.setAttribute("d",this.pathArr.join(" "))}}},setLineColor:function(bo){if(bo==U[58]||!bo){bo=U[81]}this.lineColor=bo;this.path.setAttribute("stroke",(this.lineWeight>0&&this.lineColor!=U[58]&&this.lineColor!="")?this.lineColor:U[81])},clear:function(){switch(this.shape){case U[61]:this.path.setAttribute("cx",(this.maxPoint.x-this.minPoint.x)/2);
this.path.setAttribute("cy",(this.maxPoint.y-this.minPoint.y)/2);this.path.setAttribute("rx",(this.maxPoint.x-this.minPoint.x)/2);this.path.setAttribute("ry",(this.maxPoint.y-this.minPoint.y)/2);break;default:this.pathArr=[];this.path.setAttribute("d","M 0 0");if(this.border){this.border.setAttribute("d","M 0 0")}break}delete this.lastWeight},create:function(){var bp=U[56],bo;switch(this.shape){case U[61]:bo=document.createElementNS(bp,"ellipse");break;default:bo=document.createElementNS(bp,"path");bo.setAttribute("stroke-linecap",U[57]);
bo.setAttribute("stroke-linejoin",U[57]);break}return bo},setLineStyle:function(bp){var bo;switch(bp.toLowerCase()){case U[52]:bo=[1,10];break;case"dashed":bo=[10,10];break;default:break}this.dashArray=bo;this.setScale(this.lastScale);this.setPosition(this.lastPosition)},setFillColor:function(bo){if(bo==U[58]||!bo){bo=U[81]}this.bgcolor=bo;this.path.setAttribute("fill",(bo?bo:U[81]))},setLineWeight:function(bo){this.lineWeight=parseInt(bo);this.path.setAttribute("stroke",(this.lineWeight>0&&this.lineColor!=U[58]&&this.lineColor!="")?this.lineColor:U[81]);
this.setScale(this.lastScale);this.setPosition(this.lastPosition)},setOpacity:function(bo){this.path.setAttribute("opacity",this.opacity=parseFloat(bo))}});function V(){if(typeof(bk._isSupport)==U[82]){if(document.createElementNS){var bo=U[56];var bp=document.createElementNS(bo,"svg");bk._isSupport=typeof(bp.ownerSVGElement)==U[67]}else{bk._isSupport=false}}return bk._isSupport}T(bk,{isSupport:V});function G(bo){bo=bo?bo:{};this.shape=bo.shape;var bp=this.div=this.create()}G.prototype=new L();T(G.prototype,{setLineBorder:function(br,bo,bq){var bp=this.border;
if(br){if(!bp){bp=this.border=this.create();ad(this.border,{zIndex:-1});bp.filled=false;this.div.appendChild(bp)}this.lineBorder=br;bp.strokecolor=bo?bo:U[55];bp.firstChild.opacity=bq?bq:1}else{if(bp){bf(bp);delete this.border}}},init:function(bo,bp,bq){aE(this,{minPoint:bo,maxPoint:bp,scale:bq,pathArr:[]});switch(this.shape){case U[61]:break;default:this.div.coordsize=parseInt(Math.abs(bp.x-bo.x)*256/bq)+","+parseInt(Math.abs(bp.y-bo.y)*256/bq);if(this.border){this.border.coordsize=this.div.coordsize}this.div.path="e";
break}},setPosition:function(bo){if(!bo){return}this.lastPosition=bo;var bq=this.lineBorder,bp=this.lineWeight;ad(this.div,{position:U[78],left:(bo.x)+"px",top:(bo.y)+"px"});setTimeout(a5(this,function(){if(this.border){ad(this.border,{position:U[78],left:-this.div.offsetLeft+parseInt(this.div.style.left)+"px",top:-this.div.offsetTop+parseInt(this.div.style.top)+"px"})}}),64);if(this.border){ad(this.border,{position:U[78],left:-this.div.offsetLeft+parseInt(this.div.style.left)+"px",top:-this.div.offsetTop+parseInt(this.div.style.top)+"px"})
}},setScale:function(br){var bo=this.minPoint,bp=this.maxPoint;var bq={width:(bp.x-bo.x)/br+"px",height:(bp.y-bo.y)/br+"px"};ad(this.div,bq);if(this.border){ad(this.border,bq)}},drawPolygon:function(by,bt){var bu=by.length,br=by[0],bv=this.pathArr,bp=this.scale,bw=this.minPoint,bq=bw.x,bo=bw.y,bx;if(bu>1){bx=by[0];bv.push("m");bv.push(parseInt((bx.x-bq)*256/bp));bv.push(parseInt((bx.y-bo)*256/bp));bv.push("l");for(var bs=1;bs<bu;bs++){bx=by[bs];bv.push(parseInt((bx.x-bq)*256/bp));bv.push(parseInt((bx.y-bo)*256/bp))
}if(!bt){bx=by[0];bv.push(parseInt((bx.x-bq)*256/bp));bv.push(parseInt((bx.y-bo)*256/bp))}this.div.path=bv.join(" ");if(this.border){this.border.path=bv.join(" ")}this.setScale(bp)}},setLineColor:function(bo){var bp=this.div;bp.strokecolor=bo;bp.stroked=bo!=U[58]&&bo!=""&&bp.strokeweight>0},clear:function(){this.div.style.display=U[81];this.pathArr=[];this.div.path="e";this.div.style.display=""},create:function(){var bq;switch(this.shape){case U[61]:bq=document.createElement("v:oval");break;default:bq=document.createElement("v:shape");
break}ad(bq,{behavior:U[51],position:U[78]});ad(bq,{},true);aE(bq,{unselectable:"on",filled:"true"});var bp=document.createElement("v:stroke");aE(bp,{joinstyle:U[57],endcap:U[57]});bq.appendChild(bp);var bo=document.createElement("v:fill");bq.appendChild(bo);ad(bo,{behavior:U[51]});ad(bp,{behavior:U[51]});return bq},setLineStyle:function(bo){switch(bo.toLowerCase()){case U[52]:bo="ShortDot";break;case"dashed":bo="ShortDash";break}this.div.firstChild.dashstyle=bo},setFillColor:function(bo){var bp=this.div;if(bo==U[58]||bo==""){bp.filled=false
}else{bp.filled=true;bp.fillcolor=bo}},setLineWeight:function(bo){var bp=this.div;bp.strokeweight=bo*3/4;this.lineWeight=bo;bp.stroked=bp.strokecolor!=U[58]&&bp.strokecolor!=""&&bo>0;if(this.border){this.border.strokeweight=(bo+this.lineBorder*2)*3/4}},setOpacity:function(bo){this.div.firstChild.opacity=bo;this.div.firstChild.nextSibling.opacity=bo},setLineArrow:function(bo){if(bo[0]){this.div.firstChild.startarrow=bo[0]}if(bo[1]){this.div.firstChild.endarrow=bo[1]}}});function C(){if(typeof(G._isSupport)==U[82]){try{if(document.namespaces){if(!document.namespaces.v){document.namespaces.add("v","urn:schemas-microsoft-com:vml")
}var bp=document.createElement("v:shape");ad(bp,{behavior:U[51]});bp.style.behavior=U[51];document.body.appendChild(bp);G._isSupport=typeof(bp.Path)==U[67];bp.parentNode.removeChild(bp)}else{G._isSupport=false}}catch(bo){G._isSupport=false}}return G._isSupport}T(G,{isSupport:C});function ba(bo){aE(this,{scaleFactor:{x:1,y:-1}});aE(this,bo)}T(ba.prototype,{isRectilinear:function(){return true},fromLatLngToPixel:function(bp){var bo=this.scaleFactor;return{x:bp.lng()*bo.x,y:bp.lat()*bo.y}},fromPixelToLatLng:function(bo){var bp=this.scaleFactor;
return new r(bo.y/bp.y,bo.x/bp.x)}});function E(bo){aE(this,{eccentricity:1,centerLng:0});aE(this,bo)}E.prototype=new ba();T(E.prototype,{fromLatLngToPixel:function(bu){var br=this.eccentricity,bq=Math.PI,bo=180/bq,bp=((bu.la+90)%180)-90,bt;if(br==1){bt=-Math.log(Math.tan(bq/4+0.5*bp/bo))*bo}else{var bs=Math.sin(bp/bo)*br;bt=Math.log(Math.tan(0.5*(bq/2-bp/bo))/Math.pow((1-bs)/(1+bs),0.5*br))*bo}return{x:bu.lo-this.centerLng,y:bt}},fromPixelToLatLng:function(bx){var bp=this.eccentricity,bt=Math.PI,br=180/bt,bq,bw=bx.y;
if(bp==1){bq=(Math.PI/2-2*Math.atan(Math.exp(bw/br)))*br}else{var bv=Math.exp(bw/br),bo,bu,bs=15;bq=bt/2-2*Math.atan(bv);do{bo=bp*Math.sin(bq);bu=bt/2-2*Math.atan(bv*Math.pow((1-bo)/(1+bo),0.5*bp))-bq;bq+=bu}while(Math.abs(bu)>1e-10&&--bs!=0);bq=bq*br}return new r(bq,bx.x+this.centerLng)}});function ar(bo,bp){aE(this,{render:bo,id:bp})}T(ar.prototype,{load:function(bs){if(!bs){return}var bq=this.render,bo,bp,bt=bq.layer.control.htmlBufImgs;if(bt&&(bo=bt[bs])){this.img=bo.parentNode?bo.cloneNode():bo;bq.layer.onTileLoaded(this.id)
}else{if(bq.utf){bo=this.img=document.createElement("div");var br=document.createElement("img");ad(br,{visibility:U[80],width:U[77],height:U[77]});this.ll=Q(br,"load",this,this.onLoad);this.el=Q(br,"error",this,this.onError);bo.appendChild(br)}else{bo=this.img=document.createElement("img");this.ll=Q(bo,"load",this,this.onLoad);this.el=Q(bo,"error",this,this.onError);aE(bo,{galleryImg:false})}ab(bo,bs);aH(bo);if(bp=bq.tileStyle){ad(bo,bp)}if(bp=bq.opacity){aS(bo,bp)}}},show:function(){if(!this.img){return}if(!aW(this.img)){this.render.layer.getMapDiv(this.id.z).div.appendChild(this.img)
}},setPosition:function(bv){if(!this.img){return}var br=this.render,bp=br.layer.control.map,bq=this.id,bs=bp.getScale(),bu=this.img;if(x()){var bw=bs,bA=br.layer.getMapDiv(this.id.z),bo=bA.div,by=bp.getViewSize();bs=br.layer.levels[bq.z].scale;if(bo._zoom!=bs/bw){bo._zoom=bs/bw;var bt=bA.offset;if(!bt){bt={x:0,y:0}}ae(bo,bs/bw,bt,{x:by.x/2-bt.x,y:by.y/2-bt.y})}if(!bv){return}}var bz=br.layer.getPixelRectById(bq,bs),bx=br.tilePad;ad(bu,{position:U[78],width:(bz.max.x-bz.min.x+bx.x*2)+"px",height:(bz.max.y-bz.min.y+bx.y*2)+"px",left:bz.min.x-bx.x+"px",top:bz.min.y-bx.y+"px"})
},stop:function(){a6(this.ll);a6(this.el);delete this.ll;delete this.el},addBuffer:function(){var bt=this.render.layer.control,bv=bt.htmlBufImgs,br=bt.htmlBufNum,bu=this.img.src;if(!bv){bv=bt.htmlBufImgs=[];br=bt.htmlBufNum=500}if(br<=0||bv[bu]){return}bv[bu]=this.img;bv.push(bu);var bs=bv.length-br;for(var bq=0;bs>0&&bq<bv.length;bq++){var bo=bv[bq],bp=bv[bo];if(!bp.isShow){if(bv[bo]){delete bv[bo]}bv.splice(bq,1);bq--;bs--}}},onLoad:function(){this.stop();var bp=this.render,bo=this.img;bp.layer.onTileLoaded(this.id);
this.addBuffer(this);bo.isShow=true;if(!aW(this.img)){bp.layer.getMapDiv(this.id.z).div.appendChild(this.img)}if(bp.utf){aV.apply(this.img.firstChild)}},hide:function(){if(!this.img){return}this.stop();var bo=this.img,bp=bo.parentNode;if(bp){bp.removeChild(bo)}},onError:function(){this.stop();var bo=this.render;bo.layer.onTileError(this.id);if(bo.errorImgUrl){this.img.src=bo.errorImgUrl}else{ad(this.img,{display:U[81]})}if(!aW(this.img)){bo.layer.getMapDiv(this.id.z).div.appendChild(this.img)}},depose:function(){this.hide();
bf(this.img);delete this.render;delete this.img}});function A(bo){var bp=document.createElement("div");ad(bp,{position:U[78],zIndex:bo.zIndex});bo.layer.control.map.getGeoPanel().appendChild(bp);return bp}function z(){return true}function y(){return true}function x(){if(typeof(ar._scaleByDiv)!="boolean"){var bo=document.createElement("div");ar._scaleByDiv=ae(bo,2)}return ar._scaleByDiv}T(ar,{getContainer:A,isSupport:z,hasLoadEvent:y,scaleByDiv:x});function bm(bo){aE(this,{config:bo,zIndex:100,scalePower:0.8,tilePad:{x:0,y:0}});
aE(this,bo)}T(bm.prototype,{isTranPng:function(){return !!this._isTranPng},getTileType:function(){var bp=[ar];for(var bo=0;bo<bp.length;bo++){if(bp[bo].isSupport(this)){return bp[bo]}}},removeDiv:function(bo){bf(bo.div);delete bo.div},setPosition:function(bp,bo){bp.tile.setPosition(bo)},loadTile:function(br,bp){if(!br.tile&&!bp){var bq=this.tileType;var bo=br.tile=new bq(this,br);bo.load(this.getImgUrl(br))}return !!br.tile},getImgUrl:function(bo){var bx=bo.x,bv=bo.y,bz=this.layer.getZoomLevels()[bo.z].name;
var bt=(this.sslImgURLs&&location.protocol=="https:")?this.sslImgURLs:this.imgURLs,bB=bt[Math.abs(bx+bv)%bt.length];var by=1<<bz;if(bv<0||bv>=by){return""}while(bx<0){bx+=by}while(bx>=by){bx-=by}if(!this.useStaticPath){var bp=this.zTag;return[bB,"x=",bx,"&y=",bv,"&",(bp=bp?bp:"z"),"=",bz].join("")}var bu=Math.floor(bz/4),bA=[bB];for(var br=0;br<bu;br++){var bw=1<<(bz-4*br-4);var bs=parseInt(bx/bw)%16,bq=parseInt(bv/bw)%16;bA=bA.concat((bq>9)?bq:"0"+bq,(bs>9)?bs:"0"+bs,"/")}bA=bA.concat(bx,"_",bv,".png");return bA.join("")
},setCurrentIndex:function(bo,bp){if(bp){ad(bp.div,{zIndex:this.zIndex})}ad(bo.div,{zIndex:this.zIndex+1})},initialize:function(bo){this.layer=bo;this.tileType=this.getTileType();this.utf=this.isTranPng()&&aT()},remove:function(){delete this.layer;delete this.tileType},deposeTile:function(bo){this.hideTile(bo);bo.tile.depose()},initDiv:function(bo){bo.div=this.tileType.getContainer(this)},showTile:function(bp){var bo=bp.tile;bo.show();bo.setPosition(true)},hideTile:function(bo){bo.tile.hide()},copy:function(){return new bm(this.config)
}});function bn(bo){aE(this,{config:bo,zIndex:400,scalePower:0});aE(this,bo)}T(bn.prototype,{getBuffer:function(bq){var bp=this.layer.control,bo=bp.jsonBufData;return bo?bo[bq]:null},removeDiv:function(bo){},setPosition:function(bp,bo){},loadTile:function(bp,bo){return !!bp.overlays},addBuffer:function(bo,br){var bq=this.layer.control,bv=bq.jsonBufData,bp=bq.jsonBufNum;if(!bv){bv=bq.jsonBufData=[];bp=bq.jsonBufNum=500}if(bp<=0||bv[bo]){return}bv[bo]=br;bv.push(bo);var bs=bv.length-bp;for(var bt=0;bs>0&&bt<bv.length;
bt++){var bu=bv[bt],bw=bv[bu];if(bv[bu]){delete bv[bu]}bv.splice(bt,1);bt--;bs--}},setCurrentIndex:function(bo,bp){},initialize:function(bo){this.layer=bo},remove:function(){delete this.layer},deposeTile:function(bo){if(bo.dataUrl){aQ(bo.dataUrl)}this.hideTile(bo);delete bo.overlays},initDiv:function(bo){},showTile:function(bo){},hideTile:function(br){var bo,bp=br.overlays,bq=this.layer.control.map;if(bp){while(bo=bp.pop()){bq.removeOverlay(bo);bo.depose()}}},copy:function(){return new bn(this.config)}});function au(bo){aE(this,{config:bo,scalePower:0,blockSize:2,eventName:"tilepoiclick",showTip:true,tipStyle:{border:"solid 1px #C2C2C2",fontSize:U[50],fontWeight:"bolder",backgroundColor:"#FFFFD5",padding:"3px",paddingTop:"5px",whiteSpace:U[49]}});
aE(this,bo);if(!au._index){au._index=0}this.cbName="_MATR"+(au._index++);window[this.cbName]=a5(this,this.onLoad);this.loadMap={}}T(au.prototype,{remove:function(){var br=this.layer.control.map,bo=br.getGeoPanel();if(this.pointed&&bo.pointed&&bo._atIndex==this.index){aU(bo,"");this.pointed=bo.pointed=false}var bq,bp=this.listeners;if(bp){while(bq=bp.pop()){a6(bq)}delete this.listeners}if(this.tips){br.removeOverlay(this.tips);this.tips.depose();delete this.tips}delete this.layer},hideTile:function(){},deposeTile:function(){},check:function(bt,bA){var bD=bA.points,bw=bt.left,bC=bt.top,bo,br=this.layer.control.map,bp=br.getGeoPanel();
if(bp.pointed||this.index!=bp._atIndex){return}for(var bz=bD.length-1;bz>=0;bz--){var bv=bD[bz],bB=bv.rect,bs=8,by=Math.max(0,Math.floor((bs-bB[2]+bB[0])/2)),bx=Math.max(0,Math.floor((bs-bB[3]+bB[1])/2));if(bw>=bB[0]-by&&bw<=bB[2]+by&&bC>=bB[1]-bx&&bC<=bB[3]+bx){bo=bv;break}}if(bo){aU(bp,U[66]);this.pointed=bp.pointed=true;var bu=this.getLatLng(bt,bo);if(this.showTip&&(bo.title||bo.name)){if(!this.tips){var bq=document.createElement("div");ad(bq,this.tipStyle);this.tips=new ak(bu,bq,{offset:{x:14,y:10}})}this.tips.setLatLng(bu);
this.tips.div.innerHTML=bo.title||bo.name;br.addOverlay(this.tips)}}else{if(this.tips){br.removeOverlay(this.tips)}}this.currentPoi=bo},onInfoLoaded:function(bq){if(!bq||!this.currentPoi||bq.Id!=this.currentPoi.id){return}var bp=[],br=document.createElement("div");ad(br,{width:"300px"});if(bq.TelNo){bp.push("\u7535\u8bdd\uff1a"+bq.TelNo)}if(bq.DistName){bp.push("\u5730\u5740\uff1a"+bq.DistName)}if(bq.ZipCode){bp.push("\u90ae\u7f16\uff1a"+bq.ZipCode)}br.innerHTML=bp.join("<br/>");var bo=this.layer.control.map.openInfoWindow(new r(bq.Geo[0],bq.Geo[1]),bq.Name,br);
bo._name=bq.Name;bo.moveIntoView()},setCurrentIndex:function(){},copy:function(){return new au(this.config)},getBuffer:function(bp){var bo=this._bufferData;return bo?bo[bp]:null},getLatLng:function(bv,bt){var bp=this.layer,bs=bp.levels[bv.z-bp.minLevel].scale,bq=bp.tileSize,bo=bp.tileOrigin;var bu=(bv.x*bq.x+(bt.rect[0]+bt.rect[2])/2)*bs+bo.x;var br=(bv.y*bq.y+(bt.rect[1]+bt.rect[3])/2)*bs+bo.y;return bp.prj.fromPixelToLatLng({x:bu,y:br})},removeDiv:function(bo){},onMouseMove:function(bA){var bp=this.layer.control.map,bo=bp.getGeoPanel(),bv=bo._atIndex,bz=bo._atPoint;
if(!bv){bv=bo._atIndex=1}if(bz!=bA){aU(bo,"");this.pointed=bo.pointed=false;bo._atPoint=bA;bo._atIndex=++bv}if(bo.pointed){if(this.tips){bp.removeOverlay(this.tips)}return}this.index=bv;var bq=this.currentId=this.getId(bA);if(!bq){return}var bB=[bq.x,bq.y,bq.z].join(","),bu=this.getBuffer(bB);if(bu){this.check(bq,bu)}else{delete this.currentPoi;var bw=this.blockSize,bs=bq.x-(bq.x%bw),br=bq.y-(bq.y%bw),bt=[bs,br,bq.z].join(",");if(!this.loadMap[bt]){this.loadMap[bt]=true;var bC=[];for(var by=bs;by<bs+bw;by++){for(var bx=br;
bx<br+bw;bx++){bC.push([by,bx,bq.z].join(","))}}aw(this.servUrl+"p="+bC.join("|")+"&c="+this.cbName,"gb2312")}}},getId:function(bx){var bu=this.layer,bo=bu.control.map,br=bo.fromContainerPixelToLatLng(bx);if(!br){return}var bv=bu.prj.fromLatLngToPixel(br),bw=bu.getZoomIndex(bo.getScale());var bs=bu.levels[bw].scale,by=bu.tileSize,bt=bu.tileOrigin;if(Math.abs(Math.log(bs/bo.getScale()))>0.1){return}var bq=Math.floor((bv.x-bt.x)/bs),bp=Math.floor((bv.y-bt.y)/bs);return{x:Math.floor(bq/by.x),y:Math.floor(bp/by.y),left:Math.floor(bq%by.x),top:Math.floor(bp%by.y),z:bw+bu.minLevel}
},showTile:function(){},addBuffer:function(bs,bv){var bo=this._bufferData,bt=this._bufferNum;if(!bo){bo=this._bufferData=[];bt=this._bufferNum=500}if(bt<=0||bo[bs]){return}bo[bs]=bv;bo.push(bs);var bu=bo.length-bt;for(var br=0;bu>0&&br<bo.length;br++){var bp=bo[br],bq=bo[bp];if(bo[bp]){delete bo[bp]}bo.splice(br,1);br--;bu--}},onClick:function(bp,bt){if(bt!=1){return}this.onMouseMove(bp);var br=this.currentPoi,bu=this.layer.control.map;if(bu.isMarking&&bu.isMarking()){return}if(br){var bv=this.getLatLng(this.currentId,br);
var bo=bd(bu,this.eventName,[br,bv]);if(!bo){return}if(this.infoServ&&br.id){if(!window[this.cbName+"_Info"]){window[this.cbName+"_Info"]=a5(this,this.onInfoLoaded)}var bs=typeof(br.id)==U[48]?br.id.toFixed():br.id.toString();aw(this.infoServ+"i="+bs+"&cb="+this.cbName+"_Info")}else{var bq=bu.openInfoWindow(bv,br.name,br.name);bq._name=br.name;bq.moveIntoView()}}},initDiv:function(bo){},setPosition:function(){},onLoad:function(bp){if(!bp||!this.layer){return}var bo=this.currentId;for(var br=bp.length-1;br>=0;
br--){var bt=bp[br],bs=bt.id,bq=[bs.x,bs.y,bs.z].join(",");delete this.loadMap[bq];this.addBuffer(bq,bt);if(bo&&bo.x==bs.x&&bo.y==bs.y&&bo.z==bs.z){this.check(bo,bt)}}},initialize:function(bo){this.layer=bo;var bp=bo.control.map;this.listeners=[Q(bp,U[64],this,this.onMouseMove),Q(bp,"zoom",this,function(){if(this.tips&&this.tips.map){this.tips.map.removeOverlay(this.tips)}}),Q(bp,U[47],this,this.onClick)]},loadTile:function(){}});function aO(bp){aE(this,{tileSize:{x:256,y:256},tileOrigin:{x:0,y:0},startScale:360/256});
aE(this,bp);if(this.prj&&this.prj.cla&&!this.prj.fromLatLngToPixel){this.prj=new this.prj.cla(this.prj.config)}if(!this.prj){this.prj=new ba()}if(this.tileRender.cla&&!this.tileRender.initialize){this.tileRender=new this.tileRender.cla(this.tileRender.config)}if(!this.levels){var br=this.levels=[];var bo=this.maxLevel?this.maxLevel:20;var bs=this.minLevel?this.minLevel:0;for(var bq=bs;bq<=bo;bq++){br.push({scale:this.startScale/Math.pow(2,bq),name:bq})}}}T(aO.prototype,{onMapScale:function(bt){var bq=this.control.map,bs=bq.getScale(),bo=bq.getCenter();
if(!bo){return}var bv=this.zoomIndex=this.getZoomIndex(bs);var bx=this.getMapDiv(bv);this.setCurrentIndex(bv);var br=this.mapDivs;if(br){for(var bw in br){var bp=br[bw];if(!bp||!bp.mapTiles){continue}if(this.singleTileDiv&&bp!=bx){this.removeDiv(bw);continue}var bu=(bp!=bx)||(bq.getTargetScale&&this.getZoomIndex(bq.getTargetScale())!=bv);this.showTiles(bw,true,bt,bu)}}},remove:function(){this.currentIndex=-1;var bp=this.mapDivs;for(var bo in bp){if(!bp[bo].mapTiles){return}this.removeDiv(bo)}this.tileRender.remove();
delete this.mapDivs},hideTile:function(bp,bo){if(bp.isError){this.setTileStat(bp.z,"error",-1)}if(bp.isLoaded){this.setTileStat(bp.z,"show",-1);this.tileRender.hideTile(bp)}else{this.tileRender.deposeTile(bp)}this.setTileStat(bp.z,"total",-1);delete bo["Tile_"+bp.x+"_"+bp.y+"_"+bp.z]},toMapId:function(bo,bp){var bs=this.levels[bp].scale,br=this.tileSize,bq=this.tileOrigin;return{x:Math.floor((bo.x-bq.x)/bs/br.x),y:Math.floor((bo.y-bq.y)/bs/br.y)}},getProjection:function(){return this.prj},setCurrentIndex:function(bo){var bp=this.currentIndex;
if(bp==bo){return}if(this.cTimeout){window.clearTimeout(this.cTimeout);delete this.cTimeout}this.currentIndex=bo;this.tileRender.setCurrentIndex(this.getMapDiv(bo),this.getMapDiv(bp))},copy:function(){var bo={};aE(bo,this.config);bo.tileRender=this.tileRender.copy();return new aO(this.config)},getMapDiv:function(bp){if(typeof(bp)==U[82]||bp<0){return}var bq=this.mapDivs;if(!bq){bq=this.mapDivs={}}var bo=bq[bp];if(!bo){bo=bq[bp]={mapTiles:{},tileStat:{total:0,error:0,show:0},index:bp};this.tileRender.initDiv(bo)
}return bo},onMapMove:function(){if(this.currentIndex>=0){this.showTiles(this.currentIndex)}},removeDiv:function(bp){this.clearDiv(bp);var bo=this.getMapDiv(bp);if(bp==this.currentIndex){this.currentIndex=-1}delete this.mapDivs[bp]},getTile:function(bo,bq,bp){return this.getMapDiv(bp).mapTiles["Tile_"+bo+"_"+bq+"_"+bp]},onTileError:function(bo){bo.isError=true;this.setTileStat(bo.z,"error",1)},clearDiv:function(bq){var bp=this.getMapDiv(bq),bo=bp.mapTiles;for(var bs in bo){var br=bo[bs];if(!br.x){continue}this.hideTile(br,bo)
}bp.mapTiles={};bp.tileRectangle=null;this.tileRender.removeDiv(bp)},setTileStat:function(bp,bo,bq){var br=this.getMapDiv(bp).tileStat;br[bo]+=bq;if(this.control.setTileStat){this.control.setTileStat(bo,bq)}if(bo=="show"&&this.currentIndex==bp&&!this.cTimeout){this.cTimeout=setTimeout(a5(this,this.checkTile),100)}},checkTile:function(){var bo=this.currentIndex;if(bo>0){var br=this.getMapDiv(bo).tileStat;if(br.total==br.show){var bq=this.mapDivs;for(var bp in bq){if(bp!=bo&&bq[bp].mapTiles){this.removeDiv(bp)
}}}}delete this.cTimeout},showTiles:function(bO,bV,bE,bI){var bF=this.getMapDiv(bO),bG=bF.tileRectangle,bS=this.control.map,bH;var bu=this.getZoomLevels(),bQ=bS.getCenter(),bU=bS.getScale(),bs=bS.getViewSize();if(this.prj!=bS.getProjection()&&bF.div){var bA=this.prj,bv=bu[bO].scale,bq=bS.getGeoPosition(bS.fromLatLngToPixel(bQ,bv)),bp=bS.getGeoPosition(bA.fromLatLngToPixel(bQ,bv,bA)),bW=bF.div._zoom;var bt=bF.offset={x:bq.x-bp.x,y:bq.y-bp.y};if(bW&&bW!=1){var bs=bS.getViewSize();bt={x:bt.x-bs.x/2*(bW-1),y:bt.y-bs.y/2*(bW-1)}
}aR(bF.div,bt)}else{if(bE&&bF.div&&bF.offset){delete bF.offset;var bs=bS.getViewSize(),bW=bF.div._zoom,bt={x:0,y:0};if(bW&&bW!=1){var bs=bS.getViewSize();bt={x:-bs.x/2*(bW-1),y:-bs.y/2*(bW-1)}}aR(bF.div,bt)}}var br=bS.getTargetScale?(bI?Math.max(bU,bS.getTargetScale()):Math.min(bU,bS.getTargetScale())):bU;var bD=this.prj.fromLatLngToPixel(bQ);bH=new a(new bj(bD.x-bs.x/2*br,bD.y-bs.y/2*br),new bj(bD.x+bs.x/2*br,bD.y+bs.y/2*br));if(bV||bE){bG=null}if(bG&&bG.containsRectangle(bH)){return}var bJ=this.tileRender;
if(bu&&Math.abs(Math.log(bU/bu[bO].scale))>bJ.scalePower){this.removeDiv(bO);return}var bz=this.toMapId(bH.min,bO),bB=this.toMapId(bH.max,bO);var bN=bz.x,bM=bz.y,bL=bB.x,bK=bB.y;var bo=bF.mapTiles,bT;for(var bR in bo){bT=bo[bR];if(typeof(bT.x)!=U[48]){continue}if(bN>bT.x||bL<bT.x||bM>bT.y||bK<bT.y||(bI&&!bT.isLoaded)){this.hideTile(bT,bo);continue}bJ.setPosition(bT,bE)}for(var by=bN;by<=bL;by++){for(var bw=bM;bw<=bK;bw++){var bP="Tile_"+by+"_"+bw+"_"+bO,bT=bo[bP];if(!bT){bT={x:by,y:bw,z:bO};bT.coords=this.getRectangleById(bT);
if(bJ.loadTile(bT,bI)){bo[bP]=bT;this.setTileStat(bT.z,"total",1)}}}}var bx=this.getRectangleById({x:bN,y:bM,z:bO}),bC=this.getRectangleById({x:bL,y:bK,z:bO});bF.tileRectangle=bx.extend(bC.min).extend(bC.max)},getZoomLevels:function(){return this.levels},getZoomIndex:function(bs){var bp=this.levels,bo=bp.length;for(var br=0;br<bo;br++){var bq=bp[br].scale;if(bs>=bq){if(br>0&&bs/bp[br-1].scale>bq/bs){return br-1}return br}}return bo-1},getPixelRectById:function(bv,bu){var bq=this.getRectangleById(bv),bo=this.prj,bs=this.control.map,bt=this.getMapDiv(bv.z).offset;
var br=bs.getGeoPosition(bq.min,bu,bo),bp=bs.getGeoPosition(bq.max,bu,bo);return new a(br,bp)},onTileLoaded:function(bo){if(!bo.isLoaded){bo.isLoaded=true;this.setTileStat(bo.z,"show",1);this.tileRender.showTile(bo)}},initialize:function(bo){this.control=bo;this.tileRender.initialize(this)},getRectangleById:function(br){var bq=this.levels[br.z].scale,bp=this.tileSize,bo=this.tileOrigin;return new a(new bj(br.x*bq*bp.x+bo.x,br.y*bq*bp.y+bo.y),new bj((br.x+1)*bq*bp.x+bo.x,(br.y+1)*bq*bp.y+bo.y))}});function o(){}T(o.prototype,{depose:function(){this.remove()
},getContainer:function(){return this.div},setLayout:function(bo){this.layout=bo=bo?bo:{x:0,y:0};if(bo.x||bo.y){if(this.map&&!this.rslis){this.rslis=Q(this.map,U[46],this,this.onMapResize)}}else{if(this.rslis){a6(this.rslis);delete this.rslis}}this.onMapResize()},onMapResize:function(){var bq=this.map,bp=this.layout,bo=this.position,br=bq?bq.getViewSize():{x:0,y:0};if(!bo||!bp){return}aR(this.getContainer(),{x:Math.ceil(br.x*bp.x+bo.x),y:Math.ceil(br.y*bp.y+bo.y)})},setPosition:function(bo){this.position=bo?bo:{x:0,y:0};
this.onMapResize()},initialize:function(bo){return true},remove:function(){var bp=this.listeners;if(bp){for(var bo=bp.length-1;bo>=0;bo--){a6(bp[bo])}}a6(this.rslis);delete this.listeners;delete this.rslis;delete this.map}});function ai(){}ai.prototype=new o();T(ai.prototype,{getProjection:function(){return this.prj},getBounds:function(bq,bp,bo,br){if(!bo){bo=this.map.getCenter()}if(!bo){return null}var bs=this.map.getViewSize();return new ao(this.fromContainerPixelToLatLng(bq?bq:{x:0,y:bs.y},bo,br),this.fromContainerPixelToLatLng(bp?bp:{x:bs.x,y:0},bo,br))
},fromLatLngToPixel:function(bo){return this.prj?this.prj.fromLatLngToPixel(bo):{x:bo.lng(),y:bo.lat()}},initialize:function(bo){if(this.map){return false}aE(bo,{setProjection:a5(this,this.setProjection),getProjection:a5(this,this.getProjection),fromLatLngToPixel:a5(this,this.fromLatLngToPixel),fromPixelToLatLng:a5(this,this.fromPixelToLatLng),fromContainerPixelToLatLng:a5(this,this.fromContainerPixelToLatLng),fromLatLngToContainerPixel:a5(this,this.fromLatLngToContainerPixel),getBounds:a5(this,this.getBounds),getRectangle:a5(this,this.getRectangle)});
this.map=bo;return true},fromContainerPixelToLatLng:function(bp,bo,bs,bq){bs=bs?bs:this.map.getScale();bo=bo?bo:this.map.getCenter();if(!bo||!bs){return}if(!bq){var bt=this.map.getViewSize();bq={x:bt.x/2,y:bt.y/2}}var br=this.fromLatLngToPixel(bo);return this.fromPixelToLatLng({x:br.x+(bp.x-bq.x)*bs,y:br.y+(bp.y-bq.y)*bs})},remove:function(){var bo=this.map;delete bo.setProjection;delete bo.getProjection;delete bo.fromLatLngToPixel;delete bo.fromPixelToLatLng;delete bo.fromContainerPixelToLatLng;delete bo.fromLatLngToContainerPixel;
delete bo.getRectangle;delete bo.getBounds;o.prototype.remove.apply(this,arguments)},getRectangle:function(bq,bp,bo,bt){var br=this.map;bo=bo?bo:br.getCenter();bt=bt?bt:br.getScale();if(!bo||!bt){return null}var bu=br.getViewSize(),bs=this.fromLatLngToPixel(bo);bq=bq?bq:{x:0,y:0};bp=bp?bp:bu;return new a(new bj(bs.x+(bq.x-bu.x/2)*bt,bs.y+(bq.y-bu.y/2)*bt),new bj(bs.x+(bp.x-bu.x/2)*bt,bs.y+(bp.y-bu.y/2)*bt))},fromLatLngToContainerPixel:function(bu,bo,bs,bq){bs=bs?bs:this.map.getScale();bo=bo?bo:this.map.getCenter();
if(!bq){var bt=this.map.getViewSize();bq={x:bt.x/2,y:bt.y/2}}var br=this.fromLatLngToPixel(bo);var bp=this.fromLatLngToPixel(bu);return{x:Math.floor((bp.x-br.x)/bs+bq.x),y:Math.floor((bp.y-br.y)/bs+bq.y)}},setProjection:function(bo){if(bo==this.prj){return}this.prj=bo;bd(this.map,U[45],[bo])},fromPixelToLatLng:function(bo){return this.prj?this.prj.fromPixelToLatLng(bo):new r(bo.y,bo.x)}});function aI(){}aI.prototype=new o();T(aI.prototype,{remove:function(){var bo=this.map;delete bo.setZoomScales;delete bo.getZoomScales;
delete bo.isStepZoom;delete bo.centerAndZoom;delete bo.getBoundsZoom;delete bo.getZoom;delete bo.setZoom;delete bo.zoomIn;delete bo.zoomOut;delete bo.getZoomScale;delete bo.checkScale;delete bo.savePosition;delete bo.returnToSavedPosition;delete bo.fitBounds;o.prototype.remove.apply(this,arguments)},zoomIn:function(){var bo=this.map,bp=bo.getScale();if(this.levels){this.setZoomIndex(this.getZoomIndex(bp,1)+1)}else{if(bo.panScale){bo.panScale(bp/2)}else{bo.setScale(bp/2)}}},getZoomScale:function(bp,bo){if(!this.levels){return bp
}return this.levels[this.getZoomIndex(bp,bo)].scale},savePosition:function(){var bo=this.map;this.savedPosition={ll:(bo.getTargetCenter?bo.getTargetCenter():bo.getCenter()),scale:(bo.getTargetScale?bo.getTargetScale():bo.getScale())}},onMapInit:function(){if(!this.levels){return}var bo=this.map;if(this._isStepZoom&&this.levels){this.setZoomIndex(this.getZoomIndex(bo.getScale()))}this.savePosition()},setZoomIndex:function(bp,bs){if(!this.levels[bp]){return}var bq=this.map,bo=this.zoomIndex,br=this.levels[bp].scale;
this.zoomIndex=bp;if(!bs&&bq.panScale){bq.panScale(br)}else{bq.setScale(br)}if(bp!=bo){bd(this.map,"zoom",[this.levels[bp].name])}},onAfterScaleChange:function(bp){if(!this.levels){return}var bo=this.getZoomIndex(bp);if(bo!=this.zoomIndex){this.zoomIndex=bo;bd(this.map,"zoom",[this.levels[bo].name])}},getZoom:function(){var bo=this.map.getScale();if(!bo){return}return this.levels[this.getZoomIndex(bo)].name},zoomOut:function(){var bo=this.map,bp=bo.getScale();if(this.levels){this.setZoomIndex(this.getZoomIndex(bp,-1)-1)
}else{if(bo.panScale){bo.panScale(bp*2)}else{bo.setScale(bp*2)}}},getBoundsZoom:function(br,bt){bt=bt?bt:10;var bs=this.map,bp=bs.getViewSize(),bq=bs.fromLatLngToPixel(br.sw),bo=bs.fromLatLngToPixel(br.ne);var bu=Math.max(Math.abs(bq.x-bo.x)/Math.max(bt,bp.x-bt*2),Math.abs(bq.y-bo.y)/Math.max(bt,bp.y-bt*2));return this.levels[this.getZoomIndex(bu,1)].name},returnPosition:function(){var bo=this.savedPosition;if(bo){var bq=bo.ll,bp=this.map;if(bp.panTo){bp.panTo(bq)}else{bp.setCenter(bq)}bp.setScale(bo.scale)}},isStepZoom:function(){return this._isStepZoom
},checkScale:function(bp,bs){var bq=this.map,br=bq.getScale();if(!br){return}var bo=this.getZoomIndex(br,bp);this.setZoomIndex(bo,bs)},setZoomScales:function(bo){if(this.levels==bo){return false}this.levels=bo;bd(this.map,U[44],[bo]);this.checkScale(0,true)},setZoom:function(bp,br){var bq=this.levels;for(var bo=bq.length-1;bo>=0;bo--){if(bp==bq[bo].name){this.setZoomIndex(bo,br);break}}bp=parseInt(bp);if(!isNaN(bp)){this.setZoomIndex(this.getZoomIndex(360/256/Math.pow(2,bp)),br)}},centerAndZoom:function(bo,bp){this.setZoom(bp);
this.map.setCenter(bo);this.savePosition()},fitBounds:function(bp){if(!bp){return}var bt=20,bq=this.map,bx=bq.getViewSize(),br=bq.getProjection();var bv=br.fromLatLngToPixel(bp.sw),bu=br.fromLatLngToPixel(bp.ne);var bs=Math.max(Math.abs(bv.x-bu.x)/Math.max(bt,bx.x-bt),Math.abs(bv.y-bu.y)/Math.max(bt,bx.y-bt));var bo=bq.fromPixelToLatLng({x:(bv.x+bu.x)/2,y:(bv.y+bu.y)/2});if(this._isStepZoom){var bw=this.getZoomIndex(bs,1);if(true&&bq.loaded){this.setZoomIndex(bw);bq.panTo(bo);bq.savePosition()}else{this.centerAndZoom(bo,bw)
}}else{bq.panScale(bs);bq.panTo(bo);bq.savePosition()}},onBeforeScaleChange:function(br){var bq=this.map,bp=this.levels;if(!bp){return}var bo=bp[0].scale;if(bo<br){this.setZoomIndex(0,true);return false}bo=bp[bp.length-1].scale;if(bo>br){this.setZoomIndex(bp.length-1,true);return false}return true},getZoomScales:function(){return this.levels},getZoomIndex:function(bt,bq){bq=bq?bq:0;var bs=this.levels,bo=bs.length;for(var br=0;br<bo;br++){var bp=bs[br].scale;if(bt==bp){return br}if(bt>bp){if(br>0&&((bq==1)||(bq==0&&bt/bs[br-1].scale>bp/bt))){return br-1
}return br}}return bo-1},initialize:function(bo){if(this.map){return false}aE(bo,{setZoomScales:a5(this,this.setZoomScales),getZoomScales:a5(this,this.getZoomScales),isStepZoom:a5(this,this.isStepZoom),centerAndZoom:a5(this,this.centerAndZoom),getBoundsZoom:a5(this,this.getBoundsZoom),getZoom:a5(this,this.getZoom),setZoom:a5(this,this.setZoom),zoomIn:a5(this,this.zoomIn),zoomOut:a5(this,this.zoomOut),getZoomScale:a5(this,this.getZoomScale),getZoomIndex:a5(this,this.getZoomIndex),checkScale:a5(this,this.checkScale),savePosition:a5(this,this.savePosition),returnToSavedPosition:a5(this,this.returnPosition),fitBounds:a5(this,this.fitBounds)});
this.listeners=[Q(bo,U[43],this,this.onMapInit),Q(bo,U[42],this,this.onBeforeScaleChange),Q(bo,U[41],this,this.onAfterScaleChange)];this.map=bo;this._isStepZoom=!bo.config.steplessZoom;return true}});function aA(){this.slideNum=8;this.intervalTime=32;this.enableMove=true;this.enableScale=true}aA.prototype=new o();T(aA.prototype,{panTo:function(bv){var br=this.map;if(!br.loaded){br.setCenter(bv);return}var bp=br.fromLatLngToContainerPixel(bv),bu=br.getViewSize();var bt={x:bp.x-bu.x/2,y:bp.y-bu.y/2},bq=1;if((Math.abs(bt.x)<this.slideNum&&Math.abs(bt.y)<this.slideNum)||Math.abs(bt.x)>bu.x*bq||Math.abs(bt.y)>bu.y*bq){br.setCenter(bv);
return}var bs=this.slideObj,bo=br.getCenter();if(!bs){bs=this.startSlide()}if(!bs.toPoint){bd(br,U[40])}aE(bs,{number:0,toPoint:bv,fromPoint:bo,moveOffset:{x:bv.lng()-bo.lng(),y:bv.lat()-bo.lat()},ml:Q(br,U[39],this,this.onMapMove)});this.slide()},onMapMove:function(){var bo=this.slideObj;if(!bo||bo.startSetCenter){return}if(bo.toPoint){bo.toPoint=null;bd(this.map,U[38])}a6(bo.ml);if(!bo.toScale&&!bo.toPoint){this.slideEnd()}},getTargetScale:function(){var bp=this.slideObj;if(bp){var bo=bp.toScale;if(bo){return bo
}}return this.map.getScale()},startSlide:function(){return this.slideObj={timeout:window.setInterval(a5(this,this.slide),this.intervalTime)}},onMapScaleChange:function(){var bo=this.slideObj;if(!bo||bo.startSetScale){return}if(bo.toScale){bo.toScale=null;bd(this.map,U[38])}a6(bo.sl);if(!bo.toScale&&!bo.toPoint){this.slideEnd()}},panBy:function(bo){var bq=this.map,br=bq.getViewSize();var bp=bq.fromContainerPixelToLatLng({x:br.x/2+bo.x,y:br.y/2+bo.y});this.panTo(bp)},slideEnd:function(){var bp=this.slideObj,bo=this.map;
if(!bp){return}this.slideObj=null;window.clearInterval(bp.timeout);a6(bp.ml);a6(bp.sl);if(bp.toPoint){bd(bo,U[37]);bo.setCenter(bp.toPoint)}if(bp.toScale){bd(bo,U[38]);bo.setScale(bp.toScale)}},slide:function(){var bt=this.slideObj,bq;if(!bt){return}var br=this.slideNum;if(bt.number>=(bt.scaleByPoint?br:(br-1))){this.slideEnd();return}bt.number++;var bv=(Math.sin(Math.PI*(bt.number/br-0.5))/2+0.5);var bp=this.map,bu=bp.getViewSize();if(bt.toScale){bq=bt.scaleOffset;var bs=bt.fromScale;bt.startSetScale=true;bp.setScale(bs*Math.pow(Math.E,bq*bv));
bt.startSetScale=false;if(!bt.toPoint&&bt.scaleByPoint){var bw=bt.scaleByPoint;var bo=bp.fromContainerPixelToLatLng({x:bu.x-bw.x,y:bu.y-bw.y},bt.scaleByll);bp.setCenter(bo)}}if(bt.toPoint){bq=bt.moveOffset;bt.startSetCenter=true;bp.setCenter(new r(bt.fromPoint.lat()+bq.y*bv,bt.fromPoint.lng()+bq.x*bv));bt.startSetCenter=false}},initialize:function(bo){if(this.map){return false}this.map=bo;if(this.enableMove){bo.getTargetCenter=a5(this,this.getTargetCenter);bo.panTo=a5(this,this.panTo);bo.panBy=a5(this,this.panBy)
}if(this.enableScale){bo.getTargetScale=a5(this,this.getTargetScale);bo.panScale=a5(this,this.panScale)}return true},remove:function(){if(this.slideObj){this.slideEnd()}var bo=this.map;if(this.enableMove){delete bo.panTo;delete bo.panBy;delete bo.getTargetCenter}if(this.enableScale){delete bo.panScale;delete bo.getTargetScale}o.prototype.remove.apply(this,arguments)},getTargetCenter:function(){var bp=this.slideObj;if(bp){var bo=bp.toPoint;if(bo){return bo}}return this.map.getCenter()},panScale:function(bs,bo){var bq=this.map;
if(!bq.loaded){bq.setScale(bs);return}var bp=bq.getScale(),bt=Math.abs(Math.log(bs/bp));if(bt<0.1||bt>3){bq.setScale(bs);return}var br=this.slideObj;if(!br){br=this.startSlide()}if(!br.toScale){bd(bq,U[36])}aE(br,{number:0,toScale:bs,fromScale:bp,scaleByPoint:bo,scaleOffset:Math.log(bs/bp),sl:Q(bq,U[41],this,this.onMapScaleChange)});if(bo){aE(br,{scaleByPoint:bo,scaleByll:bq.fromContainerPixelToLatLng(bo)})}this.slide()}});function I(){this.enableMove=true;this.enableScale=true}I.prototype=new o();T(I.prototype,{slideMove:function(bo,br){if(bo&&bo.x==0&&bo.y==0){bo=null
}var bq=this.getSlideObj(),bp=this.map;if(!bq.moveSpeed&&bo){bd(bp,U[40])}if(bq.moveSpeed&&!bo){bd(bp,U[37])}bq.moveSpeed=bo;bq.moveSpeedup=!!br;bq.moveTimes=0;this.checkSlide()},onMapMove:function(){var bo=this.slideObj;if(!bo||bo.startSet){return}this.slideMove()},slide:function(){var bq=this.slideObj;if(!bq){return}var bp=this.map,bt=bq.moveSpeed,bs=bq.scaleSpeed,br=bp.getViewSize();bq.startSet=true;if(bt){var bo=bq.moveSpeedup?Math.min(bq.moveTimes/128,1):1;bq.moveTimes++;bp.setCenter(bp.fromContainerPixelToLatLng({x:bt.x*bo*-32,y:bt.y*bo*-32},null,null,{x:0,y:0}))
}if(bs){if(bq.scaleSpeedup){bs=bs*Math.min(bq.scaleTimes/32,1)}bq.scaleTimes++;bp.setScale(bp.getScale()*Math.pow(2,bs))}bq.startSet=false},initialize:function(bo){if(this.map){return false}this.map=bo;if(this.enableMove){bo.slideMove=a5(this,this.slideMove);bo.startAutoSlide=a5(this,this.startAutoSlide);bo.endAutoSlide=a5(this,this.endAutoSlide)}if(this.enableScale){bo.slideScale=a5(this,this.slideScale)}return true},slideScale:function(bo,br){var bq=this.getSlideObj(),bp=this.map;if(!bq.scaleSpeed&&bo){bd(bp,U[36])
}if(bq.scaleSpeed&&!bo){bd(bp,U[38]);if(bp.isStepZoom&&bp.isStepZoom()){bp.checkScale(bq.scaleSpeed>0?1:-1)}}bq.scaleSpeed=bo;bq.scaleSpeedup=!!br;bq.scaleTimes=0;this.checkSlide()},remove:function(){this.onMapMove();var bo=this.map;if(this.enableMove){delete bo.slideMove;delete bo.startAutoSlide;delete bo.endAutoSlide}if(this.enableScale){delete bo.slideScale}o.prototype.remove.apply(this,arguments)},startAutoSlide:function(bo){bo=bo?bo:{};var bp=bo.speed;if(!bp){bp=0.5}if(this.asObj){this.endAutoSlide()}this.asObj={speed:bp,padding:bo.padding?bo.padding:16,speedup:bo.speedup,ml:Q(document,U[64],this,this.onMouseMove)}
},checkSlide:function(){var bp=this.slideObj,bq=bp.moveSpeed,bo=this.map;if((bq&&(bq.x!=0||bq.y!=0))||bp.scaleSpeed){if(!bp.timeout){bp.timeout=window.setInterval(a5(this,this.slide),32)}if(!bp.ml){bp.ml=Q(bo,U[39],this,this.onMapMove);bp.md=Q(bo,U[65],this,this.onMapMove)}}else{if(bp.timeout){window.clearInterval(bp.timeout);delete bp.timeout}if(bp.ml){a6(bp.ml);a6(bp.md);delete bp.ml;delete bp.md}}},onMouseMove:function(bs){var bo=this.asObj;if(!bo){return}var bz=a7(bs,this.map.getContainer()),bw=document.documentElement,bv=a7(bs,bw);
var bu=this.map.getViewSize(),by=bo.padding,bp=bo.speed,br=0,bq=0,bx=bz.x,bt=bz.y;if(bx<by){br=bp}if(bt<by){bq=bp}if(bx>bu.x-by){br=-bp}if(bt>bu.y-by){bq=-bp}if(br==bo.speedX&&bq==bo.speedY){return}bo.speedX=br;bo.speedY=bq;if(br||bq){this.slideMove({x:br,y:bq},bo.speedup);bo.started=true}else{this.slideMove();bo.started=false}},getSlideObj:function(){var bo=this.slideObj;if(!bo){bo=this.slideObj={}}return bo},endAutoSlide:function(){var bo=this.asObj;if(!bo){return}delete this.asObj;a6(bo.ml);if(bo.started){this.map.slideMove()
}}});function a3(){var bp={normal:"url(%i%openhand_8_8.cur) 9 9",mark:"url(%i%crosshairs.cur) 9 9",move:"url(%i%closedhand_8_8.cur) 9 9"};this.cursors={};if(bp){for(var bo in bp){if(typeof(bp[bo])!=U[74]){continue}this.cursors[bo]=bp[bo].replace("%i%",aK)}}}a3.prototype=new o();T(a3.prototype,{setCursor:function(bp,bo){this.cursors[bp]=bo;var bq=this.cursorStack;if(bq[bq.length-1]==bp){this.setCursorStyle(bp,bo)}},onDragStart:function(){this.applyCursor("move")},applyCursor:function(bo){var bp=this.cursorStack;
if(bo){bp.push(bo)}else{bp.pop();bo=bp[bp.length-1]}var bq=this.cursors[bo];if(!bq||!this.map){return}this.setCursorStyle(bo,bq)},getCursor:function(bo){return this.cursors[bo]},setCursorStyle:function(bo,bp){switch(bo){case"normal":bo=U[76];break;case"mark":bo="crosshair";break}aU(this.map.getContainer(),bp,bo)},initialize:function(bo){if(this.map){return false}this.listeners=[Q(bo,U[35],this,this.onDragStart),Q(bo,U[34],this,this.applyCursor)];aE(bo,{applyCursor:a5(this,this.applyCursor),setCursor:a5(this,this.setCursor),getCursor:a5(this,this.getCursor)});
this.map=bo;this.cursorStack=[];this.applyCursor("normal");return true},remove:function(){var bo=this.map;delete bo.applyCursor;delete bo.setCursor;o.prototype.remove.apply(this,arguments)}});function ap(){}ap.prototype=new o();T(ap.prototype,{startMarking:function(){var bo=this.map;if(bo.applyCursor){bo.applyCursor("mark")}this.isMark=true},endMarking:function(){var bo=this.map;if(bo.applyCursor){bo.applyCursor()}this.isMark=false},isMarking:function(bo,bp){return this.isMark},initialize:function(bo){if(this.map){return false
}this.map=bo;aE(bo,{startMarking:a5(this,this.startMarking),endMarking:a5(this,this.endMarking),isMarking:a5(this,this.isMarking)});this.isMark=false;return true}});function bi(){}bi.prototype=new o();T(bi.prototype,{hide:function(){bf(this.div)},setText:function(bp,bo){if(bp){if(this.div){this.hide()}var bq=this.div=document.createElement("div");bo=bo?bo:{};this.offset=bo.offset?bo.offset:{x:0,y:0};ad(bq,{padding:"2px",fontSize:U[50],border:"solid 1px #5A5C2A",backgroundColor:"#FCFFE9"});bq.__pointerEvents=U[81];
if(bo.style){ad(bq,bo.style)}ad(bq,{position:U[78],zIndex:1000});this.map.container.appendChild(bq);if(typeof(bp)!=U[67]){bq.innerHTML=bp}else{bq.appendChild(bp)}if(!this.listeners){this.listeners=[Q(this.map,U[64],this,this.show)]}ad(this.div,{display:U[81]});if(this.lastPosition&&(this.showDelay||bo.show)){this.show(this.lastPosition)}}else{if(this.listeners){a6(this.listeners[0]);delete this.listeners}this.hide()}},show:function(bo){var bp=this.offset;this.lastPosition=bo;ad(this.div,{display:""});aR(this.div,{x:bo.x+bp.x,y:bo.y+bp.y});
this.showDelay=true;if(this.showTimeout){window.clearTimeout(this.showTimeout)}this.showTimeout=window.setTimeout(a5(this,function(){this.showDelay=false;delete this.showTimeout},10))},initialize:function(bo){if(this.map){return false}this.map=bo;bo.setCursorText=a5(this,this.setText);return true},remove:function(){this.setText();delete this.showTimeout;delete this.map.setCursorText}});function m(){}m.prototype=new o();T(m.prototype,{checkResize:function(){this.map.setViewSize()},initialize:function(bq){if(this.map){return false
}bq.checkResize=bq.setViewSize;var bo=bq.getContainer(),bp=bo.style;if(!bp.width||bp.width.indexOf("%")>0||bp.height||bp.height.indexOf("%")>0){this.listeners=[Q(bo,"resize",this,this.checkResize),Q(window,"resize",this,this.checkResize),Q(window,"load",this,this.checkResize)]}this.map=bq;return true}});function aN(){this.maxPixel=100000}aN.prototype=new o();T(aN.prototype,{getGeoPanel:function(){return this.div},onMapMove:function(){var bt=this.map,bu=bt.getScale(),bs=this.geoLatlng,bq=bt.getCenter();if(!bq){return
}if(!bs){bs=this.geoLatlng=bq}var bp=bt.fromLatLngToPixel(bs),bv=bt.fromLatLngToPixel(bq);var br=this.maxPixel,bo={x:Math.floor((bp.x-bv.x)/bu),y:Math.floor((bp.y-bv.y)/bu)};if(Math.abs(bo.x)>br||Math.abs(bo.y)>br){this.geoLatlng=bq;bd(bt,U[33]);bo={x:0,y:0}}aR(this.div,bo)},initialize:function(bp,bo){if(this.map||!bp.fromLatLngToContainerPixel){return false}var bq=this.div=document.createElement("div");ad(bq,{position:U[78],zIndex:100,overflow:U[79],width:U[77]});aH(bq);bo.appendChild(bq);bp.getGeoPanel=a5(this,this.getGeoPanel);
bp.getGeoPosition=a5(this,this.getGeoPosition);this.listeners=[Q(bp,U[43],this,this.onMapMove),Q(bp,U[41],this,this.onMapMove),Q(bp,U[45],this,this.onMapMove),Q(bp,U[39],this,this.onMapMove)];this.map=bp;return true},getGeoPosition:function(bp,bt,bq){var bs=this.map,bu=bs.getViewSize(),br=this.geoLatlng,bo=(bq?bq:bs).fromLatLngToPixel(br);bt=bt?bt:this.map.getScale();return{x:Math.floor((bp.x-bo.x)/bt+bu.x/2),y:Math.floor((bp.y-bo.y)/bt+bu.y/2)}},remove:function(){bf(this.div);delete this.div;var bo=this.map;
delete bo.getGeoPanel;delete bo.getGeoPosition;o.prototype.remove.apply(this,arguments)}});function H(){this.tileStat={total:0,error:0,show:0};this.layers=[]}H.prototype=new o();T(H.prototype,{getLayers:function(){return this.layers},onGeoChange:function(){var bp=this.layers;for(var bo=0;bo<bp.length;bo++){bp[bo].onMapScale(true)}},addLayer:function(bp){var bq=this.layers;for(var bo=bq.length-1;bo>=0;bo--){if(bq[bo]==bp){return}}bq.push(bp);bp.initialize(this);bp.onMapScale()},onInit:function(){this.onScale();
this.onMove()},getTileStat:function(){return this.tileStat},setTileStat:function(bo,bp){this.tileStat[bo]+=bp;bd(this.map,"tilechange",[bo,bp])},initialize:function(bo){if(this.map||!bo.getGeoPanel){return false}this.map=bo;aE(bo,{addMapLayer:a5(this,this.addLayer),removeMapLayer:a5(this,this.removeLayer),getMapLayers:a5(this,this.getLayers),clearMapLayers:a5(this,this.clearLayers)});this.listeners=[Q(bo,U[43],this,this.onInit),Q(bo,U[41],this,this.onScale),Q(bo,U[33],this,this.onGeoChange),Q(bo,U[45],this,this.onGeoChange),Q(bo,U[46],this,this.onGeoChange),Q(bo,U[39],this,this.onMove)]
},remove:function(){this.clearLayers();var bo=this.map;delete bo.addMapLayer;delete bo.removeMapLayer;delete bo.getMapLayers;delete bo.removeMapLayer;o.prototype.remove.apply(this,arguments)},clearLayers:function(){var bo=this.layers;while(bo[0]){this.removeLayer(bo[0])}},onScale:function(){var bp=this.layers;for(var bo=0;bo<bp.length;bo++){bp[bo].onMapScale()}},removeLayer:function(bp){if(!bp){return}var bq=this.layers;for(var bo=bq.length-1;bo>=0;bo--){if(bq[bo]==bp){bp.remove();bq.splice(bo,1);break}}},onMove:function(){var bp=this.layers;
for(var bo=0;bo<bp.length;bo++){bp[bo].onMapMove()}}});function a1(bo){this.id="";aE(this,bo)}function j(){this.types=[];this.typeIds={};this.layerIds={}}j.prototype=new o();T(j.prototype,{getLayerById:function(bo){if(typeof(bo)!=U[74]){if(bo.control&&bo.control.map!=this.map){return bo.copy()}return bo}return this.layerIds[bo]},addType:function(bo){if(typeof(bo)==U[74]){bo=this.getTypeById(bo)}if(!bo||aa(this.types,bo)>=0){return}this.types.push(bo);if(bo.id&&!this.typeIds[bo.id]){this.typeIds[bo.id]=bo}bd(this.map,U[32],[bo])
},removeType:function(bo){if(typeof(bo)==U[74]){bo=this.getTypeById(bo)}if(!bo){return}az(this.types,bo);bd(this.map,U[32],[bo])},initialize:function(bp){if(this.map||!bp.addMapLayer||(bp.config&&bp.config.noneType)){return false}this.map=bp;aE(bp,{getMapTypeById:a5(this,this.getTypeById),getLayerById:a5(this,this.getLayerById),getMapTypes:a5(this,this.getTypes),getCurrentMapType:a5(this,this.getCurrentType),setMapType:a5(this,this.setType),addMapType:a5(this,this.addType),removeMapType:a5(this,this.removeType)});
var bo=this.typeIds,bx=this.layerIds;var br=[{id:"map",minLevel:3,tileRender:{config:{sslImgURLs:["https://ditu-simg.aliyun.com/get_png?v=v2&"],imgURLs:["http://img.ditu.aliyun.com/get_png?v=v2&"],useStaticPath:false},cla:bm},tileOrigin:{x:-180,y:-180},prj:{cla:E},maxLevel:17}];for(var bs=0;bs<br.length;bs++){var bq=br[bs],bu=new aO(bq);if(bq.id){bx[bq.id]=bu}}var bv=bp.config.initTypes;if(!bv){bv=[{id:"map",main:"map",name:"\u5730\u56fe"}]}for(var bs=0;bs<bv.length;bs++){var bw=new a1(bv[bs]);this.addType(bw);if(bw.id){bo[bw.id]=bw
}}var bt=0;if(bt>=0&&this.types.length>bt){this.setType(this.types[bt])}if(bp.loaded){this.onMapScale()}return true},getCurrentType:function(){return this.currentType},remove:function(){var bp=this.map,bo=this.types;while(bo[0]){this.removeType(bo[0])}delete bp.getMapTypeById;delete bp.getLayerById;delete bp.getMapTypes;delete bp.getCurrentMapType;delete bp.setMapType;delete bp.addMapType;delete bp.removeMapType;o.prototype.remove.apply(this,arguments)},setType:function(bv){if(typeof(bv)==U[74]){bv=this.getTypeById(bv)
}if(!bv||bv==this.currentType){return}var bp=this.map,br=bv.main;if(br){br=this.getLayerById(br)}var bt=[],bw=[],bu=[],by,bq,bs;if(by=this.currentType){if(by.main){bt.push(by.main)}if(by.masks){bt=bt.concat(by.masks)}}if(bv){if(bv.main){bw.push(bv.main)}if(bv.masks){bw=bw.concat(bv.masks)}}while(bq=bt.pop()){for(bs=bw.length-1;bs>=0;bs--){if(bw[bs]==bq){bw.splice(bs,1);break}}if(bs<0){bu.push(bq)}}for(bs=bu.length-1;bs>=0;bs--){bp.removeMapLayer(this.getLayerById(bu[bs]))}if(bp.setProjection){var bo=bv.prj;if(!bo&&br){bo=br.getProjection()
}if(bo){bp.setProjection(bo)}}if(bp.setZoomScales){var bx=bv.levels;if(!bx&&br){bx=br.getZoomLevels()}if(bx){bp.setZoomScales(bx)}}this.currentType=bv;for(bs=bw.length-1;bs>=0;bs--){bp.addMapLayer(this.getLayerById(bw[bs]))}bd(bp,U[32],[bv])},getTypeById:function(bo){return this.typeIds[bo]},getTypes:function(){return this.types}});function av(){this.viewOverlays=[]}av.prototype=new o();T(av.prototype,{removeOverlay:function(bo){if(!bo){return}if(bo._inview){this.removeView(bo,aa(this.viewOverlays,bo))}bo.remove();
bd(bo,"remove",[this.map]);this.removeFromList(bo)},remove:function(){var bo=this.map;this.clearOverlays();delete bo.addOverlay;delete bo.removeOverlay;delete bo.clearOverlays;delete bo.onOverlayChange;delete bo.getOverlaysRectangle;bf(this.overlaysDiv);delete this.overlaysDiv;o.prototype.remove.apply(this,arguments)},onMapScale:function(){var bo=this.checkView("scale");var bq=this.viewOverlays;for(var bp=bq.length-1;bp>=0;bp--){if(bq[bp]&&(!bo||bq[bp]._drawTag!=bo)){bq[bp].reDraw(bo?3:2)}}},isInView:function(bo){var bp=this.drawRectangle,bq=bo.getRectangle();
if(!bq){return false}return bp&&this.overlapRectangle(bp,bq)},getOverlays:function(){return this.overlays?this.overlays:[]},checkView:function(){var bo=this.searchViewOverlays();if(bo==null){return 0}var bs=this.viewOverlays,bq,br;if(!this.viewTag){this.viewTag=0}var bp=++this.viewTag;for(br=bs.length-1;br>=0;br--){bq=bs[br];if(aa(bo,bq)<0){this.removeView(bq,br)}}for(br=bo.length-1;br>=0;br--){bq=bo[br];if(aa(bs,bq)<0){this.addView(bq,bp)}}return bp},addToList:function(bo){if(!this.overlays){this.overlays=[]
}if(aa(this.overlays,bo)>=0){return}this.overlays.push(bo);if(this.isInView(bo)){this.addView(bo)}},onProjectionChange:function(){var bo=this.overlays;if(!bo){return}for(var bp=bo.length-1;bp>=0;bp--){bo[bp].initPixel()}this.checkView("scale");var bq=this.viewOverlays;for(var bp=bq.length-1;bp>=0;bp--){bq[bp].reDraw(3)}},init:function(){var bp=this.map;var bo=this.overlaysDiv=document.createElement("div");aE(bo,{position:U[69],zIndex:500,overflow:U[79],width:U[77]});aH(bo);bp.getGeoPanel().appendChild(bo);this.listeners=[Q(bo,U[65],this,this.onMouseEvent),Q(bo,U[31],this,this.onMouseEvent),Q(bo,"touchend",this,this.onMouseEvent),Q(bo,"touchmove",this,this.onMouseEvent),Q(bo,U[63],this,this.onMouseEvent),Q(bo,U[30],this,this.onMouseEvent),Q(bo,U[64],this,this.onMouseEvent),Q(bo,U[29],this,this.onMouseEvent),bc(bo,U[47],bg),Q(bo,U[28],this,this.onMouseEvent),Q(bp,U[41],this,this.onMapScale),Q(bp,U[33],this,this.onMapScale),Q(bp,U[45],this,this.onProjectionChange),Q(bp,U[46],this,this.onMapScale),Q(bp,U[43],this,this.onMapMove),Q(bp,U[39],this,this.onMapMove)];
this.onMapMove()},searchViewOverlays:function(){var bp=this.map,bx=bp.getRectangle(),bv=this.drawRectangle;var br=bp.getScale(),bq=this.drawScale;if(!bx||(bv&&bv.containsRectangle(bx)&&bq&&Math.abs(Math.log(bq/br)/Math.log(2))<1.5)){return null}var bw=this.map.getViewSize();this.drawRectangle=bp.getRectangle({x:-bw.x,y:-bw.y},{x:bw.x*2,y:bw.y*2});this.drawScale=br;var bo=[],bu=this.overlays;if(!bu){return bo}for(var bt=bu.length-1;bt>=0;bt--){var bs=bu[bt];if(this.isInView(bs)){bo.push(bs)}}return bo},onMapMove:function(){var bo=this.checkView("move");
if(bo){var bq=this.viewOverlays;for(var bp=bq.length-1;bp>=0;bp--){bq[bp].reDraw(1)}}},clearOverlays:function(){var bo=this.getOverlays();for(var bp=bo.length-1;bp>=0;bp--){if(!bo[bp]){continue}this.removeOverlay(bo[bp])}},removeView:function(bq,bp){if(!bq._inview){return}var bo=bq.getContainer();bo.parentNode.removeChild(bo);bo._overlay=null;try{delete bo._overlay}catch(br){}bq._inview=false;this.viewOverlays.splice(bp,1)},removeFromList:function(bo){if(this.overlays){az(this.overlays,bo)}},onOverlayChange:function(bo){bo.initPixel();
bd(bo,"geochange",[]);if(this.isInView(bo)){if(!bo._inview){this.addView(bo)}else{bo.reDraw(4)}}else{this.removeView(bo,aa(this.viewOverlays,bo))}},overlapRectangle:function(bo,bp){return(bp.min.x<bo.max.x&&bp.max.x>bo.min.x)&&(bp.min.y<bo.max.y&&bp.max.y>bo.min.y)},getEventOverlay:function(bp){var bo=bp.target;while(bo){if(bo._overlay){return bo._overlay}bo=bo.parentNode}return null},addView:function(bq,bp){if(bp&&bq._viewTag==bp){return}bq._viewTag=bp;if(bq._inview){return}bq._inview=true;var bo=bq.getContainer();
bo._overlay=bq;this.overlaysDiv.appendChild(bo);bq.reDraw(4);this.viewOverlays.push(bq)},onMouseEvent:function(bt){var bq=this.getEventOverlay(bt);if(!bq){return false}var bs=this.map,bo=a7(bt,bs.getContainer()),bu=bs.fromContainerPixelToLatLng(bo);var bp=bt.type;if(bp==U[31]){bp=U[65]}else{if(bp=="touchmove"){bp=U[64]}else{if(bp=="touchend"){bp=U[63]}}}if(bq.onMouseEvent){if(bq.onMouseEvent(bp,bu,bt)){return}}bd(bq,bp,[bu,bt]);switch(bp){case U[28]:bb(bt);bd(bs,bp,[bo,P(bt),bq]);break;case U[65]:this.mdTime=new Date().valueOf();
this.mdPoint=bo;break;case U[63]:var br=this.mdPoint;if(br&&(new Date()).getTime()-this.mdTime<=500&&(Math.abs(bo.x-br.x)<=2&&Math.abs(bo.y-br.y)<=2)){if(bq.onMouseEvent&&!bq.onMouseEvent(U[47],bu,bt)){bd(bq,U[47],[bu,bt]);bd(bs,U[47],[bo,P(bt),bq]);bt._mapClickTriggered=true}}delete this.mdTime;delete this.mdPoint;break}},getDrawRectangle:function(){return this.drawRectangle},addOverlay:function(bo){if(!bo){return}if(!this.overlaysDiv){this.init()}var bp=this.map;if(bo.initialize(bp)==false){return false}bo.initPixel();
bd(bo,"add",[bp]);this.addToList(bo)},initialize:function(bo){if(this.map){return false}this.map=bo;aE(bo,{addOverlay:a5(this,this.addOverlay),removeOverlay:a5(this,this.removeOverlay),clearOverlays:a5(this,this.clearOverlays),onOverlayChange:a5(this,this.onOverlayChange),getOverlaysRectangle:a5(this,this.getDrawRectangle)});return true}});function aG(){}aG.prototype=new o();T(aG.prototype,{close:function(){this.get().close()},open:function(bs,br,bp,bo){var bq=this.get();if(bs){bq.setLatLng(bs);if(bq.bindOverlay){bq.bindOverlay._infowindow=false;
delete bq.bindOverlay}}bq.setTitle(br);bq.setContent(bp,bo&&bo.noFixContent);bq.setOffset((bo&&bo.offset)?bo.offset:{x:0,y:0});this.map.addOverlay(bq);return bq},get:function(){var bo=this.map;if(!bo._infoWin){bo._infoWin=new aC()}return bo._infoWin},initialize:function(bo){if(this.map||!bo.addOverlay){return false}aE(bo,{openInfoWindow:a5(this,this.open),closeInfoWindow:a5(this,this.close),getInfoWindow:a5(this,this.get)});aE(ak.prototype,{openInfoWindow:w,closeInfoWindow:v});this.map=bo;return true},remove:function(){var bp=this.map,bo=bp._infoWin;
if(bo){bo.close();bo.depose()}delete bp.openInfoWindow;delete bp.closeInfoWindow;delete bp.getInfoWindow;o.prototype.remove.apply(this,arguments)}});function w(bu,bq,bp){var bs=this.map;if(!bs){return}var bo=bs.getInfoWindow(),br=this.infoWindowAnchor;bp=bp?bp:{};if(!br){br={x:this.getSize().x*0.5,y:0}}bp.offset={x:br.x-this.anchor.x+this.offset.x,y:br.y-this.anchor.y+this.offset.y};var bt=bs.openInfoWindow(this.getLatLng(),bu,bq,bp);if(bt.bindOverlay){bt.bindOverlay._infowindow=false}bt.bindOverlay=this;this._infowindow=true;
return bt}function v(){if(!this._infowindow||!this.map){return}var bo=this.map.getInfoWindow();if(bo.bindOverlay==this){this._infowindow=false;delete bo.bindOverlay;bo.close()}}T(aG,{open:w,close:v});function Y(){this.action=U[27];this.enabled=true}Y.prototype=new o();T(Y.prototype,{setAction:function(bo){this.action=bo;this.check()},onDblClick:function(bo,bq,bp){if(bp){return}var bs=this.map,bu=bs.fromContainerPixelToLatLng(bo),bt=bs.getScale();if(this.action==U[27]||this.action==U[26]){if(bs.panTo){bs.panTo(bu)
}else{bs.setCenter(bu)}}if(this.action==U[27]||this.action=="zoom"){if(bs.zoomIn){bs.zoomIn()}else{var br=bt/2;if(bs.panScale){bs.panScale(br)}else{bs.setScale(br)}}}},setEnable:function(bo){this.enabled=!!bo;this.check()},check:function(){if(!this.enabled||this.action==U[81]){if(this.listeners){a6(this.listeners[0]);delete this.listeners}}else{if(!this.listeners){this.listeners=[Q(this.map,U[28],this,this.onDblClick)]}}},initialize:function(bo){if(this.map){return false}this.map=bo;bo.setDblClickAction=a5(this,this.setAction);
bo.setDblClickEnable=a5(this,this.setEnable);this.check();return true},remove:function(){var bo=this.map;delete bo.setDblClickAction;delete bo.setDblClickEnable;o.prototype.remove.apply(this,arguments)}});function l(){this.sad=false}l.prototype=new o();T(l.prototype,{onMouseDown:function(bo){var bq=this.dragObj;if(bq){this.onMouseUp(bo)}var br=this.map,bs=br.viewSize,bp=br.getGeoPanel().style;bq=this.dragObj={startPoint:bo,startLL:br.fromContainerPixelToLatLng(bo),startScale:br.getScale(),mml:Q(br,U[63],this,this.onMouseUp),mdl:Q(br,U[64],this,this.onMouseMove),timeout:window.setInterval(a5(this,this.onTime),256),lastTime:new Date().valueOf(),geoStart:{x:parseInt(bp.left),y:parseInt(bp.top)},lastPoint:bo}
},isDragging:function(){return !!this.dragObj},onMouseUp:function(){var br=this.map;var bq=this.dragObj;if(!bq){return}var bo=!bq.lastDelayTime||new Date().valueOf()-bq.lastDelayTime>32;var bp=bq.speed;if(!bp||(Math.abs(bp.x)<0.1&&Math.abs(bp.y)<0.1)){bo=false}this.onTime();this.dragObj=null;a6(bq.mml);a6(bq.mdl);if(bq.moved){bd(br,U[34]);bd(br,U[37])}if(bo&&br.slideMove){bp.x=Math.min(Math.max(bp.x,-2),2);bp.y=Math.min(Math.max(bp.y,-2),2);var bs=br.getViewSize();br.slideMove(bp)}},draggingEnabled:function(){return !!this.listeners
},initialize:function(bo){if(this.map||!bo.getGeoPanel){return false}this.map=bo;aE(bo,{enableDragging:a5(this,this.enableDragging),disableDragging:a5(this,this.disableDragging),draggingEnabled:a5(this,this.draggingEnabled),isDragging:a5(this,this.isDragging)});this.enableDragging();return true},remove:function(){if(this.dragObj){this.onMouseUp()}var bo=this.map;delete bo.enableDragging;delete bo.disableDragging;delete bo.draggingEnabled;delete bo.isDragging;o.prototype.remove.apply(this,arguments)},enableDragging:function(){if(!this.listeners){this.listeners=[Q(this.map,U[65],this,this.onMouseDown)]
}},disableDragging:function(){if(this.listeners){a6(this.listeners[0]);delete this.listeners}},onMouseMove:function(bw){var bu=this.dragObj,bp=this.map;if(!bu||!bp){return}if(!bu.moved){bd(bp,U[35]);bd(bp,U[40]);bu.moved=true}var br=bu.geoStart,bq=bu.startPoint,bv=bp.getViewSize();var bs=bp.fromContainerPixelToLatLng({x:bv.x/2-bw.x,y:bv.y/2-bw.y},bu.startLL,null,{x:0,y:0});bd(bp,"drag",[bs]);if(bp.getScale()==bu.startScale){aR(bp.getGeoPanel(),{x:br.x-bq.x+bw.x,y:br.y-bq.y+bw.y})}else{bp.setCenter(bs)}if(this.sad){var bt=new Date().valueOf(),bo=bu.lastTime;
if(bt-bo>64){bu.lastDelayTime=bt}if(bt>bo){bu.speed={x:(bw.x-bu.lastPoint.x)/(bt-bo)/8,y:(bw.y-bu.lastPoint.y)/(bt-bo)/8}}bu.lastTime=bt}aE(bu,{lastPoint:bw,moveed:true})},onTime:function(){var bp=this.dragObj;if(!bp||!bp.moveed){return}var bq=this.map,bo=bp.lastPoint,bs=bq.getViewSize();var br=bq.fromContainerPixelToLatLng({x:bs.x/2-bo.x,y:bs.y/2-bo.y},bp.startLL,null,{x:0,y:0});bq.setCenter(br)}});function al(){}al.prototype=new o();T(al.prototype,{onMouseMove:function(bo){this.mPoint=a7(bo,this.map.getContainer());
if(!this.mmt){this.failTimes=0;this.mmt=window.setInterval(a5(this,this.onTime),16)}},onMouseDown:function(bt){this.onMouseEvent(U[65],bt);var br=this.dragObj;if(br){this.onMouseUp(bt)}var bs=this.map,bp=bs.getContainer();if(!bs.loaded){return}var bo=a7(bt,bp);br=this.dragObj={startPoint:{x:bt.clientX,y:bt.clientY},startTime:new Date().valueOf(),mml:Q(document,U[64],this,this.onMouseMove),mul:Q(document,U[63],this,this.onMouseUp)};var bq;if(window.getSelection){bq=window.getSelection()}else{bq=document.selection
}if(bq){try{bq.clear&&bq.clear();bq.removeAllRanges&&bq.removeAllRanges()}catch(bt){}}if(bp.setCapture){bp.setCapture();if(bt.target&&bt.target._needUp){br.downEvent=bt}}},onTime:function(){var bo=this.mPoint,bp=this.lPoint;if(!bo||(bp&&bp.x==bo.x&&bp.y==bo.y)){this.failTimes++;if(this.failTimes>8){window.clearInterval(this.mmt);delete this.mmt}return}this.lPoint=bo;bd(this.map,U[64],[this.lPoint=bo])},onMouseEvent:function(bp,br){bb(br);var bq=this.map;if(!bq.loaded){return}var bo=a7(br,bq.getContainer());bd(bq,bp,[bo,P(br)])
},onDblclick:function(bo){this.onMouseEvent(U[28],bo)},onMouseUp:function(bp){var bo=this.dragObj;if(!bo){return}this.onMouseEvent(U[63],bp);this.onTime();this.dragObj=null;a6(bo.mml);a6(bo.mul);if(document.releaseCapture){document.releaseCapture()}if((new Date()).getTime()-bo.startTime<=500&&(Math.abs(bo.startPoint.x-bp.clientX)<=2&&Math.abs(bo.startPoint.y-bp.clientY)<=2)){if(!bp._mapClickTriggered){this.onMouseEvent(U[47],bp)}if(bo.downEvent){bd(bo.downEvent.target,U[63],[bp])}}},initialize:function(bp){if(this.map){return false
}var bo=bp.getContainer();this.listeners=[Q(bo,U[28],this,this.onDblclick),Q(bo,U[64],this,this.onMouseMove),Q(bo,U[65],this,this.onMouseDown),bc(bo,U[25],bb)];this.map=bp;return true},remove:function(){if(this.dragObj){this.onMouseUp()}o.prototype.remove.apply(this,arguments)}});function k(){this.moveSpeed=4;this.scaleSpeed=0.32}k.prototype=new o();T(k.prototype,{isMapKey:function(bo){if(bo.ctrlKey||bo.altKey||bo.metaKey){return false}if((bo.target.nodeName=="INPUT"&&bo.target.type=="text")||bo.target.nodeName=="TEXTAREA"){return false
}return true},getSlideObj:function(){var bo=this.slideObj;if(!bo){bo=this.slideObj={offset:{x:0,y:0},scale:0}}return bo},onKeyDown:function(bq){if(!this.isMapKey(bq)){return}var bs=this.getSlideObj(),bp=this.map,br=bs.offset,bo=bq.keyCode;switch(bo){case 37:br.x=1;break;case 38:br.y=1;break;case 39:br.x=-1;break;case 40:br.y=-1;break;case 187:case 107:case 61:bs.scale=-1;break;case 189:case 109:bs.scale=1;break;default:return}if(bo==this.lastCode){return}this.lastCode=bo;this.downTime=new Date().valueOf();if(bp.slideMove){bp.slideMove({x:br.x*this.moveSpeed,y:br.y*this.moveSpeed},true)
}if(bp.slideScale){bp.slideScale(bs.scale*this.scaleSpeed,true)}},onKeyUp:function(bp){if(!this.isMapKey(bp)){return}var bs=this.getSlideObj(),bo=this.map,br=bs.offset,bt=bo.getViewSize();switch(bp.keyCode){case 33:case 87:case 104:this.move({x:0,y:-bt.y/2});break;case 34:case 83:case 98:this.move({x:0,y:bt.y/2});break;case 35:case 68:case 102:this.move({x:bt.x/2,y:0});break;case 36:case 65:case 100:this.move({x:-bt.x/2,y:0});break;case 37:case 39:if(br){br.x=0}break;case 38:case 40:if(br){br.y=0}break;case 187:case 107:case 61:case 189:case 109:if(!bo.slideScale||(new Date().valueOf()-this.downTime<256&&(!bo.getTargetScale||bo.getScale()==bo.getTargetScale()))){var bq;
if(bs.scale<0){if(bo.zoomIn){bo.zoomIn()}else{bq=bo.getScale()/2}}else{if(bo.zoomOut){bo.zoomOut()}else{bq=bo.getScale()*2}}if(bq){if(bo.panScale){bo.panScale(bq)}else{bo.setScale(bq)}}}bs.scale=0;break;default:return}this.lastCode=null;if(bo.slideMove){bo.slideMove({x:br.x*this.moveSpeed,y:br.y*this.moveSpeed},true)}if(bo.slideScale){bo.slideScale(bs.scale*this.scaleSpeed,true)}},move:function(bo){var bq=this.map,br=bq.getViewSize();var bp=bq.fromContainerPixelToLatLng({x:br.x/2+bo.x,y:br.y/2+bo.y});if(bq.panTo){bq.panTo(bp)
}else{bq.setCenter(bp)}},initialize:function(bo){if(this.map){return false}this.listeners=[Q(document,"keydown",this,this.onKeyDown),Q(document,"keyup",this,this.onKeyUp)];this.map=bo;return true}});function aJ(){this.byPoint=true}aJ.prototype=new o();T(aJ.prototype,{endScale:function(){var br=this.map,bq=this.wheelObj;delete this.wheelObj;if(!bq){return}if(bq.timeout){window.clearInterval(bq.timeout)}bd(this.map,U[38]);if(this.byPoint){bd(this.map,U[37])}if(br.isStepZoom&&br.isStepZoom()){var bs=br.getZoomScale(br.getScale(),bq.dir);
if(br.panScale){br.panScale(bs,bq.toPoint)}else{br.setScale(bs);if(bq.toll){var bt=br.getViewSize(),bp=bq.toPoint;var bo=br.fromContainerPixelToLatLng({x:bt.x-bp.x,y:bt.y-bp.y},bq.toll,bs);br.setCenter(bo)}}}},onMouseWheel:function(bs){bb(bs);var bp=this.wheelObj;if(!bp){bp=this.wheelObj={distance:0}}if(this.byPoint){var br=this.map,bo=a7(bs,br.getContainer());aE(bp,{toPoint:bo,toll:br.fromContainerPixelToLatLng(bo),dir:0})}if(!bp.timeout){bd(this.map,U[36]);if(this.byPoint){bd(this.map,U[40])}bp.timeout=window.setInterval(a5(this,this.setScale),32)
}var bq=(typeof(bs.wheelDelta)==U[48])?bs.wheelDelta:(-bs.detail*40);bp.distance+=bq;bp.dir=bq>0?-1:1;bp.scrolled=true},initialize:function(bo){if(this.map){return false}this.listeners=[Q(bo.getContainer(),"mousewheel",this,this.onMouseWheel)];if(!document.all){this.listeners.push(Q(bo.getContainer(),"DOMMouseScroll",this,this.onMouseWheel))}this.map=bo;return true},setScale:function(){var bs=this.map,br=bs.getScale(),bq=this.wheelObj;if(!bq){return}if(!bq.scrolled){bq.pauseTimes++;if(bq.pauseTimes==4){this.endScale()
}return}var bt=Math.pow(2,bq.distance/-1024);bs.setScale(br*bt);if(bq.toll){var bu=bs.getViewSize(),bp=bq.toPoint;var bo=bs.fromContainerPixelToLatLng({x:bu.x-bp.x,y:bu.y-bp.y},bq.toll);bs.setCenter(bo)}bq.distance=0;bq.scrolled=false;bq.pauseTimes=0},remove:function(){if(this.wheelObj){this.endScale()}o.prototype.remove.apply(this,arguments)}});function a0(bt,bq,bo,bs,bp){if(typeof(bt)!=U[67]){var br=bt;bt=document.createElement("div");bt.innerHTML=br}this.div=bt;bs=bs?bs:800;if(bp){ad(bt,bp)}ad(bt,{zIndex:bs,position:U[78]},true);
this.setLayout(bq);this.setPosition(bo)}a0.prototype=new o();T(a0.prototype,{remove:function(){this.map.getContainer().removeChild(this.div);delete this.div;o.prototype.remove.apply(this,arguments)},initialize:function(bo){if(this.map){return false}this.map=bo;bo.getContainer().appendChild(this.div);this.setLayout(this.layout);return true}});function B(br,bq,bo,bp){var bs=this.div=document.createElement("div");if(bp){ad(bs,bp)}ad(bs,{zIndex:900,position:U[78]});this.logo=br;this.setLayout(bq);this.setPosition(bo)
}B.prototype=new o();T(B.prototype,{remove:function(){this.map.getContainer().removeChild(this.div);delete this.div;o.prototype.remove.apply(this,arguments)},initialize:function(bo){if(this.map){return false}this.map=bo;bo.getContainer().appendChild(this.div);this.setLayout(this.layout);this.onResize();this.listeners=[Q(bo,U[46],this,this.onResize)];return true},onResize:function(){var bo,bp=this.map.getViewSize().x,bq=this.logo;for(bo=bq.length-1;bo>=0;bo--){if(bp>=bq[bo].minWidth){break}}this.div.innerHTML=bo>=0?bq[bo].html:""
}});function u(){}u.prototype=new o();T(u.prototype,{onClick:function(br){var bq=br.target,bo=br.target.index;while(bq&&bq!=this.div&&!bo){bq=bq.parentNode;bo=bq.index}if(!bo){return}var bp=this.map.getMapTypes()[bo-1];if(!bp){return}bb(br);this.map.setMapType(bp)},showLabels:function(){var bv=this.div,bw=aK+"mtc.png";bf(bv,true);var bt=this.map.getMapTypes(),bu=this.map.getCurrentMapType();ad(bv,{left:"0px"});for(var bs=0;bs<bt.length;bs++){var bz=document.createElement("div");bz.index=bs+1;var bx=(bu==bt[bs])?U[24]:"normal",bo=bx==U[24]?U[23]:U[55],bq=bx==U[24]?40:0;
ad(bz,{position:U[69],styleFloat:U[22],cssFloat:U[22],height:"20px",margin:"2px",cursor:U[66],color:bo,display:"inline"});var br=aX(bw,{spritePoint:{x:0,y:bq+20},size:{x:2,y:20},imageSize:{x:4,y:80}});ad(br,{position:U[69],styleFloat:U[22],cssFloat:U[22]});bz.appendChild(br);var bp=document.createElement("div");var by=document.createElement("div");ad(by,{margin:"2px",marginLeft:"6px",marginTop:"3px",marginRight:"6px",fontSize:"11px",textAlign:U[26]});by.appendChild(document.createTextNode(bt[bs].name));ad(bp,{position:U[69],styleFloat:U[22],cssFloat:U[22],height:"20px",display:"inline"});
bp.appendChild(by);at(bp,bw,{spritePoint:{x:0,y:bq},spriteSize:{x:4,y:20},imageSize:{x:4,y:80},repeat:U[70]});bz.appendChild(bp);var br=aX(bw,{spritePoint:{x:2,y:bq+20},size:{x:2,y:20},imageSize:{x:4,y:80}});ad(br,{position:U[69],styleFloat:U[22],cssFloat:U[22]});bz.appendChild(br);bv.appendChild(bz);ad(bp,{width:br.offsetLeft-2+"px",height:"20px"})}this.position={x:-bv.offsetWidth-10,y:10};this.onMapResize()},initialize:function(bp){if(this.map||!bp.getMapTypes){return false}this.map=bp;var bo=this.div=document.createElement("div");
ax(bo);this.setLayout({x:1,y:0});bo.noWrap=true;ad(bo,{position:U[78],zIndex:500,height:"20px"});bp.getContainer().appendChild(bo);this.listeners=[Q(bp,U[32],this,this.showLabels),Q(bo,U[47],this,this.onClick),bc(bo,U[65],bb)];this.showLabels();return true},remove:function(){bf(this.div);delete this.div;o.prototype.remove.apply(this,arguments)}});function R(){aE(this,{levels:[{name:"\u516c\u91cc",unit:1000},{name:"\u7c73",unit:1}],padding:1,weight:2,height:8});this.setColor()}R.prototype=new o();T(R.prototype,{reDraw:function(){delete this.timeout;
var bq=this.map,bp=bq.getCenter();if(!bp){return}var bo=bq.getBounds(),bu=bq.getViewSize();var br=d([new r(bp.la,bo.sw.lo),new r(bp.la,bo.ne.lo)])/bu.x;if(this.lastDis&&Math.abs(Math.log(this.lastDis/br))<1/16){return}this.lastDis=br;var bv=Math.pow(10,Math.ceil(Math.log(br*50)/Math.log(10))),bt=bv/br;if(bt>=250){bt/=5;bv/=5}if(bt>=200){bt/=4;bv/=4}if(bt>=100){bt/=2;bv/=2}var bw=bv,bx=this.levels;for(var bs=0;bs<bx.length;bs++){if(bv>=bx[bs].unit){bw=bv/bx[bs].unit+" "+bx[bs].name;break}}this.span.innerHTML=bw;
bt=Math.round(bt);ad(this.span,{width:bt+"px"});ad(this.centerDiv,{width:bt+"px"});ad(this.rightDiv,{left:bt+this.weight+"px"});ad(this.div,{width:(bt+this.weight*2+this.padding*2)+"px"})},onMapMove:function(){if(this.timeout){return}this.timeout=window.setTimeout(a5(this,this.reDraw),1024)},setColor:function(bo,bp){this.color=bo=bo?bo:U[55];this.borderColor=bp=bp?bp:U[23];if(this.centerDiv){ad(this.centerDiv,{borderTop:U[21]+this.padding+"px "+bp,borderBottom:U[21]+this.padding+"px "+bp});ad(this.centerDiv.firstChild,{borderTop:U[21]+this.weight+"px "+bo});
ad(this.leftDiv,{border:U[21]+this.padding+"px "+bp});ad(this.leftDiv.firstChild,{borderLeft:U[21]+this.weight+"px "+bo});ad(this.rightDiv,{border:U[21]+this.padding+"px "+bp});ad(this.rightDiv.firstChild,{borderLeft:U[21]+this.weight+"px "+bo})}},initialize:function(bp){if(this.map){return false}this.map=bp;var bu=this.padding,br=this.weight,bw=this.height;var bo=this.div=document.createElement("div");ad(bo,{position:U[78],zIndex:500,height:(12+this.height+this.padding*2)+"px"});var bv=this.span=document.createElement("div");
ad(bv,{textShadow:"0px 0px 2px #FFFFFF",left:"5px",fontSize:U[50],filter:"glow(color=#FFFFFF,strength=2)",textAlign:U[22],height:"14px"});if(window.chrome&&window.chrome.csi){ad(bv,{textShadow:""})}ad(bv,{position:U[78],zIndex:200});bo.appendChild(bv);var bt=this.leftDiv=document.createElement("div");ad(bt,{position:U[78],left:"0px",top:U[50],width:this.weight+"px",height:this.height+"px",fontSize:"0px",overflow:U[80],zIndex:50});bo.appendChild(bt);var bq=document.createElement("div");ad(bq,{position:U[78],left:"0px",top:"0px",width:"1px",height:this.height+"px",fontSize:"0px",overflow:U[80]});
bt.appendChild(bq);var bs=this.centerDiv=document.createElement("div");ad(bs,{position:U[78],left:this.weight+this.padding+"px",top:(12+(this.height-this.weight)/2)+"px",height:this.weight+"px",fontSize:"0px",overflow:U[80],zIndex:100});bo.appendChild(bs);var bq=document.createElement("div");ad(bq,{position:U[78],left:"0px",top:"0px",height:"1px",width:U[77],fontSize:"0px",overflow:U[80]});bs.appendChild(bq);if(document.all&&(!document.compatMode||document.compatMode=="BackCompat")){ad(bt,{width:(this.weight+this.padding*2)+"px",height:(this.height+this.padding*2)+"px"});
ad(bt.firstChild,{width:(1+this.weight)+"px"});ad(bs,{height:(this.weight+this.padding*2)+"px"});ad(bs.firstChild,{height:(1+this.weight)+"px"})}var bx=this.rightDiv=bt.cloneNode(true);bo.appendChild(bx);this.setLayout({x:0,y:1});this.setPosition({x:10,y:-(this.height+this.padding*2+12+25)});bp.getContainer().appendChild(bo);this.setColor(this.color,this.borderColor);this.listeners=[Q(bp,U[43],this,this.onMapMove),Q(bp,U[39],this,this.onMapMove),Q(bp,U[41],this,this.onMapMove),Q(bp,U[45],this,this.onMapMove)];
this.reDraw();return true},remove:function(){bf(this.div);delete this.lastDis;delete this.div;delete this.span;delete this.leftDiv;delete this.rightDiv;delete this.centerDiv;o.prototype.remove.apply(this,arguments)}});function b(bu,bo,bq){if(bq){aE(this,bq)}aE(this,{map:bu,container:bo,zoomAdd:typeof(this.zoomAdd)==U[48]?parseInt(this.zoomAdd):4});var bs=this.miniMap=new a4(bo,{initControls:[ai,aI,aA,a3,aN,H,j,av,l,al],initMapTypes:[],clip:this.clip});if(this.center&&bs.disableDragging){bs.disableDragging()}if(bq&&!bq.hideFlag){var bp={position:U[78],fontSize:"0px",zIndex:"1000"};
this.rectWeight=1;var br=this.rectControl=document.createElement("div");ad(br,{borderColor:U[20],cursor:"move",MozOpacity:0.4,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=40)",opacity:0.4,backgroundColor:U[23],borderStyle:"solid"});ad(br,bp);ad(br,{borderWidth:this.rectWeight+"px"});var bt=document.createElement("div");ad(bt,{backgroundColor:U[20]});ad(bt,{width:"50%",height:"1px",left:"25%",top:"50%",overflow:U[80]});ad(bt,bp);br.appendChild(bt);bt=document.createElement("div");ad(bt,{backgroundColor:U[20]});
ad(bt,{height:"50%",width:"1px",left:"50%",top:"25%",overflow:U[80]});ad(bt,bp);br.appendChild(bt);bs.getContainer().appendChild(br);if(this.mapType){bs.setMapType(this.mapType)}var bv=this.rectOverlay=new a2(null,{weight:10,opacity:0.4,color:U[20],bgcolor:U[23]});bv.setLineWeight(this.rectWeight)}this.enable()}T(b.prototype,{onRectMouseDown:function(bp){bb(bp);if(this.dragObject){this.onRectMouseUp(bp)}var bo=this.rectControl.style;this.dragObject={startPosition:{x:parseInt(bo.left),y:parseInt(bo.top)},startSize:{x:parseInt(bo.width),y:parseInt(bo.height)},preMove:{x:0,y:0},startPoint:{x:bp.clientX,y:bp.clientY},timeout:window.setInterval(a5(this,this.onTime),16),moveListener:Q(document,U[64],this,this.onRectMouseMove),upListener:Q(document,U[63],this,this.onRectMouseUp)}
},onMapMoveStart:function(){this.fixedNum++},onTypeChange:function(){var bo=this.map.getCurrentMapType();if(bo){this.miniMap.setMapType(bo)}},onMapMove:function(){if(this.fixedNum<=0&&!this.miniMap.isDragging()){this.returnView();return}if(this.rectOverlay){this.rectOverlay.setBounds(this.map.getBounds())}},onMapMoveEnd:function(){this.fixedNum--;if(this.fixedNum<=0){this.returnView()}},returnView:function(){var bp=this.map,bu=this.miniMap;if(!bp.loaded){return}this.fixedNum=0;var bo=this.center?this.center:bp.getCenter(),bs=this.scale?this.scale:(this.zoom?(360/256/Math.pow(2,this.zoom)):(bp.getScale()*Math.pow(2,this.zoomAdd)));
if(bu.panTo){bu.panTo(bo)}else{bu.setCenter(bo)}if(bu.panScale){bu.panScale(bs)}else{bu.setScale(bs)}var bw=bu.getViewSize(),bt=bu.fromLatLngToPixel(bo),bx=bp.getRectangle();if(this.rectControl){var by={x:(bx.max.x-bx.min.x)/bs-this.rectWeight,y:(bx.max.y-bx.min.y)/bs-this.rectWeight};var bq={x:Math.min(Math.ceil(bw.x/2)+this.rectWeight*2,Math.max(10,by.x)),y:Math.min(Math.ceil(bw.y/2)+this.rectWeight*2,Math.max(10,by.y))};var br=Math.floor(-bq.x/2+bw.x/2)-this.rectWeight,bv=Math.floor(-bq.y/2+bw.y/2)-this.rectWeight;
aR(this.rectControl,{x:br,y:bv});aF(this.rectControl,bq)}if(this.rectOverlay){this.rectOverlay.setBounds(new ao(bp.fromPixelToLatLng({x:bx.min.x,y:bx.max.x}),bp.fromPixelToLatLng({x:bx.max.x,y:bx.min.x})))}},onRectMouseUp:function(bv){bb(bv);var bs=this.dragObject;delete this.dragObject;a6(bs.moveListener);a6(bs.upListener);window.clearInterval(bs.timeout);this.onTime();var bq=bs.startPosition,br=bs.startPoint,bo={x:bq.x-br.x+bv.clientX,y:bq.y-br.y+bv.clientY},bp=bs.startSize,bu=this.map;var bt=this.miniMap.fromContainerPixelToLatLng({x:bo.x+bp.x/2,y:bo.y+bp.y/2});
if(bu.panTo){bu.panTo(bt)}else{bu.setCenter(bt)}},enable:function(){if(this.listeners){return}var bp=this.map,bo=this.miniMap;this.listeners=[Q(bp,U[43],this,this.returnView),Q(bp,U[40],this,this.onMapMoveStart),Q(bp,U[37],this,this.onMapMoveEnd),Q(bp,U[39],this,this.onMapMove),Q(bp,U[36],this,this.onMapMoveStart),Q(bp,U[38],this,this.onMapMoveEnd),Q(bp,U[41],this,this.onMapMove),Q(bp,U[46],this,this.onMapMove),Q(bo,"drag",this,this.onMapMove),Q(bo,U[34],this,this.onDragEnd),Q(bo,U[28],this,this.onDblClick)];
if(this.rectControl){this.listeners.push(Q(this.rectControl,U[65],this,this.onRectMouseDown))}this.fixedNum=0;if(!this.mapType){this.listeners.push(Q(bp,U[32],this,this.onTypeChange));this.onTypeChange()}this.returnView();if(this.rectOverlay){bo.addOverlay(this.rectOverlay)}},disable:function(){var bp,bo=this.listeners;if(!bo){return}while(bp=bo.pop()){a6(bp)}this.listeners=null},depose:function(){this.disable();this.miniMap.depose();bf(this.container,true);delete this.miniMap;delete this.map;delete this.container;
delete this.rectControl;delete this.rectOverlay},onRectMouseMove:function(bp){var bo=this.dragObject;if(!bo){return}bo.lastPoint={x:bp.clientX,y:bp.clientY};bo.moveed=true},onDragEnd:function(bo){var bs=this.rectControl,br=this.map,bq;bo=bo||{x:0,y:0};if(bs){var bp=bs.style;bo={x:parseInt(bp.left)+parseInt(bp.width)/2,y:parseInt(bp.top)+parseInt(bp.height)/2};bq=this.miniMap.fromContainerPixelToLatLng(bo)}else{bq=this.miniMap.getCenter()}if(br.panTo){br.panTo(bq)}else{br.setCenter(bq)}},getMiniMap:function(){return this.miniMap
},onTime:function(){var bq=this.dragObject,bp=this.miniMap;if(!bq||!bq.moveed){return}aR(this.rectControl,this.getDragPoint(bq.lastPoint));var br=bp.getViewSize(),bo=bq.moveSize;if(bo.x!=0||bo.y!=0){bp.setCenter(bp.fromContainerPixelToLatLng({x:br.x/2+bo.x,y:br.y/2+bo.y}))}bq.preMove.x+=bo.x;bq.preMove.y+=bo.y},getDragPoint:function(bu){var br=this.dragObject,bs=br.startPosition,bo=br.startPoint,bt=this.miniMap.getViewSize();var bw={x:bs.x-bo.x+bu.x,y:bs.y-bo.y+bu.y},bq={x:0,y:0};var bv=br.startSize,bp=2;if(!this.center){if(bw.x<0){bw.x=0;
bq.x=-bp}if(bw.y<0){bw.y=0;bq.y=-bp}if(bw.x>bt.x-bv.x-this.rectWeight*2){bw.x=bt.x-bv.x-this.rectWeight*2;bq.x=bp}if(bw.y>bt.y-bv.y-this.rectWeight*2){bw.y=bt.y-bv.y-this.rectWeight*2;bq.y=bp}}br.moveSize=bq;return bw},onDblClick:function(bo){var bq=this.miniMap.fromContainerPixelToLatLng(bo),bp=this.map;if(bp.panTo){bp.panTo(bq)}else{bp.setCenter(bq)}}});function an(bp){bp=bp?bp:{};aE(this,{config:bp,layout:bp.layout?bp.layout:{x:1,y:1},pad:bq=bq?bq:5,size:bp.size?bp.size:{x:160,y:110},btnSize:bp.btnSize?bp.btnSize:{x:15,y:15},show:!!bp.open,pad:bp.pad?bp.pad:5});
var bo=this.div=document.createElement("div"),bz=this.divs={},by=aK+"oc.png",bx={x:56,y:28};ad(bo,{position:U[78],overflow:U[80],zIndex:10000,cursor:U[76]});var bA=this.resizeDiv=document.createElement("div");ad(bA,{position:U[78],overflow:U[80]});bo.appendChild(bA);var bB=this.mapDiv=document.createElement("div");ad(bB,{zIndex:0,cursor:U[66]});var bC=this.size,bq=this.pad,bu=this.divSize={x:bC.x+bq*2-1,y:bC.y+bq*2-1};aF(bB,bC);aR(bB,{x:bq,y:bq});bA.appendChild(bB);aF(bo,bu);aF(bA,bu);var bs=bq*1.4,bv={x:bs,y:bs};
var br=bz.ul=aX(by,{spritePoint:{x:0,y:0},spriteSize:{x:7,y:7},position:{x:0,y:0},size:bv,imageSize:bx});ad(br,{position:U[78]});bA.appendChild(br);br=bz.ur=aX(by,{spritePoint:{x:7,y:0},spriteSize:{x:7,y:7},position:{x:bC.x+bq*2-bs-1,y:0},size:bv,imageSize:bx});ad(br,{position:U[78]});bA.appendChild(br);br=bz.bl=aX(by,{spritePoint:{x:0,y:7},spriteSize:{x:7,y:7},position:{x:0,y:bC.y+bq*2-bs-1},size:bv,imageSize:bx});ad(br,{position:U[78]});bA.appendChild(br);br=bz.br=aX(by,{spritePoint:{x:7,y:7},spriteSize:{x:7,y:7},position:{x:bC.x+bq*2-bs-1,y:bC.y+bq*2-bs-1},size:bv,imageSize:bx});
ad(br,{position:U[78]});bA.appendChild(br);var bw=bz.top=aX(by,{spritePoint:{x:0,y:15},spriteSize:{x:28,y:7},imageSize:bx,position:{x:bs,y:0},size:{x:bC.x-(bs-bq)*2-1,y:bs}});ad(bw,{position:U[78],zIndex:50});bA.appendChild(bw);bw=bz.left=aX(by,{spritePoint:{x:44,y:0},spriteSize:{x:7,y:14},imageSize:bx,position:{x:0,y:bs},size:{x:bs,y:bC.y-(bs-bq)*2-1}});ad(bw,{position:U[78]});bA.appendChild(bw);bw=bz.bottom=aX(by,{spritePoint:{x:0,y:22},spriteSize:{x:28,y:5},imageSize:bx,position:{x:bs,y:bC.y+bq*2-bs+1},size:{x:bC.x-(bs-bq)*2-1,y:bs}});
ad(bw,{position:U[78]});bA.appendChild(bw);bw=bz.right=aX(by,{spritePoint:{x:51,y:0},spriteSize:{x:7,y:14},imageSize:bx,position:{x:bC.x+bq*2-bs+1,y:bs},size:{x:bs,y:bC.y-(bs-bq)*2-1}});ad(bw,{position:U[78],fontSize:"0px"});bA.appendChild(bw);this.btnSPoint={open:{x:14,y:0},close:{x:29,y:0}};this.btnSSize={x:15,y:15};var bt=this.button=aX(by,{spritePoint:this.btnSPoint.open,spriteSize:this.btnSSize,imageSize:bx,position:{x:0,y:0},size:this.btnSize});ax(bt);ad(bt,{position:U[78],cursor:U[66],zIndex:10000});this.listeners=[Q(this.button,U[47],this,this.changeView),bc(this.button,U[28],bb),bc(this.button,U[65],bb)];
bo.appendChild(bt);this.setLayout(this.layout)}an.prototype=new o();T(an.prototype,{changeView:function(bp){bb(bp);if(this.show){var bo={x:0,y:0};if(Math.abs(this.direction)==3){bo.y=this.size.y}if(Math.abs(this.direction)==1){bo.x=this.size.x}if(this.mini){this.mini.disable();this.resizeTo(bo)}else{aF(this.resizeDiv,bo)}aR(this.button.firstChild,{x:-this.btnSPoint.open.x*this.btnSize.x/this.btnSSize.x,y:-this.btnSPoint.open.y*this.btnSize.y/this.btnSSize.y});this.show=false}else{var bo=this.divSize;if(this.mini){this.mini.enable();
this.resizeTo(bo)}else{aF(this.resizeDiv,bo)}aR(this.button.firstChild,{x:-this.btnSPoint.close.x*this.btnSize.x/this.btnSSize.x,y:-this.btnSPoint.close.y*this.btnSize.y/this.btnSSize.y});this.show=true}bd(this,"viewchange",[this.show])},setSize:function(bo){aF(this.resizeDiv,bo);if(!document.all){aF(this.div,{x:bo.x+this.btnSize.x,y:bo.y+this.btnSize.y})}},resizeTo:function(bo){if(this.slideObj){this.resizeEnd()}var bp=this.resizeDiv.style;this.slideObj={startSize:{x:parseInt(bp.width),y:parseInt(bp.height)},endSize:bo,number:0,timeout:window.setInterval(a5(this,this.resize),16)}
},initialize:function(bo){if(this.mini){return false}this.mini=new b(bo,this.mapDiv,this.config);if(this.show){this.mini.enable();aF(this.resizeDiv,this.divSize);aR(this.button.firstChild,{x:-this.btnSPoint.close.x*this.btnSize.x/this.btnSSize.x,y:-this.btnSPoint.close.y*this.btnSize.y/this.btnSSize.y});this.setSize(this.size)}else{this.mini.disable();aF(this.resizeDiv,{x:0,y:0});aR(this.button.firstChild,{x:-this.btnSPoint.open.x*this.btnSize.x/this.btnSSize.x,y:-this.btnSPoint.open.y*this.btnSize.y/this.btnSSize.y});
this.setSize({x:0,y:0})}bo.getContainer().appendChild(this.div)},remove:function(){var bo=this.mini,bp=this.div;if(bo){bo.depose();delete this.mini}if(bp&&bp.parentNode){bp.parentNode.removeChild(bp)}o.prototype.remove.apply(this,arguments)},depose:function(){this.remove();bf(this.div);delete this.div;delete this.resizeDiv;delete this.mapDiv;delete this.button},setLayout:function(bo){t(this.div,bo,false,0);t(this.resizeDiv,bo,true);t(this.button,bo,false,this.pad+"px")},getMiniMap:function(){return this.mini?this.mini.miniMap:null
},resize:function(){var bp=this.slideObj;bp.number++;var bq=25;var bo={x:bp.endSize.x-(bp.endSize.x-bp.startSize.x)*(Math.sin(Math.PI*(0.5-bp.number/bq))+1)/2,y:bp.endSize.y-(bp.endSize.y-bp.startSize.y)*(Math.sin(Math.PI*(0.5-bp.number/bq))+1)/2};this.setSize(bo);if(bp.number==bq){this.resizeEnd()}},resizeEnd:function(){var bo=this.slideObj;window.clearInterval(bo.timeout);delete this.slideObj},isOpen:function(){return !!this.show}});function t(bs,bq,bo,br){var bp={};br=(typeof(br)==U[48])?(br+"px"):"0px";if(bq.x<0.5){bp.right=U[19];
bp.left=br}else{if(bq.x>0.5){bp.left=U[19];bp.right=br}else{bp.right=U[19];bp.left=bo?br:"50%"}}if(bq.y<0.5){bp.bottom=U[19];bp.top=br}else{if(bq.y>0.5){bp.top=U[19];bp.bottom=br}else{bp.bottom=U[19];bp.top=bo?br:"50%"}}ad(bs,bp)}T(an,{setPosition:t});function am(bo){this.extraBtns=[];aE(this,{tipsSize:{x:42,y:18},imgFile:"lc.gif",tipsOffset:{x:10,y:0},cursorSize:{x:13,y:7},cursorPoint:{x:161,y:0},btnSize:{x:17,y:17},btnPad:{x:3,y:3},imageSize:{x:179,y:18},bgSize:{x:5,y:18},zoomHeight:9,bgPoint:{x:174,y:0},tipsStyle:{padding:"3px"},cursorOffset:{x:0,y:0}});
aE(this,bo)}am.prototype=new o();T(am.prototype,{createImg:function(bp,bo,bv,bw,bs,bq,bu,bt){var br=aX(bo,{spritePoint:bv,size:bw,position:bs,imageSize:bt||this.imageSize});br._command=bq;if(bu){br.title=br.alt=bu}ad(br,{position:U[78],cursor:U[66],zIndex:50});bp.appendChild(br);return br},removeExtraBtn:function(bo){az(this.extraBtns,bo);this.create()},onMouseDown:function(bs){var br=bs.target,bq=this.map,bo=true;while(br&&!br._command&&br!=this.div){br=br.parentNode}if(!br||!br._command){return}bb(bs);this.downTime=new Date().valueOf();
switch(br._command){case U[18]:if(bq.slideMove){bq.slideMove({x:0,y:4},true)}break;case U[17]:if(bq.slideMove){bq.slideMove({x:0,y:-4},true)}break;case U[16]:if(bq.slideMove){bq.slideMove({x:4,y:0},true)}break;case U[15]:if(bq.slideMove){bq.slideMove({x:-4,y:0},true)}break;case U[14]:if(bq.slideScale){bq.slideScale(-0.32,true)}break;case U[13]:if(bq.slideScale){bq.slideScale(0.32,true)}break;case U[12]:this.dragObj=new F(this.zoomCursor,a5(this,this.onDrag),{container:this.div,rtp:{x:0,y:1},rtpLimit:{minY:this.zoomStart,maxY:this.zoomStart+(this.map.getZoomScales().length-1)*this.zoomHeight},interval:128});
bo=false;this.dragObj.onMouseDown(bs);break;case"zoom":bq.setZoom(br._zoom);bo=false;break;default:if(br._command.substring(0,4)=="cmd_"){var bp=this.extraBtns[br._command.substring(4)];if(bp&&bp.downHandle){bp.downHandle(bq,br,bs)}}bo=false;break}if(bo&&this.focusY){if(this.focusBtn){ad(this.focusBtn.firstChild,{top:"0px"})}this.focusBtn=br;ad(br.firstChild,{top:-this.focusY+"px"})}this.lastCommand=br._command;var bt=this.div;if(bt.setCapture){bt.setCapture()}this.muListener=Q(document,U[63],this,this.onMouseUp)
},onZoomMouseMove:function(bs){var bq=this.zoomBar,bo=a7(bs,bq);var bp=Math.floor(bo.y/this.zoomHeight),br=this.map.getZoomScales();bq.title=bq.alt=br[bp]?br[br.length-1-bp].name:"";if(bo.x<0||bo.y<0||bo.x>60||bo.y>bq.offsetHeight){a6(this.zoomLis);delete this.zoomLis;this.tipsDiv.style.display=U[81]}},onMouseOut:function(bo){if(this.focusY){if(this.focusBtn){ad(this.focusBtn.firstChild,{top:"0px"})}}},onMouseUp:function(bt){var bp=this.map;if(this.dragObj){this.dragObj.onMouseUp(bt);delete this.dragObj;return
}if(document.releaseCapture){document.releaseCapture()}a6(this.muListener);if(!this.lastCommand){return}bb(bt);switch(this.lastCommand){case U[18]:case U[17]:case U[16]:case U[15]:if(bp.slideMove){bp.slideMove()}if(!bp.slideMove||new Date().valueOf()-this.downTime<256){var bu=bp.getViewSize(),bs=this.lastCommand;var by=(bs==U[18]?{x:0,y:-bu.y/2}:(bs==U[17]?{x:0,y:bu.y/2}:(bs==U[16]?{x:-bu.x/2,y:0}:{x:bu.x/2,y:0})));var bv=bp.fromContainerPixelToLatLng({x:bu.x/2+by.x,y:bu.y/2+by.y});if(bp.panTo){bp.panTo(bv)}else{bp.setCenter(bv)
}}break;case U[14]:case U[13]:if(bp.slideScale){bp.slideScale()}if(!bp.slideScale||(new Date().valueOf()-this.downTime<256&&(!bp.getTargetScale||bp.getScale()==bp.getTargetScale()))){var br;if(this.lastCommand==U[14]){if(bp.zoomIn){bp.zoomIn()}else{br=bp.getScale()/2}}else{if(bp.zoomOut){bp.zoomOut()}else{br=bp.getScale()*2}}if(br){if(bp.panScale){bp.panScale(br)}else{bp.setScale(br)}}}break;case"zoombar":var bw=a7(bt,this.zoomBar).y,bx=Math.floor(bw/this.zoomHeight),bz=bp.getZoomScales();var bo=bz[bz.length-bx-1];
if(bo){if(bp.panScale){bp.panScale(bo.scale)}else{bp.setScale(bo.scale)}}break;case U[12]:break;case U[11]:if(bp.returnToSavedPosition){bp.returnToSavedPosition()}break;default:if(this.lastCommand.substring(0,4)=="cmd_"){var bq=this.extraBtns[this.lastCommand.substring(4)];if(bq&&bq.upHandle){bq.upHandle(bp)}}break}},onMouseOver:function(br){var bq=br.target,bp=this.map,bo=true;while(bq&&!bq._command&&bq!=this.div){bq=bq.parentNode}if(!bq||!bq._command){return}switch(bq._command){case U[18]:case U[17]:case U[16]:case U[15]:case U[14]:case U[13]:case U[11]:if(this.focusY){if(this.focusBtn){ad(this.focusBtn.firstChild,{top:"0px"})
}this.focusBtn=bq;ad(bq.firstChild,{top:-this.focusY+"px"})}break}},create:function(){var bM=this.map;if(!bM){return}var bz=this.div,bF=this.listeners,br,bL=this;var bx=bL.imgPath=(bL.imgPath?bL.imgPath:(aK+bL.imgFile));var bD=bL.btnSize,bE=bD.x,bA=bD.y,bJ=bL.btnPad,by=bJ.x,bw=bJ.y,bq=bL.zoomHeight;var bN=bL.cursorPoint,bo=bL.cursorSize,bG=bL.cursorOffset,bH=bL.tipsSize;bf(bz,true);while(bF.length>3){a6(bF.pop())}var bv=0,bt=0;if(!this.hidePanBtn){this.createImg(bz,bx,{x:bE,y:0},bD,{x:bE+by,y:bt},U[18],"\u4e0a\u79fb");
bt+=bA+bw;this.createImg(bz,bx,{x:bE*2,y:0},bD,{x:0,y:bt},U[16],"\u5de6\u79fb");this.createImg(bz,bx,{x:bE*6,y:0},bD,{x:bE+by,y:bt},U[11],"\u8fd4\u56de");this.createImg(bz,bx,{x:bE*3,y:0},bD,{x:bE*2+by*2,y:bt},U[15],"\u53f3\u79fb");bt+=bA+bw;this.createImg(bz,bx,{x:0,y:0},bD,{x:bE+by,y:bt},U[17],"\u4e0b\u79fb");bt+=bA+bw;bv=Math.max(bv,bE*3+by*2)}if(this.extraBtns.length>0){bt+=4;for(var bI=0;bI<this.extraBtns.length;bI++){var bs=this.extraBtns[bI];bs._img=this.createImg(bz,bs.iconImage,bs.spritePoint,bs.size,{x:bs.position.x,y:bs.position.y+bt},"cmd_"+bI,bs.title,bs.imageSize);
bt+=bs.size.y+(bs.marginBottom?bs.marginBottom:0)}}if(!this.hideZoomBtn){bv=Math.max(bv,bE);this.createImg(bz,bx,{x:bE*4,y:0},bD,{x:(bv-bE)/2,y:bt},U[14],U[10]);bt+=bA+bw}if(!this.hideZoomBar&&bM.getZoomScales&&(br=bM.getZoomScales())&&br.length>0){bt-=3;bv=Math.max(bv,bE);this.zoomStart=bt;var bC=this.zoomBar=document.createElement("div"),bB=br.length*bq,bu=bL.bgSize.x;bC._command="zoombar";ad(bC,{position:U[78],cursor:U[66]});at(bC,bx,{spritePoint:bL.bgPoint,size:bL.bgSize,imageSize:bL.imageSize,utf:false});
aF(bC,{x:bu,y:bB});aR(bC,{x:(bv-bu)/2,y:bt});bz.appendChild(bC);if(this.maskSize){var bp=this.zoomMask=document.createElement("div"),bK=bL.maskSize.x;ad(bp,{position:U[78],zIndex:"15"});at(bp,bx,{spritePoint:bL.maskPoint,size:bL.maskSize,imageSize:bL.imageSize,repeat:"repeat-y"});aF(bp,{x:bK,y:1});aR(bp,{x:(bu-bK-1)/2,y:bB});bC.appendChild(bp)}this.zoomCursor=this.createImg(bz,bx,bN,bo,{x:(bv-bo.x)/2+bG.x,y:bt},U[12]);ad(this.zoomCursor,{cursor:U[66],zIndex:20});bt+=bB;this.onScale();this.listeners=bF.concat(Q(bM,U[44],this,this.create),Q(bM,U[41],this,this.onScale),Q(bC,U[30],this,this.onZoomMouseOver))
}if(!this.hideZoomBtn){this.createImg(bz,bx,{x:bE*5,y:0},bD,{x:(bv-bE)/2,y:bt},U[13],U[9]);bt+=bA+bw;bv=Math.max(bv,bE)}aF(this.div,{x:bv,y:bt})},initialize:function(bo){if(this.map){return false}this.map=bo;var bp=this.div=document.createElement("div");ax(bp);ad(bp,{position:U[78],zIndex:10000});this.listeners=[Q(bo,U[43],this,this.create),bc(bp,U[28],bb),Q(bp,U[65],this,this.onMouseDown)];Q(bp,U[30],this,this.onMouseOver);Q(bp,U[29],this,this.onMouseOut);this.create();this.setLayout({x:0,y:0});this.setPosition({x:10,y:10});
bo.getContainer().appendChild(bp);return true},remove:function(){bf(this.div);delete this.div;o.prototype.remove.apply(this,arguments)},onDrag:function(bp,bu,bx){var bo=this.map;if(bx==U[62]){bd(bo,U[36])}var bq,bv=(bu.y-this.zoomStart)/this.zoomHeight-0.5,by=bo.getZoomScales();bv=Math.min(by.length-1,Math.max(0,bv));var bw=Math.floor(bv),bt=Math.ceil(bv);if(bw==bt){bq=by[by.length-bw-1].scale}else{var bs=by[by.length-bw-1].scale,br=by[by.length-bt-1].scale;bq=br*Math.pow(Math.E,(Math.log(bs/br)*(bt-bv)))}bo.setScale(bq);
if(bx=="end"){bd(bo,U[38]);if(bo.isStepZoom&&bo.isStepZoom()){bo.checkScale()}}},addExtraBtn:function(bo){this.extraBtns.push(bo);this.create()},onScale:function(){if(!this.map.getZoomScales){return}var br=this.map.getZoomScales();if(!br||br.length<=0){return}var bu=this.map,bv=bu.getScale(),bp=bu.getZoomIndex(bv),bt=br[bp].scale;var bo=this.zoomHeight,bs=this.zoomStart+(br.length-bp-1)*bo,bq;if(bv>bt){bq=br[bp-1];if(bq){bs+=Math.round(Math.log(bv/bt)/Math.log(bq.scale/bt)*bo)}}else{if(bv<bt){bq=br[bp+1];if(bq){bs-=Math.round(Math.log(bv/bt)/Math.log(bq.scale/bt)*bo)
}}}ad(this.zoomCursor,{top:bs+this.cursorOffset.y+"px"});if(this.zoomMask){ad(this.zoomMask,{top:(bs-this.zoomStart+bo/2)+"px",height:bo*br.length-bs+this.zoomStart+"px"})}this.zoomCursor.title=this.zoomCursor.alt=br[bp].name},onZoomMouseOver:function(bu){var bt=this.tipsDiv,bv=this.zoomBar;if(!bt){var bt=this.tipsDiv=document.createElement("div"),bz=this.tipsSize,bA=this.map.getZoomScales();ad(bt,{position:U[78],width:bz.x+"px"});aR(bt,this.tipsOffset);var by={13:"\u5e02",4:U[8],16:U[7],8:"\u7701"},bw=(this.zoomHeight-bz.y)/2,bp=bA.length;
for(var bx in by){if(!by.hasOwnProperty(bx)){continue}var bs=-1;for(var br=bp-1;br>=0;br--){if(bA[br].name==bx){bs=br;break}}if(bs<0){continue}var bo=document.createElement("div");bo._command="zoom";bo._zoom=bx;bo.title=bo.alt=by[bx]+"("+bx+")";ad(bo,this.tipsStyle);ad(bo,{position:U[78],fontSize:U[50],textAlign:U[26],width:bz.x+"px",height:bz.y+"px",top:bw+(bp-1-bs)*this.zoomHeight+"px",zIndex:20});var bq=this.createImg(bo,this.imgPath,{x:this.btnSize.x*7,y:0},bz,{x:0,y:0},"zoom");bq._zoom=bx;ad(bq,{zIndex:-1});
bo.appendChild(document.createTextNode(by[bx]));bt.appendChild(bo)}bv.appendChild(bt)}if(!this.zoomLis){this.zoomLis=Q(document,U[64],this,this.onZoomMouseMove)}bt.style.display=""}});function aD(bp,bq,br,bo){aE(this,{showHandle:bp,runHandle:bq,text:br,mType:"menu"});aE(this,bo)}T(aD.prototype,{getLabel:function(bo){return this.text},getIcon:function(){return this.icon?aX(this.icon,this.iconConfig):null}});function D(){this.items=[];this.imgPath=aK+"cmc.png"}D.prototype=new o();T(D.prototype,{getEventItem:function(bu){var bt,br,bq=this.items,bp=a7(bu,this.div).y,bo=0;
if(bp<=0){return null}bp-=3;for(var bs=0;bs<bq.length;bs++){br=bq[bs];if(br.mType=="line"){if(bo>0){bp-=4;bo=0}continue}if(br.isShow==1||br.isShow==2){var bv=br.div.offsetHeight+1;if(bp<bv){bt=br;break}bp-=bv;bo++}}return bt},addLine:function(bo){var bp={mType:"line"};this.addItem(bp,null,bo);return bp},getPosition:function(){return this.position},addItem:function(bq,bp,bo){if(typeof(bo)!=U[48]){bo=-1}if(typeof(bq)==U[74]){bq=this.getItemById(bq)}if(!bq){return}aE(bq,bp);if(bo<0){this.items.push(bq)}else{this.items.splice(bo,0,bq)
}return bq},removeItem:function(bo){if(typeof(bo)==U[74]){bo=this.getItemById(bo)}az(this.items,bo)},hideMenu:function(){delete this.currentItem;bf(this.div,true);if(this.container&&this.container.parentNode){this.container.parentNode.removeChild(this.container)}},getLatLng:function(){return this.latlng},onClick:function(bp){bg(bp);var bo=this.getEventItem(bp);if(!bo||bo.isShow!=1){return}bo.runHandle(this);this.hideMenu()},getMap:function(){return this.map},initialize:function(bo){if(this.map){return false}this.map=bo;
bo.addContextMenuItem=a5(this,this.addItem);bo.addContextMenuLine=a5(this,this.addLine);bo.removeContextMenuItem=a5(this,this.removeItem);this.listeners=[Q(bo,U[47],this,this.onMapClick)];return true},remove:function(){this.hideMenu();var bo=this.map;delete bo.addContextMenuItem;o.prototype.remove.apply(this,arguments)},getItemById:function(bo){switch(bo){case U[26]:return new aD(function(bq){var bp=bq.getMap();return bp.getCenter()?1:0},function(br){var bq=br.getMap(),bp=br.getLatLng();if(bq.panTo){bq.panTo(bp)
}else{bq.setCenter(bp)}},"\u5728\u6b64\u5c45\u4e2d\u653e\u7f6e\u5730\u56fe");break;case U[14]:return new aD(function(br){var bq=br.getMap(),bp=bq.getZoomIndex(bq.getScale()),bs=bq.getZoomScales();return bp+1<bs.length?1:2},function(br){var bq=br.getMap(),bp=bq.getZoomIndex(bq.getScale()),bs=bq.getZoomScales();if(bp+1<bs.length){bq.panScale(bs[bp+1].scale,br.getPosition())}},U[10]);break;case U[13]:return new aD(function(br){var bq=br.getMap(),bp=bq.getZoomIndex(bq.getScale()),bs=bq.getZoomScales();return bp-1>=0?1:2
},function(bs){var br=bs.getMap(),bp=bs.getPosition(),bq=br.getZoomIndex(br.getScale()),bt=br.getZoomScales();if(bq-1>=0){br.panScale(bt[bq-1].scale,bp)}},U[9]);break;case"zoomto":return new aD(function(bp){return 1},function(bs){var br=bs.getMap(),bp=bs.getPosition(),bq=br.getZoomIndex(br.getScale()),bt=br.getZoomScales();if(window._cztn){br.setCenter(bs.getLatLng());br.panScale(bt[br.getZoomIndex(360/256/Math.pow(2,window._cztn.getAttribute("_zoom")))].scale,bp)}},"",{getLabel:function(bu){var bp=["\u7f29\u653e\u5230"],bv=bu.getMap().getScale(),bs=Math.round(Math.log(360/256/bv)/Math.log(2));
var bt={13:"\u5e02",4:U[8],16:U[7],8:"\u7701"},bw=[];for(var br in bt){if(bt.hasOwnProperty(br)){bw.push([br,bt[br]])}}bw.sort(function(by,bx){return by[0]-bx[0]});for(var bq=0;bq<bw.length;bq++){bp.push(" ");if(bs==bw[bq][0]){bp.push('<a style="color:#4b4b4b">'+bw[bq][1]+"</a>")}else{bp.push('<a style="color:#0088cc" _zoom="'+bw[bq][0]+"\" onmouseover=\"if(window._cztn){window._cztn.style.color='#0088cc'};this.style.color='#0064c8';window._cztn=this;\" onmouseout=\"if(window._cztn){window._cztn.style.color='#0088cc'};\">"+bw[bq][1]+"</a>")
}}return bp.join("")}});break}},onMouseMove:function(bp){var bo=this.getEventItem(bp);if(!bo||this.currentItem==bo){return}if(this.currentItem){at(this.currentItem.div)}this.currentItem=bo;at(this.currentItem.div,this.imgPath,{utf:false})},onMapClick:function(bL,bo,bH){this.hideMenu();if(bo!=2){return}var bK=this.map,bq=bK.getViewSize(),bA=this.div,bu={x:320,y:50};aE(this,{position:bL,latlng:bK.fromContainerPixelToLatLng(bL),overlay:bH});if(!bA){var by=this.container=document.createElement("div"),bD=this.listeners;
ax(by);ad(by,{position:U[78],zIndex:20000,cursor:U[76],width:"174px"});bD.push(Q(by,U[64],this,this.onMouseMove));bD.push(Q(by,U[65],this,this.onClick));bD.push(Q(bK,U[65],this,this.hideMenu));bA=this.div=document.createElement("div");ad(bA,{position:U[69],fontSize:U[50],padding:"0px 1px",border:" solid 1px #D0D0D0",backgroundColor:U[23],color:U[55]});by.appendChild(bA);var bM=aX(this.imgPath,{spritePoint:{x:0,y:6},spriteSize:{x:4,y:5},position:{x:0,y:0},imageSize:bu});ad(bM,{position:U[78],top:U[77]});by.appendChild(bM);
var bM=aX(this.imgPath,{spritePoint:{x:4,y:2},spriteSize:{x:4,y:4},position:{x:0,y:0},imageSize:bu});ad(bM,{position:U[78],left:U[77]});by.appendChild(bM);var bM=aX(this.imgPath,{spritePoint:{x:4,y:6},spriteSize:{x:4,y:5},position:{x:0,y:0},imageSize:bu});ad(bM,{position:U[78],left:U[77],top:U[77]});by.appendChild(bM);var bG=aX(this.imgPath,{spritePoint:{x:0,y:45},spriteSize:{x:320,y:5},imageSize:bu});ad(bG,{position:U[78],left:"4px",top:U[77]});ad(bG.firstChild,{width:U[77]});by.appendChild(bG);var bw=aX(this.imgPath,{spritePoint:{x:316,y:0},spriteSize:{x:4,y:18},imageSize:bu});
ad(bw,{position:U[78],top:"4px",left:U[77]});ad(bw.firstChild,{height:"300%"});by.appendChild(bw)}var bE=0,bx=0,bC=0;for(var bF=0;bF<this.items.length;bF++){var bJ=this.items[bF];bf(bJ.div);delete bJ.div;if(bJ.mType=="line"){if(bx>0){var bt=bJ.div=aX(this.imgPath,{spritePoint:{x:0,y:0},spriteSize:{x:299,y:2},imageSize:bu});ad(bt,{position:U[69],width:U[77],fontSize:"0px",margin:"3px 0px",padding:"0px",border:"0px"});ad(bt.firstChild,{width:"107%"});bt.vAlign="top";bA.appendChild(bt);bx=0}continue}bJ.isShow=bJ.showHandle(this);
if(bJ.isShow==1||bJ.isShow==2){var bt=bJ.div=document.createElement("div");ad(bt,{position:U[69],width:"160px",backgroundPosition:"0px -18px",whiteSpace:U[49],margin:"0px",padding:"8px 0px 3px 10px"});ad(bt,bJ.isShow==1?{cursor:U[66],color:"#4b4b4b"}:{color:"#CCCCCC"});var bz=bJ.getLabel(this),bI=bJ.getIcon();if(bI){ad(bI,{position:U[69],styleFloat:U[22],cssFloat:U[22],width:"16px",height:"16px",marginRight:"8px"});bt.appendChild(bI)}if(bz){var bs=document.createElement("div");ad(bs,{height:"16px",lineHeight:"16px"});
bs.innerHTML=bz;bt.appendChild(bs)}bA.appendChild(bt);bE++;bx++}}if(bE==0){this.hideMenu();return}bK.getContainer().appendChild(this.container);var bp=10,bv={x:bL.x,y:bL.y},bB=ac(bA);if(bL.x+bB.x+bp>bq.x){bv.x=bL.x-bB.x}if(bL.y+bB.y+bp>bq.y){bv.y=bL.y-bB.y}aR(this.container,bv);var br=this.container.lastChild;ad(br,{height:bB.y-4+"px"});br=br.previousSibling;ad(br,{width:bB.x-4+"px",top:bB.y+"px"});br=br.previousSibling;ad(br,{top:bB.y+"px"});br=br.previousSibling.previousSibling;ad(br,{top:bB.y+"px"})},getOverlay:function(){return this.overlay
}});function be(){}T(be.prototype,{change:function(){this.infowin.winSize={x:128,y:128};this.infowin.anchor={x:0,y:0}},depose:function(){var bo=this.infowin,bq;if(!bo){return}var bp={overflowX:"",overflow:"",width:U[19],fontSize:U[19],fontWeight:U[19],lineHeight:U[19],color:U[19],textAlign:U[19],position:U[19],left:U[19],top:U[19],height:U[19],zIndex:U[19],marginRight:U[19]};bq=bo.titleDiv;ad(bq,bp);if(bq.parentNode){bq.parentNode.removeChild(bq)}bq=bo.contentDiv;ad(bq,bp);if(bq.parentNode){bq.parentNode.removeChild(bq)
}bf(bo.div,true);delete this.infowin},initialize:function(bo){var bp=bo.div;this.infowin=bo;bp.appendChild(bo.titleDiv);bp.appendChild(bo.contentDiv)}});function bh(bo){this.config=bo=bo?bo:{cSize2:{x:6,y:10},bgcolor:U[23],fixTitleHeight:true,cursorAnchor:{x:3,y:29},anchorPercent:0,imgFile:"iw.png",closePadding:8,cursorSize:{x:32,y:32},cPoint1:{x:10,y:5},cPoint2:{x:10,y:8},bOffset:[0,0],splitHeight:10,titleHeight:14,closeSize:{x:7,y:7},bHeight:[25,10],contentSize:{x:120,y:20},cSize1:{x:6,y:25}};this.imgPath=bo.imgPath?bo.imgPath:(aK+bo.imgFile)
}bh.prototype=new be();T(bh.prototype,{change:function(){var bM=this.config,bH=bM.cSize1,bE=bM.cSize2,bt=bM.cPoint1,br=bM.cPoint2,bs=bM.closeSize,bp=bM.cursorSize;var bw=bM.cursorAnchor,bv=bM.bHeight,bK=bM.bOffset,bD=this.divs,bL=this.infowin;if(!bL||!bD){return}var bB=bL.getContentSize(),bC=bL.getTitleSize(),by=bM.titleHeight,bI=bM.splitHeight||0;var bA=bs?((bM.closePadding||0)+bs.x):0;if(bC){bB.x=Math.max(bB.x,bC.x+bA);if(!bM.fixTitleHeight){by=Math.max(bC.y,by)}}var bx={x:bB.x+bt.x+br.x,y:bB.y+by+bI+bp.y+bt.y+br.y},bq=Math.max(parseInt((bx.x-bp.x)*bM.anchorPercent)+(bM.anchorOffset||0),bH.x);
if(bL.winSize&&bL.winSize.x==bx.x&&bL.winSize.y==bx.y){return}bL.winSize=bx;ad(bD.top,{width:bx.x-bH.x-bE.x+"px"});var bz=bx.y-bp.y+bv[1]-bH.y-bE.y,bJ=Math.ceil((this.imageSize.y+2)*(bz+2)/(bH.y+bE.y+bp.y))+"px";ad(bD.left,{height:bz+"px"});ad(bD.right,{height:bz+"px",left:bx.x-bE.x+"px"});ad(bD.left.firstChild,{height:bJ});ad(bD.right.firstChild,{height:bJ});if(bD.bg.firstChild){var bu=bx.x-bH.x-bE.x,bo=Math.ceil((this.imageSize.x+1)*(bu+1)/bM.bgXSize);ad(bD.bg.firstChild,{left:-bo*(bp.x+bH.x)/this.imageSize.x+"px",width:bo+"px",height:bJ})
}ad(bD.bottom1,{width:bq-bH.x+"px",top:bx.y-bp.y+bK[1]+"px"});ad(bD.bottom2,{left:bq+bp.x+"px",width:bx.x-bE.x-bq-bp.x+"px",top:bx.y-bp.y+bK[1]+"px"});if(bD.close){ad(bD.close,{left:bx.x-bs.x-br.x+"px"});if(bM.cfPoint){ad(bD.close.firstChild,{left:-(bH.x+bE.x)+"px",top:"0px"})}}ad(bD.container,{top:by+bI+bt.y+"px",width:bx.x-bt.x-br.x+"px",height:bx.y-bt.y-br.y-by-bI-bp.y+"px"});ad(bD.titleContainer,{width:bx.x-bt.x-br.x-bA+"px",height:by+"px"});ad(bD.bl,{top:bx.y-bp.y+bv[1]-bE.y+"px"});ad(bD.ur,{left:bx.x-bE.x+"px"});
ad(bD.br,{top:bx.y-bp.y+bv[1]-bE.y+"px",left:bx.x-bE.x+"px"});ad(bD.pointer,{top:bx.y-bp.y+bK[1]+"px",left:bq+"px"});ad(bD.bg,{height:bx.y-bp.y-bv[0]+bK[1]+"px",width:bx.x-bH.x-bE.x+"px"});bL.anchor={x:bq+bw.x,y:bx.y-bp.y+bw.y};if(bM.shadowFile){var bG=bx.y*0.5;var bF=bx.y-bp.y-bG+bM.shadowOffset.y;ad(bD.sl,{left:bM.shadowOffset.x+"px",top:bF+"px",height:bG+"px"});ad(bD.sp1,{left:bM.shadowOffset.x+bM.shadowWidth[0]+"px",width:bq-bH.x+"px",top:bF+"px",height:bG+"px"});ad(bD.sc,{left:bM.shadowOffset.x+bM.shadowWidth[0]+bq-bH.x+"px",top:bF+"px",height:bG+"px"});
ad(bD.sp2,{left:bM.shadowOffset.x+bM.shadowWidth[0]+bq-bH.x+bM.shadowWidth[1]+"px",width:bx.x-bE.x-bq-bp.x+"px",top:bF+"px",height:bG+"px"});ad(bD.sr,{left:bM.shadowOffset.x+bM.shadowWidth[0]+bq-bH.x+bM.shadowWidth[1]+bx.x-bE.x-bq-bp.x+"px",top:bF+"px",height:bG+"px"})}},depose:function(){delete this.divs;be.prototype.depose.apply(this,arguments)},checkEvent:function(bs){var bq=this.infowin,bp=a7(bs,bq.div),br=bq.winSize;var bo=this.config.clickArea||[0,0,0,0];if(bp.x<bo[0]||bp.y<bo[1]||bp.x>br.x-bo[2]||bp.y>br.y-bo[3]){return false
}return true},initialize:function(bI){this.infowin=bI;var bJ=this.config,bG=bJ.cSize1,bE=bJ.cSize2,bt=bJ.cPoint1,br=bJ.cPoint2,bo=bJ.cursorSize,bu=bJ.bHeight,bs=bJ.closeSize;var bx=bJ.bgXSize||0,bp=bJ.bgYSize||0;var bq=Math.max(bo.x,bG.x+bE.x+(bs?bs.x:0)),bw=this.imageSize={x:bq+bG.x+bE.x+bx,y:bG.y+bE.y+bo.y+bu[0]+bu[1]+bp};var bK,bH,bC=bI.div,bD=this.divs={},bG,bA=this.imgPath;bI.setContentSize(bJ.contentSize);ax(bC);bK=bD.ul=aX(bA,{spritePoint:{x:0,y:0},position:{x:0,y:0},size:bG,imageSize:bw});ad(bK,{position:U[78],zIndex:50});
bC.appendChild(bK);bK=bD.ur=aX(bA,{spritePoint:{x:bG.x,y:0},size:{x:bE.x,y:bG.y},imageSize:bw});ad(bK,{position:U[78],top:"0px",zIndex:50});bC.appendChild(bK);bK=bD.bl=aX(bA,{spritePoint:{x:0,y:bG.y},size:{x:bG.x,y:bE.y},imageSize:bw});ad(bK,{position:U[78],left:"0px",zIndex:50});bC.appendChild(bK);bK=bD.br=aX(bA,{spritePoint:bG,size:bE,imageSize:bw});ad(bK,{position:U[78],zIndex:50});bC.appendChild(bK);bH=bD.top=document.createElement("div");at(bH,bA,{spritePoint:{x:0,y:bG.y+bE.y+bo.y},imageSize:bw,repeat:U[70]});
ad(bH,{position:U[78],fontSize:"0px",left:bG.x+"px",top:"0px",height:bu[0]+"px",zIndex:50});bC.appendChild(bH);bH=bD.left=aX(bA,{spritePoint:{x:bq,y:0},spriteSize:{x:bG.x,y:bG.y+bE.y+bo.y},position:{x:0,y:bG.y},imageSize:bw});ad(bH,{position:U[78],zIndex:50});bC.appendChild(bH);bH=bD.bottom1=document.createElement("div");at(bH,bA,{spritePoint:{x:0,y:bG.y+bE.y+bo.y+bu[0]},imageSize:bw,repeat:U[70]});ad(bH,{position:U[78],fontSize:"0px",overflow:U[80],left:bG.x+"px",height:bu[1]+"px",zIndex:50});bC.appendChild(bH);
bH=bD.bottom2=document.createElement("div");at(bH,bA,{spritePoint:{x:0,y:bG.y+bE.y+bo.y+bu[0]},imageSize:bw,repeat:U[70]});ad(bH,{position:U[78],fontSize:"0px",overflow:U[80],left:bG.x+"px",height:bu[1]+"px",zIndex:50});bC.appendChild(bH);bH=bD.right=aX(bA,{spritePoint:{x:bq+bG.x+bx,y:0},spriteSize:{x:bE.x,y:bG.y+bE.y+bo.y},position:{x:0,y:bG.y},imageSize:bw});ad(bH,{position:U[78],zIndex:50});bC.appendChild(bH);bK=bD.pointer=aX(bA,{spritePoint:{x:0,y:bG.y+bE.y},size:bo,imageSize:bw});ad(bK,{position:U[78],zIndex:50});
bC.appendChild(bK);if(bx){bH=aX(bA,{spritePoint:{x:bq+bG.x,y:0},spriteSize:{x:bx,y:bG.y+bE.y+bo.y},position:{x:bG.x,y:bu[0]},imageSize:bw})}else{bH=document.createElement("div");ad(bH,{fontSize:"0px",overflow:U[80],left:bG.x+"px",top:bu[0]+"px"})}ad(bH,{position:U[78],zIndex:50,cursor:U[76]});if(bJ.bgOpacity){aS(bH,bJ.bgOpacity)}if(bJ.bgcolor){ad(bH,{backgroundColor:bJ.bgcolor})}bC.appendChild(bD.bg=bH);if(bJ.shadowFile){var by=bJ.shadowPath?bJ.shadowPath:(aK+bJ.shadowFile),bB=bJ.shadowWidth,bF=bJ.shadowHeight;
var bv={x:bB[0]+bB[1]+bB[2],y:bF*2};bK=bD.sl=aX(by,{spritePoint:{x:0,y:bF},size:{x:bB[0],y:bF},imageSize:bv});ad(bK,{position:U[78],zIndex:20});ad(bK.firstChild,{top:"-100%",height:"200%"});bC.appendChild(bK);bK=bD.sp1=aX(by,{spritePoint:{x:0,y:0},spriteSize:{x:bB[0]+bB[1]+bB[2],y:bF},imageSize:bv});ad(bK,{position:U[78],zIndex:20});ad(bK.firstChild,{top:"0px",height:"200%",width:U[77]});bC.appendChild(bK);bK=bD.sc=aX(by,{spritePoint:{x:bB[0],y:bF},size:{x:bB[1],y:bF},imageSize:bv});ad(bK,{position:U[78],height:bF+"px",zIndex:20});
ad(bK.firstChild,{top:"-100%",height:"200%"});bC.appendChild(bK);bK=bD.sp2=aX(by,{spritePoint:{x:0,y:0},spriteSize:{x:bB[0]+bB[1]+bB[2],y:bF},imageSize:bv});ad(bK,{position:U[78],zIndex:20});ad(bK.firstChild,{top:"0px",height:"200%",width:U[77]});bC.appendChild(bK);bK=bD.sr=aX(by,{spritePoint:{x:bB[0]+bB[1],y:bF},size:{x:bB[2],y:bF},imageSize:bv});ad(bK,{position:U[78],zIndex:20});ad(bK.firstChild,{top:"-100%",height:"200%"});bC.appendChild(bK)}var bz=bD.titleContainer=document.createElement("div");bc(bz,U[65],bg);
if(document.all){bc(bz,U[64],bg)}bc(bz,U[6],bg);bc(bz,U[25],bg);ad(bz,{position:U[78],overflow:U[80],left:bt.x+"px",top:bt.y+"px",overflow:U[80],zIndex:100,cursor:U[76]});bC.appendChild(bz);if(bJ.fixTitleHeight){ad(bz,{height:bJ.titleHeight+"px"})}ad(bI.titleDiv,{fontSize:"13px",fontWeight:"bolder",lineHeight:1.2,color:U[55],textAlign:U[22],position:U[78]});if(bJ.titleStyle){ad(bI.titleDiv,bJ.titleStyle)}bz.appendChild(bI.titleDiv);var bz=bD.container=document.createElement("div");ad(bz,{position:U[78],left:bt.x+"px",overflow:U[80],zIndex:100,cursor:U[76]});
bC.appendChild(bz);ad(bI.contentDiv,{fontSize:U[50],color:"#666666",position:U[78],textAlign:U[22],left:"0px",top:"0px"});if(bJ.contentStyle){ad(bI.contentDiv,bJ.contentStyle)}bz.appendChild(bI.contentDiv);if(bs){bK=bD.close=aX(bA,{spritePoint:{x:bG.x+bE.x,y:0},size:bs,imageSize:bw});ad(bK,{position:U[78],top:bt.y+"px",cursor:U[66],zIndex:100});bC.appendChild(bK);bK._iwe="close";if(bJ.cfPoint){Q(bK,U[30],this,function(){ad(this.divs.close.firstChild,{left:-bJ.cfPoint.x+"px",top:-bJ.cfPoint.y+"px"})});Q(bK,U[29],this,function(){ad(this.divs.close.firstChild,{left:-(this.config.cSize1.x+this.config.cSize2.x)+"px",top:"0px"})
});Q(bK,U[63],this,function(){ad(this.divs.close.firstChild,{left:-(this.config.cSize1.x+this.config.cSize2.x)+"px",top:"0px"})})}}}});function n(){}T(n.prototype,{depose:function(){if(this.map){this.map.removeOverlay(this)}this.remove()},getContainer:function(){return this.div},getRectangle:function(){},initialize:function(bo){return true},remove:function(){var bp=this.listeners;if(bp){for(var bo=bp.length-1;bo>=0;bo--){a6(bp[bo])}}delete this.listeners;delete this.map}});function ak(bq,bp,bo){if(arguments.length==0){return
}bo=bo?bo:{};aE(this,{latlng:bq,offset:{x:0,y:0},anchor:{x:0,y:0}});aE(this,bo);this.zIndex=bo.zIndex?bo.zIndex:500;this.setContainer(bp);if(bo.style){ad(this.div,bo.style)}if(bo.title){this.setTitle(bo.title)}if(bo.dragSlideMap){this.dragSlideMap=true}if(bo.draggable){this.setDraggingEnabled(true)}}ak.prototype=new n();T(ak.prototype,{reDraw:function(bq){if(bq<2||!this.map){return}var bo=this.map.getGeoPosition(this.coord),br=this.offset,bp=this.anchor;aR(this.div,{x:bo.x+br.x-bp.x,y:bo.y+br.y-bp.y})},remove:function(){if(this.dragObj){this.dragObj.onMouseUp()
}this.endDrawing();if(this.closeInfoWindow){this.closeInfoWindow()}n.prototype.remove.apply(this,arguments)},setOffset:function(bo){this.offset=bo;if(this.map){this.map.onOverlayChange(this)}},initPixel:function(bo){bo=bo?bo:(this.map?this.map.getProjection():null);if(!this.latlng||!bo){return}this.coord=bo.fromLatLngToPixel(this.latlng)},startDrawing:function(bo){bo=bo?bo:{};var bp=this.map;if(!bp||this.drawObj){return false}if(bp.startMarking){bp.startMarking()}if(bp.setCursorText){var bq=bo?bo.cursorText:"";
if(!bq){bq="\u5de6\u952e\u5355\u51fb\u6807\u70b9"}bp.setCursorText(bq,{offset:{x:10,y:10},style:(this.cursorStyle||{whiteSpace:U[49]})})}this.drawObj={cursor:this.div.style.cursor,cl:Q(bp,U[47],this,function(br,bs){if(bs==1){this.endDrawing()}}),ml:Q(bp,U[64],this,this.onMouseMove),mml:Q(bp,U[39],this,this.onMapMove)};if(!bo.disbleSlide&&bp.startAutoSlide){this.drawObj.useSlide=true;bp.startAutoSlide({speedup:true})}ad(this.div,{cursor:""});bd(this,U[5]);return true},setOpacity:function(bo){aS(this.div,this.opacity=bo)
},blur:function(){if(ak._focus!=this){return}delete ak._focus;if(this.div){ad(this.div,{zIndex:this.zIndex})}bd(this,"blur")},onMapMove:function(){var bo=this.drawObj.position;if(!bo){return}this.onMouseMove(bo)},focus:function(){var bo=ak._focus;if(bo!=this){if(bo){bo.blur()}ak._focus=this;if(this.div){ad(this.div,{zIndex:this.zIndex+1})}bd(this,"focus")}},getLatLng:function(){return this.latlng},onMouseMove:function(bo){this.drawObj.position=bo;this.setLatLng(this.map.fromContainerPixelToLatLng(bo))},onDrag:function(br,bo,bq){var bs=this.map,bt={x:bo.x-br.x,y:bo.y-br.y};
if(bq==U[62]){this.dsl=this.latlng;bd(this,U[35],[this.latlng]);if(this.dragSlideMap){bs.startAutoSlide({speed:0.1});this.dsmObj={center:bs.fromLatLngToPixel(bs.getCenter()),sp:br,offset:{x:0,y:0},lis:Q(bs,U[39],this,this.onDragMapSlide)}}this.dragging=true}var bp=this.dsmObj;if(bp){bp.lp=bo;bt.x+=bp.offset.x/bs.getScale();bt.y+=bp.offset.y/bs.getScale()}var bu=bs.fromContainerPixelToLatLng(bt,this.dsl,null,{x:0,y:0});this.setLatLng(bu);if(bq!=U[62]&&bq!="end"){bd(this,"drag",[this.latlng])}if(bq=="end"){this.dragging=false;
delete this.dragObj;if(bp){this.map.endAutoSlide();a6(bp.lis);delete this.dsmObj}bd(this,U[34],[this.latlng])}},getTitle:function(){return this.div.title},getDraggingEnabled:function(){return this.dragEnabled},setTitle:function(bo){this.div.title=this.div.alt=bo},isDragging:function(){return this.dragging},getOpacity:function(){return this.opacity},setDraggingEnabled:function(bo){this.dragEnabled=!!bo},onMouseEvent:function(bo,bq,bp){if(this.drawObj){return}if(!this.dragging&&bo!=U[64]){bb(bp)}if(bo==U[65]&&this.dragEnabled&&!this.dragging){if(this.dragObj){this.dragObj.onMouseUp()
}this.dragObj=new F(this.div,a5(this,this.onDrag),{container:this.map.getContainer(),rtp:this.dragSlideMap?null:(this.dragRtp?this.dragRtp:{x:1,y:1}),interval:this.dragSlideMap?16:(this.dragInterval?this.dragInterval:256)});this.dragObj.onMouseDown(bp)}if(bo==U[64]){this.focus()}},onDragMapSlide:function(){var bo=this.dsmObj,bq=this.map;if(!bo){return}var bp=bq.fromLatLngToPixel(bq.getCenter());bo.offset={x:bp.x-bo.center.x,y:bp.y-bo.center.y};this.onDrag(bo.sp,bo.lp)},setLatLng:function(bo){this.latlng=bo;if(this.map){this.map.onOverlayChange(this)
}},setContainer:function(bs){if(typeof(bs)!=U[67]){var bq=bs;bs=document.createElement("div");bs.innerHTML=bq}ad(bs,{position:U[78],zIndex:this.zIndex},true);var bo=this.div;if(bo&&bo!=bs){if(bo.replaceNode){bo.replaceNode(bs)}else{var bp=bo.parentNode;if(bp){bp.removeChild(bo);bp.appendChild(bs)}}}this.div=bs;if(bo){bs._overlay=bo._overlay;try{delete bo._overlay}catch(br){}}if(this.map){this.reDraw(4)}},endDrawing:function(){var bo=this.drawObj,bp=this.map;if(!bo){return}delete this.drawObj;ad(this.div,{cursor:bo.cursor});
a6(bo.cl);a6(bo.ml);a6(bo.mml);if(bo.useSlide){bp.endAutoSlide()}if(bp.endMarking){bp.endMarking()}if(bp.setCursorText){bp.setCursorText("")}bo=null;bd(this,U[4])},getRectangle:function(){if(!this.coord){return null}return new a(this.coord,this.coord)},getOffset:function(){return this.offset},getSize:function(){return this.size?this.size:{x:this.div.offsetWidth,y:this.div.offsetHeight}},initialize:function(bo){this.map=bo;return true}});function O(bq,bo,bp){aE(this,{image:bq,iconSize:bo,iconAnchor:bp});this.infoWindowAnchor={x:bo.x/2,y:0}
}T(O.prototype,{getCopy:function(){var bo=new O(this.image,this.iconSize,this.iconAnchor);bo.infoWindowAnchor=this.infoWindowAnchor;return bo}});function s(){if(!O._default){O._default=new O(aK+"icon/label_unselected.png",{x:49,y:59},{x:24,y:56});O._default.infoWindowAnchor={x:41,y:9}}return O._default}T(O,{getDefault:s});function p(br,bq){bq=bq?bq:{};var bp=bq.icon;bp=bp?bp:s();var bo=aX(bp.image,{noLoad:true});if(!bq.zIndex){bq.zIndex=500}ak.apply(this,[br,bo,bq]);this.setIcon(bp)}p.prototype=new ak();T(p.prototype,{setIcon:function(bq){this.icon=bq;
var bo=this.div,bp=bq.iconSize;if(this.show){ab(bo,bq.image)}this.anchor=bq.iconAnchor;this.infoWindowAnchor=bq.infoWindowAnchor;if(this.map){ad(bo,{width:bp.x+"px",height:bp.y+"px"});this.reDraw(4)}},getIcon:function(){return this.icon},getSize:function(){return this.icon.iconSize},reDraw:function(bq){if(!this.show){var br=this.div,bp=this.icon,bo=bp.iconSize;ab(br,bp.image);ad(br,{cursor:U[66],width:bo.x+"px",height:bo.y+"px"});this.show=true}ak.prototype.reDraw.apply(this,arguments)}});function aC(bs){this.offset={x:0,y:0};
this.autoResize=true;this.fixContents=[];var br=this.div=document.createElement("div");var bq=this.titleDiv=document.createElement("div");var bp=this.contentDiv=document.createElement("div");ad(bq,{position:U[78],fontSize:U[50],MozUserSelect:"text",WebkitUserSelect:"text",cursor:U[76]});ad(bp,{position:U[78],fontSize:U[50],MozUserSelect:"text",WebkitUserSelect:"text",cursor:U[76]});bc(bq,U[65],bg);bc(bq,U[6],bg);bc(bq,U[25],bg);bc(bp,U[65],bg);bc(bp,U[6],bg);bc(bp,U[25],bg);if(document.all){bc(bq,U[64],bg);bc(bp,U[64],bg)
}Q(this,"add",this,this.changeInfoWin);var bo=bh;this.setRender(new bo());ak.apply(this,[bs,br,{zIndex:560}])}aC.prototype=new ak();T(aC.prototype,{reDraw:function(bq){if(bq<2||!this.map||!this.coord){return}if(!this.inited){this.render.initialize(this);this.inited=true}this.changeInfoWin();var bo=this.map.getGeoPosition(this.coord),bp=this.anchor,br=this.offset;aR(this.div,{x:bo.x-bp.x+br.x,y:bo.y-bp.y+br.y})},setOffset:function(bo){this.offset=bo;this.reDraw(4)},startDrawing:function(){},setContentSize:function(bo){this.size=bo;
if(this.inited){this.reDraw(4)}},getTitleSize:function(){var bq=this.size,bs=this.titleDiv;if(this.map){var br=bs.offsetWidth,bo=bs.offsetHeight;var bp=bs.parentNode;this.map.getContainer().appendChild(bs);br=bs.offsetWidth;bo=bs.offsetHeight;bs.parentNode.removeChild(bs);if(bp){bp.appendChild(bs)}return{x:br,y:bo}}},setRender:function(bo){if(this.render){this.render.depose();delete this.winSize}this.render=bo;this.inited=false;this.reDraw(4)},addFixContent:function(bo){this.contentDiv.appendChild(bo);this.fixContents.push(bo);
ad(bo,{clear:"both"});this.reDraw(4)},close:function(){if(!this.map){return}if(this.map){this.map.removeOverlay(this)}if(this.bindOverlay){this.bindOverlay._infowindow=false;delete this.bindOverlay}bd(this,"close")},getDraggingEnabled:function(){},changeInfoWin:function(){if(!this.map||!this.render){return}if(this.inited){this.render.change()}},setTitle:function(bo){var bp=this.titleDiv;while(bp.firstChild){bp.removeChild(bp.firstChild)}if(typeof(bo)==U[67]){bp.appendChild(bo)}else{bp.innerHTML=bo?bo:""}},openInfoWindow:function(){},setContent:function(bo,br){var bq=this.contentDiv;
while(bq.firstChild){bq.removeChild(bq.firstChild)}if(typeof(bo)==U[67]){bq.appendChild(bo)}else{bq.innerHTML="<div>"+(bo?bo:"")+"</div>"}if(!br){for(var bp=0;bp<this.fixContents.length;bp++){bq.appendChild(this.fixContents[bp]);bd(this.fixContents[bp],"show",[])}}this.reDraw(4)},getContentSize:function(){var bq=this.size,bs=this.contentDiv;if(this.autoResize&&this.map){var br=bs.offsetWidth,bo=bs.offsetHeight;if(br<bq.x||bo==0){var bp=bs.parentNode;this.map.getContainer().appendChild(bs);br=bs.offsetWidth;bo=bs.offsetHeight;
bs.parentNode.removeChild(bs);if(bp){bp.appendChild(bs)}}bq={x:Math.max(br,bq.x),y:Math.max(bo,bq.y)}}return bq},onMouseEvent:function(bo,bs,br){var bp=this.render;if(bp.checkEvent&&!bp.checkEvent(br)){return true}if(!(this.map&&this.map.isDragging&&this.map.isDragging())){bb(br)}if(bo==U[47]){var bq=br.target;while(bq&&!bq._iwe&&bq!=this.div){bq=bq.parentNode}if(bq&&bq._iwe=="close"){this.close();return true}}},setDraggingEnabled:function(){},closeInfoWindow:function(){},endDrawing:function(){},moveIntoView:function(bA){bA=bA?bA:(this._viewPadding||5);
var bq=this.map;if(!bq||!this.winSize){return}var bw=bq.getViewSize(),bx=this.winSize,bp=bq.getTargetCenter?bq.getTargetCenter():bq.getCenter();var bv=bq.fromLatLngToContainerPixel(this.latlng,bp),bu=this.anchor,bt=this.offset;var bs=bv.x-bu.x+bt.x-bA;var bz=bv.y-bu.y+bt.y-bA;var bB=bw.x-bv.x-(bx.x-bu.x)-bt.x-bA;var bo=bw.y-bv.y-(bx.y-bu.y)-bt.y-bA;var br={x:0,y:0};if(bs*bB<0){br.x+=Math.min(bs,bB);if(bB<0){br.x=-br.x}}if(bz*bo<0){br.y+=Math.min(bz,bo);if(bo<0){br.y=-br.y}}if(br.x!=0||br.y!=0){var by=bq.fromContainerPixelToLatLng({x:bw.x/2+br.x,y:bw.y/2+br.y},bp);
if(bq.panTo){bq.panTo(by)}else{bq.setCenter(by)}}}});function aM(br,bq){if(arguments.length==0){return}if(typeof(bq)!=U[67]){bq={color:bq}}this.zIndex=bq.zIndex?bq.zIndex:420;var bp=this.graphics=q(U[59]),bo=bp.getPanel();ad(bo,{zIndex:this.zIndex});if(bq.title){bo.title=bo.alt=bq.title}if(bq.cursor){ad(bo,{cursor:bq.cursor})}this.setPoints(br);aE(this,bq);if(arguments[2]){bq.bgcolor=arguments[2]}if(arguments[3]){bq.weight=arguments[3]}if(arguments[4]){bq.opacity=arguments[4]}this.setLineColor((bq.color||bq.color=="")?bq.color:"#0000FF");
this.setFillColor((bq.bgcolor||bq.bgcolor=="")?bq.bgcolor:"#99FFCC");this.setLineWeight((bq.weight||bq.weight===0)?bq.weight:3);this.setOpacity((bq.opacity||bq.opacity===0)?bq.opacity:0.5);this.setLineStyle(bq.lineStyle?bq.lineStyle:"solid");this.minScale=bq.minScale?bq.minScale:360/256/Math.pow(2,17)}aM.prototype=new n();T(aM.prototype,{getLineColor:function(){return this.color},reDraw:function(br){var bC=this.map,bw=this.getRectangle(),bu=bC.getOverlaysRectangle();var by=Math.min(bw.max.y,bu.max.y);var bz=Math.max(bw.min.y,bu.min.y);
var bA=Math.min(bw.max.x,bu.max.x);var bB=Math.max(bw.min.x,bu.min.x);var bF=bz<=by&&bB<=bA,bx=this.graphics;if(bF){var bE=bC.getScale();if(br&4||br&1){this.drawRectangle=bu;var bt=new a(new bj(bB,bz),new bj(bA,by));var bv=this.getSuctionPoints(bE),bs=this.showScale=bv.showScale;var bp={x:Math.floor(bB/bs),y:Math.floor(bz/bs)},bo={x:Math.ceil(bA/bs),y:Math.ceil(by/bs)};this.painted=this.drawPoints(bv,bp,bo,bx,bt.containsRectangle(bw));if(this.painted&&br&4&&document.all){bx.setLineColor(this.color);bx.setFillColor(this.bgcolor);
bx.setLineWeight(this.weight);bx.setOpacity(this.opacity);bx.setLineStyle(this.lineStyle)}}if(this.painted){var bq=this.drawMinP;var bD=bC.getGeoPosition({x:bq.x*this.showScale,y:bq.y*this.showScale});if(this.offset){bD={x:bD.x+this.offset.x,y:bD.y+this.offset.y}}bx.setPosition(bD);bx.setScale(bE/this.showScale)}}else{bx.clear()}if(this._isEditting){this.checkMarkers(br&4)}},onEditDrag:function(bw){var bq=this.editDragObj;if(!bq){return}var bp=this.map,bx=this.points,bs=bq.index,bu=bx.length,bv=(bq.type=="point");
var bo=bd(this,bv?U[3]:U[2],[bs,bw]);var br=bo?this.color:"gray",bt=this.isLine;if(!bt||bs>0||!bv){var bA=bv?[bx[bs-1>=0?(bs-1):(bu-1)],bw]:[bx[bs],bw];if(!bq.line1){var bz=bq.line1=new aP(bA,br,this.weight,this.opacity);bz.setLineStyle(U[52]);bp.addOverlay(bz)}else{bq.line1.setPoints(bA);bq.line1.setLineColor(br)}}if(!bt||bu>bs+1||!bv){var by=[bw,bx[bs+1<bu?(bs+1):0]];if(!bq.line2){var bz=bq.line2=new aP(by,br,this.weight,this.opacity);bz.setLineStyle(U[52]);bp.addOverlay(bz)}else{bq.line2.setPoints(by);bq.line2.setLineColor(br)
}}bq.isValid=bo},onEditPointMouseOver:function(bo){return function(bu){var bp=this.editSymbols,bq,br=this.points;if(br.length<(this.isLine?3:4)){return}for(bq=bp.length-1;bq>=0;bq--){if(bp[bq]==bo){break}}if(bq<0){return}if(!bd(this,U[1],[bq])){return}var bt=this.editHoverObj;if(bt){if(bt.index==bq){return}else{this.endEditHover()}}var bs=new p(br[bq],{icon:new O(aK+"plo/p_close.jpg",{x:11,y:11},{x:-6,y:6})});this.map.addOverlay(bs);this.editHoverObj={mol:Q(document,U[64],this,this.onEditMouseOut),cl:Q(bs,U[47],this,this.onEditDelete),delBtn:bs,index:bq}
}},onEditLineDragStart:function(bo){return function(br){var bp=this.editSymbols,bq;for(bq=bp.length-1;bq>=0;bq--){if(bp[bq]==bo){break}}if(bq<0){return}if(this.editDragObj){this.endEditDrag()}this.editDragObj={dl:Q(bo.lMarker,"drag",this,this.onEditDrag),del:Q(bo.lMarker,U[34],this,this.endEditDrag),type:"line",index:bq}}},getLineWeight:function(){return this.weight},isDrawing:function(){return !!this.drawObj},addPoint:function(bp,br){if(br&&br!=1){return}var bq=this.points,bo=bq.length,bs=this.map.fromContainerPixelToLatLng(bp);
if(bo==0||!bq[bo-1].equals(bs)){bq.push(bs);this.setPoints(bq)}},endDrawing:function(){var bo=this.drawObj,bp=this.map;if(!bo){return}delete this.drawObj;a6(bo.cl);a6(bo.dl);a6(bo.ml);if(bp.endMarking){bp.endMarking()}if(bp.setDblClickEnable){bp.setDblClickEnable(true)}if(bp.setCursorText){bp.setCursorText("")}if(bp.endAutoSlide){bp.endAutoSlide()}if(bo.preLine){bp.removeOverlay(bo.preLine);delete bo.preLine}bo=null;if(this.points.length<(this.isLine?2:3)){this.setPoints([])}bd(this,U[4])},getSuctionPoints:function(bR){var bF,bM=this.sPoints,bo=Math.round(Math.log(bR/this.minScale)/Math.log(2))-1;
if(bo<0){bo=0}if(bF=bM[bo]){return bF}var bJ,bu=bM.levels;for(bJ=bu.length-1;bJ>=0;bJ--){if(bu[bJ]<bo){break}}bM[bo]=bF=[];bu.splice(bJ+1,0,bo);var bD,bC,bG=bM[bu[bJ]],bL=bG.length,bK=0,br=bo-bu[bJ],bv,bt;var bz,bx,bP,bq,bB,by,bA,bO,bN,bE=this.disableReduce,bw=1;var bQ=Math.sqrt,bp=Math.atan2,bH=Math.min,bI=Math.max,bs=Math.atan;for(bJ=0;bJ<bL;bJ++){bD=bG[bJ].x>>br;bC=bG[bJ].y>>br;if(bJ>0&&bv==bD&&bt==bC){continue}if(!bE&&bJ>0){if(bA){bO=bp(by-bC,bD-bB);if(i(bO-bz)>=0&&i(bx-bO)>=0){bN=bs(bw/bQ((by-bC)*(by-bC)+(bD-bB)*(bD-bB)));
bP=i(bO-bN);if(i(bP-bz)>0){bz=bP}bq=i(bO+bN);if(i(bx-bq)>0){bx=bq}bF[bK-1]={x:(bv=bD),y:(bt=bC)};continue}bA=false}if(!bA){bA=true;by=bt;bB=bv;bO=bp(by-bC,bD-bB);bN=bs(bw/bQ((by-bC)*(by-bC)+(bD-bB)*(bD-bB)));bz=i(bO-bN);bx=i(bO+bN)}}bF.push({x:(bv=bD),y:(bt=bC)});bK++}bF.showScale=(1<<bo)*this.minScale;return bF},focus:function(){var bo=aM._focus;if(bo!=this){if(bo){bo.blur()}aM._focus=this;if(this.getContainer()){ad(this.getContainer(),{zIndex:this.zIndex+1})}bd(this,"focus")}},setLineBorder:function(bq,bo,bp){this.graphics.setLineBorder(bq,bo,bp)
},setOpacity:function(bo){this.graphics.setOpacity(this.opacity=bo)},removeLMarker:function(bo){if(!bo){return}if(bo.lMarker){a6(bo.lmdLis);delete bo.lmdLis;this.map.removeOverlay(bo.lMarker);bo.lMarker.depose();delete bo.lMarker}},removePMarker:function(bo){if(!bo){return}if(bo.pMarker){a6(bo.pmdLis);delete bo.pmdLis;a6(bo.pmoLis);delete bo.pmoLis;this.map.removeOverlay(bo.pMarker);bo.pMarker.depose();delete bo.pMarker}},checkIntersection:function(bx,bv,br,bs,bt){var bo=this.map,bw=bo.fromLatLngToPixel(bx[0]),bu=bo.fromLatLngToPixel(bx[1]);
for(var bq=bv.length-1;bq>=0;bq--){if(br&&bq==bv.length-1){continue}var bp=bq+1<bv.length?(bq+1):0;if(bq==bs||(bt&&bp==bs)){continue}if(f(bw,bu,bo.fromLatLngToPixel(bv[bq]),bo.fromLatLngToPixel(bv[bp]))){return true}}return false},setLineStyle:function(bo){if(!bo){return}this.graphics.setLineStyle(this.lineStyle=bo)},getContainer:function(){return this.graphics.getPanel()},onMapMove:function(bp){var br=this.drawObj,bs=this.points,bo=bs.length,bt=this.map;if(!br||bo<1){return}var bq=[bs[bo-1],bt.fromContainerPixelToLatLng(bp)];
if(bo>1&&!this.isLine){bq.push(bs[0])}if(!br.preLine){br.preLine=new aP(bq,this.color,this.weight,this.opacity);br.preLine.setLineStyle(U[52]);bt.addOverlay(br.preLine)}else{br.preLine.setPoints(bq)}bd(this,"draw",[bp])},removeSymbol:function(bp){var bo=this.editSymbols,bq=bo[bp];this.removePMarker(bq);this.removeLMarker(bq);bo.splice(bp,1)},initPixel:function(bF){this.sPoints={levels:[0]};var bK=this.points,bo=this.nPoints,bL=this.coords=new a(new bj(Number.MAX_VALUE,Number.MAX_VALUE),new bj(-Number.MAX_VALUE,-Number.MAX_VALUE));
bF=bF?bF:(this.map?this.map.getProjection():null);if((!bK&&!bo)||!bF){return}var bC,bB,bE=this.sPoints[0]=[],bN=bK?bK.length:bo.length/2,bM=0,bv,bH,bt,bs,bR=bE.showScale=this.minScale;var by,bw,bQ,bq,bA,bx,bz,bP,bO,bD=this.disableReduce,bu=1;var bS=Math.sqrt,bp=Math.atan2,bG=Math.min,bJ=Math.max,br=Math.atan;for(var bI=0;bI<bN;bI++){bv=bK?bK[bI]:{la:bo[bI*2],lo:bo[bI*2+1]};bH=bF.fromLatLngToPixel(bv);bL.extend(bH);bC=parseInt(bH.x/bR);bB=parseInt(bH.y/bR);if(bI>0&&bt==bC&&bs==bB){continue}if(!bD&&bI>0){if(bz){bP=bp(bx-bB,bC-bA);
if(i(bP-by)>=0&&i(bw-bP)>=0){bO=br(bu/bS((bx-bB)*(bx-bB)+(bC-bA)*(bC-bA)));bQ=i(bP-bO);if(i(bQ-by)>0){by=bQ}bq=i(bP+bO);if(i(bw-bq)>0){bw=bq}bE[bM-1]={x:(bt=bC),y:(bs=bB)};continue}bz=false}if(!bz){bz=true;bx=bs;bA=bt;bP=bp(bx-bB,bC-bA);bO=br(bu/bS((bx-bB)*(bx-bB)+(bC-bA)*(bC-bA)));by=i(bP-bO);bw=i(bP+bO)}}bE.push({x:(bt=bC),y:(bs=bB)});bM++}},endEditDrag:function(bo){var br=this.editDragObj;delete this.editDragObj;if(!br){return}a6(br.dl);a6(br.del);var bs=this.map,bp,bq=this.points;if(bp=br.line1){bs.removeOverlay(bp);
bp.depose();delete br.line1}if(bp=br.line2){bs.removeOverlay(bp);bp.depose();delete br.line2}if(br.isValid){if(bo){if(br.type=="line"){bq.splice(br.index+1,0,bo)}else{bq[br.index]=bo}}this.setPoints(bq);bd(this,br.type=="point"?"aftereditmove":"aftereditadd",[br.index,bo])}else{this.checkMarkers(true)}},endEditHover:function(){var bo=this.editHoverObj;if(!bo){return}delete this.editHoverObj;a6(bo.mol);a6(bo.cl);this.map.removeOverlay(bo.delBtn);bo.delBtn.depose();delete bo.delBtn},startDrawing:function(){var bo=this.map;
if(!bo||this.drawObj){return false}if(bo.startMarking){bo.startMarking()}if(bo.startAutoSlide){bo.startAutoSlide()}if(bo.setDblClickEnable){bo.setDblClickEnable(false)}if(bo.setCursorText){bo.setCursorText("\u5de6\u952e\u5355\u51fb\u589e\u52a0\u70b9\uff0c\u53cc\u51fb\u7ed3\u675f",{offset:{x:10,y:10},style:(this.cursorStyle||{whiteSpace:U[49]})})}this.drawObj={cl:Q(bo,U[47],this,this.addPoint),dl:Q(bo,U[28],this,this.endDrawing),ml:Q(bo,U[64],this,this.onMapMove)};bd(this,U[5]);return true},setFillColor:function(bo){this.graphics.setFillColor(this.bgcolor=bo)
},remove:function(){if(this.drawObj){this.endDrawing()}if(this._isEditting){this.endEditting()}n.prototype.remove.apply(this,arguments)},onEditDelete:function(){var bp=this.editHoverObj;if(!bp){return}var bo=this.points;bo.splice(bp.index,1);this.removeSymbol(bp.index);this.setPoints(bo);bd(this,"aftereditdelete",[bp.index])},onMouseEvent:function(bo,br,bq){if(this.drawObj){return}if(bo==U[65]&&document.releaseCapture){bq.target._needUp=true}var bp=this.map;if(bo==U[64]&&(!document.all||!bp.getTargetScale||bp.getTargetScale()==bp.getScale())){this.focus()
}},setLineColor:function(bo){this.graphics.setLineColor(this.color=bo)},setOffset:function(bo){this.offset=bo;this.reDraw(0)},drawPoints:function(br,bs,bq,bp,bo){this.drawMinP=bs;bp.init(bs,bq,1);if(br.length>=2){if(!bo){br=h(br,bs,bq)}bp.drawPolygon(br)}return true},onEditPointDragStart:function(bo){return function(br){var bp=this.editSymbols,bq;for(bq=bp.length-1;bq>=0;bq--){if(bp[bq]==bo){break}}if(bq<0){return}if(this.editDragObj){this.endEditDrag()}this.editDragObj={dl:Q(bo.pMarker,"drag",this,this.onEditDrag),del:Q(bo.pMarker,U[34],this,this.endEditDrag),type:"point",index:bq}
}},setPoints:function(bo){if(bo&&bo[0]&&typeof(bo[0])!=U[67]){this.nPoints=bo;delete this.points}else{delete this.nPoints;this.points=bo}this.sPoints=null;this.coords=null;if(this.map){this.map.onOverlayChange(this)}if(bo&&bo.length==0&&this.drawObj&&this.drawObj.preLine){this.map.removeOverlay(this.drawObj.preLine);delete this.drawObj.preLine}},blur:function(){if(aM._focus!=this){return}delete aM._focus;if(this.getContainer()){ad(this.getContainer(),{zIndex:this.zIndex})}bd(this,"blur")},setLineWeight:function(bo){if(isNaN(parseInt(bo))){return
}this.graphics.setLineWeight(this.weight=bo)},getOffset:function(){return this.offset?this.offset:{x:0,y:0}},getOpacity:function(){return this.opacity},getPoints:function(){if(this.nPoints){var br=this.nPoints,bo=br.length,bq=[];for(var bp=0;bp<bo;bp+=2){bq.push(new r(br[bp],br[bp+1]))}delete this.nPoints;this.points=bq}return this.points},getLineStyle:function(bo){return this.lineStyle},onEditMouseOut:function(bp){var bo=this.editHoverObj},checkMarkers:function(bs){this.endEditHover();var bF=this.map,bH=bF.getScale(),bA=bF.getOverlaysRectangle(),bC=this.points,bE=bC.length,bo=this.editSymbols;
var by=aK+"plo/",bx=this.editIcon,bB=this.addIcon;if(!bB){bB=this.addIcon=new O(by+"p_add.jpg",{x:9,y:9},{x:5,y:5})}if(!bo){bo=this.editSymbols=new Array(bE)}else{if(bo.length>bE){for(var bD=bo.length-1;bD>=bE;bD--){this.removeSymbol(bD)}}else{if(bo.length<bE){for(var bD=bo.length;bD<bE;bD++){bo.push({})}}}}var bp=-1,bw=16;for(var bD=bE-1;bD>=0;bD--){if(!bo[bD]){bo[bD]={}}var bG=false,bt=false;var bz=-1;if(bA.containsPoint(bF.fromLatLngToPixel(bC[bD]))){if(bp<0&&!(this.isLine&&bD==bE-1)){var br=bF.fromLatLngToPixel(bC[bD]),bq=bF.fromLatLngToPixel(bC[bD+1<bE?(bD+1):0]);
bp=(Math.abs(br.x-bq.x)+Math.abs(br.y-bq.y))/bH}if(bz<0&&!(this.isLine&&bD==0)){var br=bF.fromLatLngToPixel(bC[bD]),bq=bF.fromLatLngToPixel(bC[bD-1>=0?(bD-1):(bE-1)]);bz=(Math.abs(br.x-bq.x)+Math.abs(br.y-bq.y))/bH}if(bp<0||bp>bw||bz<0||bz>bw){bG=true}if(bp>bw*2){bt=true}}bp=bz;if(bG){if(!bo[bD].pMarker){var bu;if(bx){bu=new p(bC[bD],{icon:bx,draggable:true,dragInterval:32})}else{bu=new ak(bC[bD],document.createElement("div"),{draggable:true,dragInterval:32,style:{width:"8px",height:"8px",backgroundColor:U[23],fontSize:"0px",overflow:U[80],border:"solid 1px "+this.color,cursor:U[66]},offset:{x:-4,y:-4}})
}bo[bD].pMarker=bu;bo[bD].pmdLis=Q(bu,U[35],this,this.onEditPointDragStart(bo[bD]));if(!this.editDisableDelete){bo[bD].pmoLis=Q(bu,U[30],this,this.onEditPointMouseOver(bo[bD]))}bF.addOverlay(bu)}else{if(bs){bo[bD].pMarker.setLatLng(bC[bD])}}}else{this.removePMarker(bo[bD])}if(bt&&!this.editDisableAdd){var br=bF.fromLatLngToPixel(bC[bD]),bq=bF.fromLatLngToPixel(bC[bD+1<bE?(bD+1):0]);var bv=bF.fromPixelToLatLng({x:(br.x+bq.x)/2,y:(br.y+bq.y)/2});if(!bo[bD].lMarker){var bu=bo[bD].lMarker=new p(bv,{icon:bB,draggable:true,dragInterval:32});
bo[bD].lmdLis=Q(bu,U[35],this,this.onEditLineDragStart(bo[bD]));bF.addOverlay(bu)}else{if(bs){bo[bD].lMarker.setLatLng(bv)}}}else{this.removeLMarker(bo[bD])}}},endEditting:function(){this._isEditting=false;this.endEditHover();this.endEditDrag();var bo=this.editSymbols;if(bo){for(var bp=bo.length-1;bp>=0;bp--){this.removeSymbol(bp)}}delete this.editSymbols},initialize:function(bo){this.map=bo;return true},startEditting:function(bo){bo=bo?bo:{};this._isEditting=true;this.editDisableAdd=!!bo.disableAdd;this.editDisableDelete=!!bo.disableDelete;
if(this.points.length<=1){return}if(bo.disableIntersection){if(!bo.disableAdd){Q(this,U[1],this,function(bq){var br=this.points,bp=[br[bq-1>=0?bq-1:br.length-1],br[bq+1<br.length?bq+1:0]];if(this.checkIntersection(bp,br,this.isLine,bq,true)){return false}})}Q(this,U[3],this,function(bt,bq){var bu=this.points,bp=bu.length,br,bs=this.isLine;if(!bs||bt>0){br=[bu[bt-1>=0?(bt-1):(bp-1)],bq];if(this.checkIntersection(br,bu,bs,bt,true)){return false}}if(!bs||bp>bt+1){br=[bq,bu[bt+1<bp?(bt+1):0]];if(this.checkIntersection(br,bu,bs,bt,true)){return false
}}return true});if(!bo.disableDelete){Q(this,U[2],this,function(bt,bq){var bu=this.points,bp=bu.length,br,bs=this.isLine;br=[bu[bt],bq];if(this.checkIntersection(br,bu,bs,bt,false)){return false}br=[bq,bu[bt+1<bp?(bt+1):0]];if(this.checkIntersection(br,bu,bs,bt,false)){return false}return true})}}this.checkMarkers(true)},getFillColor:function(){return this.bgcolor},getRectangle:function(){return this.coords}});function q(bp){var bo=[bk,G,aL,ah];for(var bq=0;bq<bo.length;bq++){if(bo[bq].isSupport()){return new bo[bq]({shape:bp})
}}return new L(true)}function i(bo){if(bo>Math.PI){bo-=Math.PI*2}if(bo<-Math.PI){bo+=Math.PI*2}return bo}function h(bp,bq,bo){bp=g(bp,bq.x,false,false);bp=g(bp,bo.x,true,false);bp=g(bp,bq.y,false,true);bp=g(bp,bo.y,true,true);return bp}function g(by,bo,br,bA){var bx=[],bs=by.length;for(var bp=0;bp<bs;bp++){var bz=by[bp],bw=by[((bp+1)<bs)?(bp+1):0];if(bz.x==bw.x&&bz.y==bw.y){continue}var bv=bA?bz.y:bz.x,bu=bA?bw.y:bw.x;var bt=(br==(bv<bo)),bq=(br==(bu<bo));if(bt!=bq){bx.push(e(bz,bw,bo,bA))}if(bq){bx.push(bw)
}}return bx}function f(bp,bo,bt,bs){var br=bp.x*(bt.y-bo.y)+bo.x*(bp.y-bt.y)+bt.x*(bo.y-bp.y);var bq=bp.x*(bs.y-bo.y)+bo.x*(bp.y-bs.y)+bs.x*(bo.y-bp.y);if(((br*bq)>=0)&&!(br==0&&bq==0)){return false}br=bt.x*(bp.y-bs.y)+bs.x*(bt.y-bp.y)+bp.x*(bs.y-bt.y);bq=bt.x*(bo.y-bs.y)+bs.x*(bt.y-bo.y)+bo.x*(bs.y-bt.y);if(((br*bq)>=0)&&!(br==0&&bq==0)){return false}return true}function e(br,bq,bo,bp){if(bp){return{x:(br.x+(bq.x-br.x)/(bq.y-br.y)*(bo-br.y)),y:bo}}else{return{x:bo,y:(br.y+(bq.y-br.y)/(bq.x-br.x)*(bo-br.x))}
}}T(aM,{getGraphics:q,getAngle:i,runClipping:h,clipSide:g,IsIntersection:f,intersect:e});function aP(bp,bo){if(typeof(bo)!=U[67]){bo={color:bo}}if(arguments[2]){bo.weight=arguments[2]}if(arguments[3]){bo.opacity=arguments[3]}bo.zIndex=bo.zIndex|440;bo.bgcolor="";bo.isLine=true;aM.apply(this,[bp,bo])}aP.prototype=new aM();T(aP.prototype,{drawPoints:function(bC,bq,bo,bI,bp){var bu=bC.length,bD=-1,by,bJ,bs,bO=this.map,bv,bw=[],br,bN,bL,bM,bK;var bH=bo.x,bG=bo.y,bF=bq.x,bE=bq.y,bB=Math.max,bx=Math.min;if(!bp){bN=bF;
bL=bE;bM=bH;bK=bG}for(var bA=0;bA<bu;bA++){by=bC[bA];if(bp||(by.x>=bN&&by.y>=bL&&by.x<=bM&&by.y<=bK)){bH=bx(bH,by.x);bG=bx(bG,by.y);bF=bB(bF,by.x);bE=bB(bE,by.y);if(bA==0){br=[by]}else{if(bD==bA-1){br.push(by)}else{bv=this.getIntersection(bq,bo,bC[bA-1],by);bJ=bv[0];bH=bx(bH,bJ.x);bG=bx(bG,bJ.y);bF=bB(bF,bJ.x);bE=bB(bE,bJ.y);br=[bJ,by]}}bs=by;bD=bA}else{if(bA!=0&&bD==bA-1){bv=this.getIntersection(bq,bo,bC[bA-1],by);if(bJ=bv[0]){bH=bx(bH,bJ.x);bG=bx(bG,bJ.y);bF=bB(bF,bJ.x);bE=bB(bE,bJ.y);br.push(bJ)}}if(br){bw.push(br);
br=null}if(bA!=0&&bD!=bA-1){bv=this.getIntersection(bq,bo,bC[bA-1],by);if(bv.length==2){bJ=bv[0];bH=bx(bH,bJ.x);bG=bx(bG,bJ.y);bF=bB(bF,bJ.x);bE=bB(bE,bJ.y);bJ=bv[1];bH=bx(bH,bJ.x);bG=bx(bG,bJ.y);bF=bB(bF,bJ.x);bE=bB(bE,bJ.y);bw.push(bv)}}}}if(bF<bH||bE<bG){bI.clear();return false}bI.init({x:bH,y:bG},{x:bF,y:bE},1);this.drawMinP={x:bH,y:bG};if(br){bw.push(br)}for(var bA=bw.length-1;bA>=0;bA--){var bt=[];for(var bz=0;bz<bw[bA].length;bz++){bt.push(bw[bA][bz].x);bt.push(bw[bA][bz].y)}bI.drawPolyline(bw[bA])}return true
},getIntersection:function(bB,bA,bt,bC){var bs,by,br=[],bw=bB.x,bv=bB.y,bq=bA.x,bo=bA.y;if(bt.y==bC.y){if(bt.x==bC.x){return br}if(bt.y>=bv&&bt.y<=bo){bs=bt.x<bw?-1:(bt.x>bq?1:0);by=bC.x<bw?-1:(bC.x>bq?1:0);if(bs==by){return br}if(bs+by<=0){br.push({x:bw,y:bt.y})}if(bs+by>=0){br.push({x:bq,y:bt.y})}}return br}else{if(bt.x==bC.x){if(bt.x>=bw&&bt.x<=bq){bs=bt.y<bv?-1:(bt.y>bo?1:0);by=bC.y<bv?-1:(bC.y>bo?1:0);if(bs==by){return br}if(bs+by<=0){br.push({x:bt.x,y:bv})}if(bs+by>=0){br.push({x:bt.x,y:bo})}}return br
}}var bu=(bC.y-bt.y)*(bw-bt.x)/(bC.x-bt.x)+bt.y;if(bu>=bv&&bu<=bo&&(bu-bt.y)*(bu-bC.y)<=0){(bu>bv&&bu<bo)?br.unshift({x:bw,y:bu}):br.push({x:bw,y:bu})}var bx=(bC.y-bt.y)*(bq-bt.x)/(bC.x-bt.x)+bt.y;if(bx>=bv&&bx<=bo&&(bx-bt.y)*(bx-bC.y)<=0){(bx>bv&&bx<bo)?br.unshift({x:bq,y:bx}):br.push({x:bq,y:bx})}var bp=(bC.x-bt.x)*(bo-bt.y)/(bC.y-bt.y)+bt.x;if(bp>=bw&&bp<=bq&&(bp-bt.x)*(bp-bC.x)<=0){(bp>bw&&bp<bq)?br.unshift({x:bp,y:bo}):br.push({x:bp,y:bo})}var bz=(bC.x-bt.x)*(bv-bt.y)/(bC.y-bt.y)+bt.x;if(bz>=bw&&bz<=bq&&(bz-bt.x)*(bz-bC.x)<=0){(bz>bw&&bz<bq)?br.unshift({x:bz,y:bv}):br.push({x:bz,y:bv})
}if(br.length>=2){if(br[0].x==br[br.length-1].x){br.pop()}}return br}});function a2(bq,bp){if(bq===true){return}this.bounds=bq;if(!bp||typeof(bp)!=U[67]){bp={color:bp}}var br=this.div=this.createDiv();ad(br,{},true);if(bp.title){br.title=br.alt=bp.title}this.cursorStyle=bp.cursorStyle||{whiteSpace:U[49]};if(bp.cursor){ad(br,{cursor:(this.cursor=bp.cursor)})}ad(br,{position:U[78],zIndex:(bp.zIndex?bp.zIndex:420),fontSize:"0px",overflow:U[80]});if(arguments[2]){bp.bgcolor=arguments[2]}if(arguments[3]){bp.weight=arguments[3]
}if(arguments[4]){bp.opacity=arguments[4]}this.setLineColor((bp.color||bp.color=="")?bp.color:"#0000FF");this.setFillColor((bp.bgcolor||bp.bgcolor=="")?bp.bgcolor:"#99FFCC");this.setLineWeight((bp.weight||bp.weight===0)?bp.weight:3);this.setOpacity((bp.opacity||bp.opacity===0)?bp.opacity:0.5);this.setLineStyle(bp.lineStyle?bp.lineStyle:"solid");if(bp.image){var bo=aX(bp.image);ad(bo,{position:U[78],width:U[77],height:U[77]});this.div.appendChild(bo)}this.editSymbolNumber=8}a2.prototype=new n();T(a2.prototype,{reDraw:function(){var bp=this.map,bz=this.coords,by=bp.getOverlaysRectangle();
var bo=Math.min(bz.max.y,by.max.y);var bs=Math.max(bz.min.y,by.min.y);var bq=Math.min(bz.max.x,by.max.x);var bw=Math.max(bz.min.x,by.min.x);var bt=bs<=bo&&bw<=bq,bx=this.graphics;if(bt){var bv=bp.getScale(),bu=bp.getGeoPosition(new bj(bw,bs)),br=bp.getGeoPosition(new bj(bq,bo));aR(this.div,{x:bu.x-Math.ceil(this.weight/2),y:bu.y-Math.ceil(this.weight/2)});aF(this.div,{x:Math.abs(br.x-bu.x-this.weight),y:Math.abs(br.y-bu.y-this.weight)});ad(this.div,{display:""})}else{ad(this.div,{display:U[81]})}},setBounds:function(bo){this.bounds=bo;
if(this.map){this.map.onOverlayChange(this)}if(this._isEditting){this.checkMarkers()}},remove:function(){this.endDrawing();this.endEditting();n.prototype.remove.apply(this,arguments)},setFillColor:function(bo){ad(this.div,{backgroundColor:(this.bgcolor=bo)})},setLineWeight:function(bo){ad(this.div,{borderWidth:(this.weight=bo)+"px"})},initPixel:function(){var bo=this.bounds,bq=this.map;if(!bo||!bq){return}var br=bq.fromLatLngToPixel(bo.sw),bp=bq.fromLatLngToPixel(bo.ne);this.coords=new a(new bj(Math.min(br.x,bp.x),Math.min(br.y,bp.y)),new bj(Math.max(br.x,bp.x),Math.max(br.y,bp.y)))
},startDrawing:function(){var bo=this.map;if(!bo||this.drawObj){return false}if(bo.startMarking){bo.startMarking()}if(bo.setCursorText){bo.setCursorText("\u62d6\u62fd\u7ed8\u5236\u77e9\u5f62",{offset:{x:10,y:10},style:this.cursorStyle})}if((this.mapDragFlag=(bo.draggingEnabled&&bo.draggingEnabled()))){bo.disableDragging()}this.drawObj={cl:Q(bo,U[65],this,this.onDrawStart)};bd(this,U[5]);this.lastBounds=this.bounds;this.setBounds(null);return true},setOpacity:function(bo){aS(this.div,this.opacity=bo)},checkMarkers:function(){if(!this.bounds){if(this.editSymbols){var bo=this.editSymbols,by,bF=this.map;
delete this.editSymbols;while(typeof(by=bo.pop())==U[67]){if(!by){continue}bF.removeOverlay(by);by.depose()}}return}var bF=this.map,bs=this.bounds,bq=bF.fromLatLngToPixel(bs.sw),bp=bF.fromLatLngToPixel(bs.ne),bE,bu=this.editSymbols;var bD=Math.min(bq.x,bp.x),bB=Math.min(bq.y,bp.y),bC=Math.max(bq.x,bp.x),bA=Math.max(bq.y,bp.y);if(!bu){bu=this.editSymbols=[];bE=true}for(var bz=0;bz<9;bz++){if(bz==4||(bz%3!=1&&parseInt(bz/3)!=1&&this.editSymbolNumber==4)||(bz%3+parseInt(bz/3)!=2&&this.editSymbolNumber==2)){if(bE){bu.push(null)
}continue}var bw=parseInt(bz/3),bv=bz%3,bx=bF.fromPixelToLatLng({x:bD+(bC-bD)*bw/2,y:bA+(bB-bA)*bv/2});if(bE){var br=(bv!=1?(bv==0?"s":"n"):"")+(bw!=1?(bw==0?"w":"e"):"")+U[0];var bt=new ak(bx,document.createElement("div"),{dragRtp:{x:(bw==1)?0:1,y:(bv==1)?0:1},style:{width:"8px",height:"8px",backgroundColor:U[55],cursor:br},offset:{x:-5,y:-5},dragInterval:16});bF.addOverlay(bt);bt.setDraggingEnabled(true);bt._index=bz;Q(bt,"drag",this,this.onEditDrag(bt));Q(bt,U[35],this,function(){bd(this,"editresizestart")
});Q(bt,U[34],this,function(){bd(this,"editresizeend")});bu.push(bt)}else{var bt=bu[bz];if(bt&&!bt.isDragging()){bt.setLatLng(bx)}}}},onDrawStart:function(bo){var bp=this.drawObj,bq=this.map;var br=bp.sp=bp.ep=this.map.fromContainerPixelToLatLng(bo);bq.addOverlay(bp.preRect=this.getAuxiliary(new ao(br,br)));bp.ml=Q(bq,U[64],this,this.onMapMove);bp.ul=Q(bq,U[63],this,this.endDrawing)},onEditDrag:function(bo){return function(bs){var bt=this.editSymbols,bC=parseInt(bo._index),br=this.bounds,bI=this.map;var bB=bI.fromLatLngToPixel(br.sw),bD=bI.fromLatLngToPixel(br.ne),bz=bI.fromLatLngToPixel(bs);
var bF=Math.min(bB.y,bD.y),bH=Math.min(bB.x,bD.x),bE=Math.max(bB.y,bD.y),bG=Math.max(bB.x,bD.x),bu=bz.y,bv=bz.x;if(this.datum){var bA=bI.fromLatLngToPixel(this.datum),bx=bA.x,bw=bA.y;if(bC%3==2&&bF!=bw){bE=(bE-bw)*(bu-bw)/(bF-bw)+bw;bF=bu}if(parseInt(bC/3)==0){bG=(bG-bx)*(bv-bx)/(bH-bx)+bx;bH=bv}if(bC%3==0&&bE!=bw){bF=(bF-bw)*(bu-bw)/(bE-bw)+bw;bE=bu}if(parseInt(bC/3)==2){bH=(bH-bx)*(bv-bx)/(bG-bx)+bx;bG=bv}}else{if(bC%3==2){bF=bu}if(parseInt(bC/3)==0){bH=bv}if(bC%3==0){bE=bu}if(parseInt(bC/3)==2){bG=bv}}if(bG<bH){var bv=bG;
bG=bH;bH=bv;var bp=[];for(var bC=0;bC<bt.length;bC++){var by=this.editSymbols[(2-parseInt(bC/3))*3+bC%3];bp.push(by);if(!by){continue}by._index=bC;var bv=parseInt(bC/3),bu=bC%3;var bq=(bu!=1?(bu==0?"s":"n"):"")+(bv!=1?(bv==0?"w":"e"):"")+U[0];ad(by.getContainer(),{cursor:bq})}this.editSymbols=bt=bp}if(bE<bF){var bu=bE;bE=bF;bF=bu;var bp=[];for(var bC=0;bC<bt.length;bC++){var by=this.editSymbols[parseInt(bC/3)*3+(2-bC%3)];bp.push(by);if(!by){continue}by._index=bC;var bv=parseInt(bC/3),bu=bC%3;var bq=(bu!=1?(bu==0?"s":"n"):"")+(bv!=1?(bv==0?"w":"e"):"")+U[0];
ad(by.getContainer(),{cursor:bq})}this.editSymbols=bt=bp}this.setBounds(new ao(bI.fromPixelToLatLng(new bj(bH,bE)),bI.fromPixelToLatLng(new bj(bG,bF))));bd(this,"editresize")}},onMapMove:function(bo){var bq=this.drawObj,bt=this.map,bs=bq.sp;var bp=bq.ep=this.map.fromContainerPixelToLatLng(bo);var br=new ao(bs,bp);bq.preRect.setBounds(br);bd(this,"draw",[br])},onDrag:function(bs,bq,br){if(br==U[62]){this.dsb=this.bounds;this.dragging=true;bd(this,"editmovestart");for(var bp=0;bp<this.editSymbols.length;bp++){if(bp==4){continue
}this.map.removeOverlay(this.editSymbols[bp])}}var bo=this.map.fromContainerPixelToLatLng({x:bq.x-bs.x,y:bq.y-bs.y},this.dsb.sw,null,{x:0,y:0});var bt=this.map.fromContainerPixelToLatLng({x:bq.x-bs.x,y:bq.y-bs.y},this.dsb.ne,null,{x:0,y:0});this.setBounds(new ao(bo,bt));if(br!=U[62]&&br!="end"){bd(this,"editmove")}if(br=="end"){this.dragging=false;delete this.dragObj;bd(this,"editmoveend");for(var bp=0;bp<this.editSymbols.length;bp++){if(bp==4){continue}this.map.addOverlay(this.editSymbols[bp])}}},startEditting:function(bo){if(!this.map||this._isEditting){return
}bo=bo?bo:{};ad(this.div,{cursor:"move"});this._isEditting=true;this.checkMarkers()},getFillColor:function(){return this.bgcolor},setLineStyle:function(bo){if(!bo){return}ad(this.div,{borderStyle:(this.lineStyle=bo)})},getOpacity:function(){return this.opacity},getLineStyle:function(bo){return this.lineStyle},setLineColor:function(bo){ad(this.div,{borderColor:(this.color=bo)})},onMouseEvent:function(bo,bq,bp){if(this.drawObj){return}if(bo==U[65]&&this._isEditting&&!this.dragging){if(this.dragObj){this.dragObj.onMouseUp()
}this.dragObj=new F(this.div,a5(this,this.onDrag),{container:this.map.getContainer(),rtp:{x:1,y:1},interval:16}).onMouseDown(bp)}},getLineColor:function(){return this.color},createDiv:function(){return document.createElement("div")},getLineWeight:function(){return this.weight},setDatum:function(bo){this.datum=bo},getBounds:function(){return this.bounds},endDrawing:function(){var bp=this.drawObj,bs=this.map;if(!bp){return}delete this.drawObj;a6(bp.cl);a6(bp.ul);a6(bp.ml);if(this.mapDragFlag){bs.enableDragging()
}if(bs.endMarking){bs.endMarking()}if(bs.setCursorText){bs.setCursorText()}if(bp.preRect){bs.removeOverlay(bp.preRect);delete bp.preRect}var bq,br=bp.sp,bo=bp.ep;if(br&&bo){bq=new ao(br,bo)}else{bq=this.lastBounds}this.setBounds(bq);bp=null;bd(this,U[4])},getRectangle:function(){return this.coords},getAuxiliary:function(bo){return new a2(bo,{color:this.color,bgcolor:this.bgcolor,weight:this.weight,opacity:this.opacity,lineStyle:U[52]})},endEditting:function(){if(!this._isEditting){return}this._isEditting=false;
ad(this.div,{cursor:this.cursor});a6(this.editDragLis);delete this.editDragLis;var bo=this.editSymbols,bp,bq=this.map;delete this.editSymbols;while(typeof(bp=bo.pop())==U[67]){if(!bp){continue}bq.removeOverlay(bp);bp.depose()}},initialize:function(bo){this.map=bo;return true}});function bl(bp,bo){a2.apply(this,arguments);this.editSymbolNumber=2}bl.prototype=new a2();T(bl.prototype,{setLineColor:function(bo){this.graphics.setLineColor(this.color=bo)},getAuxiliary:function(bo){return new bl(bo,{color:this.color,bgcolor:this.bgcolor,weight:this.weight,opacity:this.opacity,lineStyle:U[52]})
},reDraw:function(){var br=this.map,bq=this.coords,bp=this.graphics,bo=br.getGeoPosition(bq.min);bp.init(bo,br.getGeoPosition(bq.max),1);bp.setPosition(bo);bp.setScale(1)},createDiv:function(){var bo=this.graphics=q(U[61]);return bo.getPanel()},setOpacity:function(bo){this.graphics.setOpacity(this.opacity=bo)},setFillColor:function(bo){this.graphics.setFillColor(this.bgcolor=bo)},setLineWeight:function(bo){this.graphics.setLineWeight(this.weight=bo)},setLineStyle:function(bo){this.graphics.setLineStyle(this.lineStyle=bo)
}});function r(bp,bo){this.la=parseFloat(bp);this.lo=parseFloat(bo)}T(r.prototype,{lat:function(){return this.la},equals:function(bo){return bo&&bo.lat()==this.la&&bo.lng()==this.lo},lng:function(){return this.lo}});function d(bx){var bq=0,bt=6371.004,bo=Math.PI/180;for(var bu=bx.length-2;bu>=0;bu--){var bp=bx[bu],by=bx[bu+1],bv,bs,br,bw;bv=(by.lo-bp.lo)*bo;bs=Math.PI/2-bp.la*bo;br=Math.PI/2-by.la*bo;bw=Math.cos(br)*Math.cos(bs)+Math.sin(br)*Math.sin(bs)*Math.cos(bv);bw=Math.min(Math.max(bw,-1),1);bq+=bt*Math.acos(bw)*1000
}return Math.round(bq)}T(r,{getDistance:d});function ao(bo,bp){this.sw=bo;this.ne=bp}T(ao.prototype,{extend:function(bp){var bq=bp.lo,bs=bp.la,bo=this.sw,br=this.ne;if(bo.lo>bq){bo.lo=bq}if(br.lo<bq){br.lo=bq}if(bo.la>bs){bo.la=bs}if(br.la<bs){br.la=bs}return this},getCenter:function(){return new r((this.sw.la+this.ne.la)/2,(this.sw.lo+this.ne.lo)/2)},containsBounds:function(bo){return(bo.sw.lo>=this.sw.lo&&bo.ne.lo<=this.ne.lo&&bo.sw.la>=this.sw.la&&bo.ne.la<=this.ne.la)},containsLatLng:function(bo){return(bo.lo>=this.sw.lo&&bo.lo<this.ne.lo&&bo.la>=this.sw.la&&bo.la<this.ne.la)
},intersects:function(bo){return(bo.ne.lo>=this.sw.lo&&bo.sw.lo<=this.ne.lo&&bo.ne.la>=this.sw.la&&bo.sw.la<=this.ne.la)},getSouthWest:function(){return this.sw},getNorthEast:function(){return this.ne}});function c(bp){var bq=new ao(new r(Number.MAX_VALUE,Number.MAX_VALUE),new r(-Number.MAX_VALUE,-Number.MAX_VALUE));for(var bo=bp.length-1;bo>=0;bo--){bq.extend(bp[bo])}return bq}T(ao,{getLatLngBounds:c});function a4(bp,bq){this.config=bq=bq?bq:{};this.initContainer(bp);this.setViewSize();this.controls=[];if(document.createDocumentFragment){this.containerFragment=document.createDocumentFragment()
}var bt=bq.initControls?bq.initControls:[ai,aI,aA,I,a3,ap,bi,m,aN,H,j,av,aG,Y,l,al,D,{argu:[[{html:"&copy; 2011 Aliyun",minWidth:-1},{html:'&copy; 2011 Aliyun \u2013 Map Data &copy; <a href="http://www.autonavi.com/" target="_blank"><font color="#000000">AutoNavi</font></a>',minWidth:400}],{x:0,y:1},{x:10,y:-18},{fontSize:"11px",color:U[55],fontFamily:"Arial",height:"20px"}],cla:B}];for(var br=0;br<bt.length;br++){var bs=bt[br],bu,bo=bs.argu;this.addControl(bs.cla?new bs.cla(bo[0],bo[1],bo[2],bo[3],bo[4],bo[5]):new bs())
}if(this.containerFragment){this.container.appendChild(this.containerFragment);delete this.containerFragment}}T(a4.prototype,{getScale:function(){return this.scale},setCenter:function(bo){if(!bo||bo.equals(this.center)){return}var bp=bo.lo;if(bp<-180||bp>180){while(bp<-180){bp+=360}while(bp>180){bp-=360}bo=new r(bo.la,bp)}if(!this.loaded){this.center=bo;this.initialize();return}if(!this.loaded){return}if(!bd(this,"beforemove",[bo])){return false}this.center=bo;bd(this,U[39],[bo]);return true},removeControl:function(bo){if(!bo){return
}bo.remove();az(this.controls,bo);bd(this,"removecontrol",[bo])},setScale:function(bo){if(!bo||(this.scale&&this.scale==bo)){return}if(!this.loaded){this.scale=bo;this.initialize();return}if(!this.loaded){return}if(!bd(this,U[42],[bo])){return false}this.scale=bo;bd(this,U[41],[bo]);return true},getContainer:function(){return this.container},getCenter:function(){return this.center},initialize:function(){if(this.loaded||!this.center||!this.scale){return}this.loaded=true;bd(this,U[43])},depose:function(){var bo=this.controls;
for(var bp=bo.length-1;bp>=0;bp--){this.removeControl(bo[bp])}bf(this.container,true)},initContainer:function(bo){try{document.execCommand("BackgroundImageCache",false,true)}catch(bq){}var br;bo=this.container=af(bo);ad(bo,this.containerStyle,true);aH(bo);var bp=bo.style;if(bp.position!=U[78]){bp.position=U[69]}ad(bo,{textAlign:U[22],overflow:U[80]});while(br=bo.firstChild){bo.removeChild(br)}},addControl:function(bp){if(!bp){return false}var bo=this.containerFragment;if(bp.initialize(this,bo?bo:this.container)==false){return false
}this.controls.push(bp);bd(this,"addcontrol",[bp]);return true},getViewSize:function(){return this.viewSize},setViewSize:function(bo){if(bo&&(!bo.x||!bo.y)){bo=null}var bq=this.viewSize,bp=!!bo;bo=bo?bo:ac(this.container);if(bq&&bo.x==bq.x&&bo.y==bq.y){return}if(bp){aF(this.container,bo)}this.viewSize=bo;bd(this,U[46],[bo])}});function ag(bq,bp){for(var bo in bp){if(bq[bo]){if(typeof(bp[bo])==U[67]){ag(bq[bo],bp[bo])}}else{bq[bo]=bp[bo]}}}ag(window,{AliMapTileLayer:aO,AliMapAnchorTileRender:au,AliMapType:a1,AliMapOverviewControl:an,AliMapControl:o,AliMap:a4,AliMapMouseWheelControl:aJ,AliMapScaleControl:R,AliMenuItem:aD,AliPolyline:aP,AliMapOverlayTileRender:bn,AliMapKeyboardControl:k,AliRectangle:a,AliInfoWindow:aC,AliMapMercatorProjection:E,AliMapContextMenuControl:D,AliRectOverlay:a2,AliPolygon:aM,AliOvalOverlay:bl,AliLatLng:r,AliUtils:aj,AliPointOverlay:ak,AliIcon:O,AliMapProjection:ba,AliEvent:N,AliPoint:bj,AliMapLargeControl:am,AliMapOverlay:n,AliMapImgTileRender:bm,AliMarker:p,AliBounds:ao,AliMapTypeControl:u,alimap:{Rectangle:a,MapType:a1,Event:N,MenuItem:{MenuItem:aD},Point:bj,Utils:aj,LatLng:r,Projection:{Projection:ba,Mercator:E},Layer:{TileRender:{Img:bm,Overlay:bn,Ancho:au},Tile:aO},Map:a4,Control:{Overview:an,ContextMenu:D,Control:o,Scale:R,MouseWheel:aJ,Type:u,Keyboard:k,Large:am},Icon:O,Overlay:{InfoWindowRender:{RoundRect:bh},Marker:p,Point:ak,Oval:bl,Polyline:aP,Polygon:aM,InfoWindow:aC,Overlay:n,Rect:a2},Bounds:ao},AliMapInfoWindowRenderRoundRect:bh})
})({pubTime:"2010-12-28",timestamp:1293526690661,version:"0.24"});